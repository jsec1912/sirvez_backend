(this["webpackJsonpjumbo-hooks"]=this["webpackJsonpjumbo-hooks"]||[]).push([[52],{1383:function(e,a,t){"use strict";t.r(a);var n=t(9),c=t(0),r=t.n(c),l=t(480),s=t(50),i=t(3),o=t(487),m=t(467),d=t(445),u=t(448),g=t(29),p=t(27),f=t(447),h=t(490),v=t.n(h);a.default=function(e){var a=Object(c.useState)(""),t=Object(n.a)(a,2),h=t[0],b=t[1],N=Object(c.useState)(0),E=Object(n.a)(N,2),y=E[0],j=E[1],O=Object(c.useState)(null),S=Object(n.a)(O,2),k=S[0],w=S[1],C=Object(c.useState)("https://via.placeholder.com/300x300"),_=Object(n.a)(C,2),x=_[0],T=_[1],M=Object(c.useState)(1),P=Object(n.a)(M,2),B=P[0],D=P[1],A=Object(c.useState)([]),J=Object(n.a)(A,2),R=J[0],z=J[1],I=Object(p.g)(),L=Object(c.useState)(!1),U=Object(n.a)(L,2),W=U[0],F=U[1];Object(c.useEffect)((function(){g.a.get(g.b+"category/categoryList").then((function(e){z(e.data.category)})).catch((function(e){F(!0)}))}),[]);return r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(l.a,{match:e.match,title:r.a.createElement(i.a,{id:"sidebar.stickers.addnew"})}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-3 col-lg-5 col-md-6 col-12"},r.a.createElement("div",{className:"jr-card pb-2"},r.a.createElement("div",{className:"jr-card-thumb"},r.a.createElement("img",{className:"card-img-top img-fluid",alt:"products",src:x})),r.a.createElement("input",{type:"file",id:"add_img",accept:".svg",name:"add_img",style:{display:"none"},onChange:function(e){return function(e){e.preventDefault();var a=new FileReader,t=e.target.files[0];a.onloadend=function(){w(t),T(a.result)},a.readAsDataURL(t)}(e)}}),r.a.createElement("div",{className:"jr-card-social text-right"},r.a.createElement(f.a,{className:"jr-fab-btn bg-secondary text-white jr-btn-fab-xs mb-3",onClick:function(e){document.getElementById("add_img").click()}},r.a.createElement("i",{className:"zmdi zmdi-cloud-upload zmdi-hc-1x"}))))),r.a.createElement(o.a,{styleName:"col-xl-9 col-lg-7 col-md-6 col-12"},r.a.createElement("form",{className:"row",autoComplete:"off"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement(m.a,{id:"sticker_name",label:"Name",value:h,onChange:function(e){return b(e.target.value)},margin:"normal",helperText:"Please Enter Name",fullWidth:!0})),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement(m.a,{id:"category",select:!0,label:"Category",value:y,onChange:function(e){return j(e.target.value)},SelectProps:{},helperText:"Please select Category",margin:"normal",fullWidth:!0},R.map((function(e){return r.a.createElement(u.a,{key:e.id,value:e.id},e.name)})))),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement(m.a,{id:"status",select:!0,label:"Status",value:B,onChange:function(e){D(e.target.value)},SelectProps:{},helperText:"Please select Status",margin:"normal",fullWidth:!0},[{id:1,content:"Active"},{id:0,content:"Deactive"}].map((function(e){return r.a.createElement(u.a,{key:e.id,value:e.id},e.content)})))),r.a.createElement("div",{className:"col-md-12 col-12 text-right"},r.a.createElement(d.a,{variant:"contained",color:"primary",className:"jr-btn",onClick:function(){return function(){var e=JSON.parse(localStorage.getItem("user")).first_name+"_"+(new Date).getTime(),a=new FormData;a.append("id",e),a.append("name",h),a.append("category_id",y),a.append("stiker_img",k),a.append("status",B),g.a.post(g.b+"sticker/updateSticker",a).then((function(e){"success"===e.data.status?navigator.onLine&&I.push({pathname:"/app/stickers/Categories",state:{id:e.data.id}}):"error"===e.data.status&&s.NotificationManager.error(e.data.msg,"Error!",1e3,(function(){}))})).catch((function(e){s.NotificationManager.error(e,"Error!",1e3,(function(){}))})),navigator.onLine||caches.open("SirvezApp").then((function(a){var t="";k&&(t=(new Date).getTime()+"_new.jpeg",a.put("/pixie/assets/images/stickers/"+y+"/"+t,new Response(k)));var n={id:e,name:h,category_id:y,stiker_img:t},c={stiker:n},r=new Response(JSON.stringify(c),{headers:{"content-type":"application/json"}});a.put("/api/category/sticker/getStickerInfo?id="+e,r.clone());var l="/api/category/getCategoryInfo?id="+y;a.match(l).then((function(e){return e?e.json():null})).then((function(c){if(null!=c){var r=c.stickers.find((function(a){return a.id===e}));r?(r.name=h,r.category=y,""!==t&&(r.stiker_img=t)):c.stickers.unshift(n);var s=new Response(JSON.stringify(c),{headers:{"content-type":"application/json"}});a.put(l,s.clone())}}))})).catch((function(e){console.log("cashe_error",e)}))}()}},"Save"))))),r.a.createElement(s.NotificationContainer,null),r.a.createElement(v.a,{show:W,warning:!0,confirmBtnText:"Go Back",confirmBtnBsStyle:"danger",cancelBtnBsStyle:"default",title:"Warning!",onConfirm:function(){return I.go(-1)}},"Data not cached, so you can not view this page."))}},480:function(e,a,t){"use strict";var n=t(0),c=t.n(n),r=t(529),l=t(530),s=function(e,a,t){return 0===t?"/":"/"+e.split(a)[0]+a};a.a=function(e){var a=e.title,t=e.match,n=e.project_name,i=e.room_number,o=[],m=t.url.substr(1),d=m.split("/");return d.map((function(e,a){""===e&&d.splice(a,1),"live"===d[a-1]?o[a]=n||"":"live"===d[a-2]?o[a]=i||"":o[a]=e})),c.a.createElement("div",{className:"page-heading d-sm-flex justify-content-sm-between align-items-sm-center"},c.a.createElement("h2",{className:"title mb-3 mb-sm-0"},a),c.a.createElement(r.a,{className:"mb-0",tag:"nav"},d.map((function(e,a){if(0!=a)return c.a.createElement(l.a,{active:d.length===a+1,tag:d.length===a+1?"span":"a",key:a,href:s(m,e,a)},function(e){var a=e.split("-");return a.length>1?a[0].charAt(0).toUpperCase()+a[0].slice(1)+" "+a[1].charAt(0).toUpperCase()+a[1].slice(1):e.charAt(0).toUpperCase()+e.slice(1)}(o[a]))}))))}},487:function(e,a,t){"use strict";var n=t(0),c=t.n(n),r=function(e){var a=e.heading,t=e.children,n=e.styleName,r=e.cardStyle,l=e.childrenStyle,s=e.headerOutside,i=e.headingStyle;return c.a.createElement("div",{className:"".concat(n)},s&&c.a.createElement("div",{className:"jr-entry-header"},c.a.createElement("h3",{className:"entry-heading"},a),t.length>1&&c.a.createElement("div",{className:"entry-description"},t[0])),c.a.createElement("div",{className:"jr-card ".concat(r)},!s&&a&&c.a.createElement("div",{className:"jr-card-header ".concat(i)},c.a.createElement("h3",{className:"card-heading"},a),t.length>1&&c.a.createElement("div",{className:"sub-heading"},t[0])),c.a.createElement("div",{className:"jr-card-body ".concat(l)},t.length>1?t[1]:t)))};a.a=r,r.defaultProps={cardStyle:"",headingStyle:"",childrenStyle:"",styleName:"col-lg-6 col-sm-12"}},529:function(e,a,t){"use strict";var n=t(1),c=t(22),r=t(0),l=t.n(r),s=t(2),i=t.n(s),o=t(54),m=t.n(o),d=t(18),u={tag:d.m,listTag:d.m,className:i.a.string,listClassName:i.a.string,cssModule:i.a.object,children:i.a.node,"aria-label":i.a.string},g=function(e){var a=e.className,t=e.listClassName,r=e.cssModule,s=e.children,i=e.tag,o=e.listTag,u=e["aria-label"],g=Object(c.a)(e,["className","listClassName","cssModule","children","tag","listTag","aria-label"]),p=Object(d.i)(m()(a),r),f=Object(d.i)(m()("breadcrumb",t),r);return l.a.createElement(i,Object(n.a)({},g,{className:p,"aria-label":u}),l.a.createElement(o,{className:f},s))};g.propTypes=u,g.defaultProps={tag:"nav",listTag:"ol","aria-label":"breadcrumb"},a.a=g},530:function(e,a,t){"use strict";var n=t(1),c=t(22),r=t(0),l=t.n(r),s=t(2),i=t.n(s),o=t(54),m=t.n(o),d=t(18),u={tag:d.m,active:i.a.bool,className:i.a.string,cssModule:i.a.object},g=function(e){var a=e.className,t=e.cssModule,r=e.active,s=e.tag,i=Object(c.a)(e,["className","cssModule","active","tag"]),o=Object(d.i)(m()(a,!!r&&"active","breadcrumb-item"),t);return l.a.createElement(s,Object(n.a)({},i,{className:o,"aria-current":r?"page":void 0}))};g.propTypes=u,g.defaultProps={tag:"li"},a.a=g}}]);
//# sourceMappingURL=52.ca73cb63.chunk.js.map