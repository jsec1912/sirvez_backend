(this["webpackJsonpjumbo-hooks"]=this["webpackJsonpjumbo-hooks"]||[]).push([[29],{466:function(e,t,a){"use strict";var n=a(0),l=a.n(n),c=a(482),r=a(483),i=function(e,t,a){return 0===a?"#/":"#/"+e.split(t)[0]+t};t.a=function(e){var t=e.title,a=e.match.path.substr(1),n=a.split("/");return l.a.createElement("div",{className:"page-heading d-sm-flex justify-content-sm-between align-items-sm-center"},l.a.createElement("h2",{className:"title mb-3 mb-sm-0"},t),l.a.createElement(c.a,{className:"mb-0",tag:"nav"},n.map((function(e,t){return l.a.createElement(r.a,{active:n.length===t+1,tag:n.length===t+1?"span":"a",key:t,href:i(a,e,t)},function(e){var t=e.split("-");return t.length>1?t[0].charAt(0).toUpperCase()+t[0].slice(1)+" "+t[1].charAt(0).toUpperCase()+t[1].slice(1):e.charAt(0).toUpperCase()+e.slice(1)}(e))}))))}},467:function(e,t,a){"use strict";var n=a(0),l=a.n(n),c=function(e){var t=e.heading,a=e.children,n=e.styleName,c=e.cardStyle,r=e.childrenStyle,i=e.headerOutside,s=e.headingStyle;return l.a.createElement("div",{className:"".concat(n)},i&&l.a.createElement("div",{className:"jr-entry-header"},l.a.createElement("h3",{className:"entry-heading"},t),a.length>1&&l.a.createElement("div",{className:"entry-description"},a[0])),l.a.createElement("div",{className:"jr-card ".concat(c)},!i&&t&&l.a.createElement("div",{className:"jr-card-header ".concat(s)},l.a.createElement("h3",{className:"card-heading"},t),a.length>1&&l.a.createElement("div",{className:"sub-heading"},a[0])),l.a.createElement("div",{className:"jr-card-body ".concat(r)},a.length>1?a[1]:a)))};t.a=c,c.defaultProps={cardStyle:"",headingStyle:"",childrenStyle:"",styleName:"col-lg-6 col-sm-12"}},468:function(e,t,a){"use strict";var n=a(35);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(0)),c=(0,n(a(149)).default)(l.default.createElement("path",{d:"M14 10H2v2h12v-2zm0-4H2v2h12V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM2 16h8v-2H2v2z"}),"PlaylistAdd");t.default=c},488:function(e,t,a){"use strict";var n=a(10),l=a(0),c=a.n(l),r=a(249),i=a(441),s=a(399);t.a=function(e){var t=Object(l.useState)(!1),a=Object(n.a)(t,2),o=a[0],m=a[1],d=Object(l.useState)(void 0),u=Object(n.a)(d,2),b=u[0],h=u[1],E=e.selectedData,v=e.onSelectRow,g=e.menu_rows,f=g||[{content:"View",id:0},{content:"Modify",id:1},{content:"Delete",id:2}],p=function(){m(!1)};return c.a.createElement("div",null,c.a.createElement(s.a,{onClick:function(e){m(!0),h(e.currentTarget)}},c.a.createElement("i",{className:"zmdi zmdi-more-vert"})),c.a.createElement(r.a,{anchorEl:b,open:o,onClose:p,key:E.id,MenuListProps:{style:{width:150,paddingTop:0,paddingBottom:0}}},f.map((function(e){return c.a.createElement(i.a,{key:E+"-"+e.content,onClick:function(){p(),v(E,e.id)}},e.content)}))))}},543:function(e,t,a){"use strict";a.r(t);var n=a(61),l=a(62),c=a(64),r=a(63),i=a(0),s=a.n(i),o=a(466),m=a(3),d=a(10),u=a(558),b=a(559),h=a(557),E=a(560),v=a(555),g=a(580),f=a(556),p=a(579),j=a(443),O=a(252),N=a(399),S=a(578),y=a(468),C=a.n(y),_=a(488),P=a(53),x=a(15),w=a(26),k=a(440),T=a(99),A=a(577),M=a(563),W=a(484),z=a.n(W),D=a(458),H=a(441),I=a(439),L=a(74),R=[{id:"id",align:!1,disablePadding:!0,label:"ID"},{id:"site_name",align:!0,disablePadding:!1,label:"Site Name"},{id:"city",align:!0,disablePadding:!1,label:"City"},{id:"postcode",align:!0,disablePadding:!1,label:"Postcode"},{id:"buildings_count",align:!0,disablePadding:!1,label:"Buildings"},{id:"floors_count",align:!0,disablePadding:!1,label:"Floors"},{id:"rooms_count",align:!0,disablePadding:!1,label:"Rooms"},{id:"actions",align:!0,disablePadding:!1,numeric:"right",label:"Actions"}],U=function(){var e=Object(i.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],l=Object(i.useState)("asc"),c=Object(d.a)(l,2),r=c[0],o=c[1],m=Object(i.useState)("id"),y=Object(d.a)(m,2),W=y[0],U=y[1],B=Object(i.useState)(!1),F=Object(d.a)(B,2),J=F[0],V=F[1],Y=Object(x.e)((function(e){return e.settings})).width,q=Object(w.g)(),G=Object(i.useState)(0),K=Object(d.a)(G,2),Q=K[0],X=K[1],Z=Object(i.useState)(10),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ae=Object(i.useState)([]),ne=Object(d.a)(ae,2),le=ne[0],ce=ne[1],re=Object(i.useState)([]),ie=Object(d.a)(re,2),se=ie[0],oe=ie[1],me=Object(i.useState)(null),de=Object(d.a)(me,2),ue=de[0],be=de[1],he=Object(i.useState)([]),Ee=Object(d.a)(he,2),ve=Ee[0],ge=Ee[1],fe=Object(i.useState)(null),pe=Object(d.a)(fe,2),je=pe[0],Oe=pe[1],Ne=Object(i.useState)(""),Se=Object(d.a)(Ne,2),ye=Se[0],Ce=Se[1],_e=Object(i.useState)(""),Pe=Object(d.a)(_e,2),xe=Pe[0],we=Pe[1],ke=Object(i.useState)(""),Te=Object(d.a)(ke,2),Ae=Te[0],Me=Te[1],We=Object(i.useState)(""),ze=Object(d.a)(We,2),De=ze[0],He=ze[1],Ie=Object(i.useState)(""),Le=Object(d.a)(Ie,2),Re=Le[0],Ue=Le[1],Be=Object(i.useState)(""),Fe=Object(d.a)(Be,2),Je=Fe[0],Ve=Fe[1],Ye=Object(i.useState)(""),qe=Object(d.a)(Ye,2),Ge=qe[0],Ke=qe[1],Qe=Object(i.useState)(""),Xe=Object(d.a)(Qe,2),Ze=Xe[0],$e=Xe[1],et=Object(i.useState)(""),tt=Object(d.a)(et,2),at=tt[0],nt=tt[1];Object(i.useEffect)((function(){lt()}),[]);var lt=function(){T.a.get(T.b+"site/siteList").then((function(e){ce(e.data.sites),oe(e.data.sites),V(!0)}))},ct=function(e,t){var a;"desc"===(a=W===t&&"asc"===r?"desc":"asc")?se.sort((function(e,a){return a[t]<e[t]?-1:1})):se.sort((function(e,a){return e[t]<a[t]?-1:1})),o(a),U(t)},rt=function(e,t){0===t?q.push({pathname:"/app/sites/site/Info",state:{id:e}}):1===t?it(e):2===t&&T.a.post(T.b+"site/deleteSite",{id:e}).then((function(e){lt(),L.NotificationManager.info("You removed selected site")}))},it=function(e){be(e),T.a.get(T.b+"site/getSiteInfo",{params:{id:e}}).then((function(t){ge(t.data.customers),e>0&&(Oe(t.data.site.company_id),Ce(t.data.site.site_name),we(t.data.site.address),Me(t.data.site.city),He(t.data.site.postcode),Ue(t.data.site.contact_name),Ve(t.data.site.contact_number),Ke(t.data.site.site_instructions),$e(t.data.site.access_hour),nt(t.data.site.comment)),n(!0)}))},st=function(){n(!1)};return s.a.createElement("div",null,s.a.createElement(j.a,{className:"table-header"},s.a.createElement("div",{className:"title"},s.a.createElement(O.a,{variant:"h6"},"Sites")),s.a.createElement("div",{className:"spacer"},s.a.createElement("div",{className:"col-md-3 col-lg-3 col-sx-6 col-6 ml-auto"},s.a.createElement(P.a,{placeholder:"Search ...",onChange:function(e){return t=e.target.value,void oe(le.filter((function(e){return e.site_name.toLowerCase().includes(t.toLowerCase())})));var t}}))),s.a.createElement("div",{className:"actions"},s.a.createElement(S.a,{title:"New Site"},s.a.createElement(N.a,{"aria-label":"New Site",onClick:function(){return it(null)}},s.a.createElement(C.a,null))))),J?s.a.createElement("div",{className:"flex-auto"},s.a.createElement("div",{className:"table-responsive-material"},s.a.createElement(u.a,{className:""},s.a.createElement(v.a,null,s.a.createElement(f.a,null,R.map((function(e){return s.a.createElement(h.a,{key:e.id,align:e.numeric},s.a.createElement(S.a,{title:"Sort",placement:e.numeric?"bottom-end":"bottom-start",enterDelay:300},s.a.createElement(p.a,{active:W===e.id,direction:r,onClick:(t=e.id,function(e){ct(e,t)})},e.label)));var t})))),s.a.createElement(b.a,null,se.slice(Q*ee,Q*ee+ee).map((function(e){return s.a.createElement(f.a,{hover:!0,key:e.id,onClick:function(t){e.id},tabIndex:-1},s.a.createElement(h.a,null,e.id),s.a.createElement(h.a,null,e.site_name),s.a.createElement(h.a,null,e.city),s.a.createElement(h.a,null,e.postcode),s.a.createElement(h.a,null,e.buildings_count),s.a.createElement(h.a,null,e.floors_count),s.a.createElement(h.a,null,e.rooms_count),s.a.createElement(h.a,{className:"text-right"},s.a.createElement(_.a,{key:e.id,selectedData:e.id,onSelectRow:rt})))}))),s.a.createElement(E.a,null,s.a.createElement(f.a,null,s.a.createElement(g.a,{count:se.length,rowsPerPage:ee,page:Q,onChangePage:function(e,t){X(t)},onChangeRowsPerPage:function(e){te(e.target.value)}}))))),s.a.createElement(L.NotificationContainer,null)):s.a.createElement("div",{className:"loader-view",style:{height:Y>=1200?"calc(100vh - 259px)":"calc(100vh - 238px)"}},s.a.createElement(k.a,null)),s.a.createElement(A.a,{key:"site-save",className:"modal-box",toggle:st,isOpen:a},s.a.createElement(M.a,null,ue?"Modify Site":"Add Site",s.a.createElement(N.a,{className:"text-grey",onClick:st},s.a.createElement(z.a,null))),s.a.createElement("div",{className:"modal-box-content"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6 col-12"},s.a.createElement(D.a,{id:"custemername",select:!0,label:"Customer Name",value:je,onChange:function(e){return Oe(e.target.value)},SelectProps:{},helperText:"Please select Customer Name",margin:"normal",fullWidth:!0},ve.map((function(e){return s.a.createElement(H.a,{key:e.id,value:e.id},e.name)})))),s.a.createElement("div",{className:"col-md-6 col-12"},s.a.createElement(D.a,{id:"site_name",label:"Site",value:ye,onChange:function(e){return Ce(e.target.value)},margin:"normal",helperText:"Please Enter Site",fullWidth:!0})),s.a.createElement("div",{className:"col-md-6 col-12"},s.a.createElement(D.a,{id:"address",label:"Address",value:xe,onChange:function(e){return we(e.target.value)},margin:"normal",helperText:"Please Enter Address",fullWidth:!0})),s.a.createElement("div",{className:"col-md-6 col-12"},s.a.createElement(D.a,{id:"site_city",label:"City",value:Ae,onChange:function(e){return Me(e.target.value)},margin:"normal",helperText:"Please Enter City",fullWidth:!0})),s.a.createElement("div",{className:"col-md-6 col-12"},s.a.createElement(D.a,{id:"site_postcode",label:"Postcode",value:De,onChange:function(e){return He(e.target.value)},margin:"normal",helperText:"Please Enter Postcode",fullWidth:!0})),s.a.createElement("div",{className:"col-md-6 col-12"},s.a.createElement(D.a,{id:"site_contact_name",label:"Site Contact Name",value:Re,onChange:function(e){return Ue(e.target.value)},margin:"normal",helperText:"Please Enter Site Contact Name",fullWidth:!0})),s.a.createElement("div",{className:"col-md-6 col-12"},s.a.createElement(D.a,{id:"out_contact",label:"Out of ours contact number",value:Je,onChange:function(e){return Ve(e.target.value)},margin:"normal",helperText:"Please Enter Out of ours contact number",fullWidth:!0})),s.a.createElement("div",{className:"col-md-6 col-12"},s.a.createElement(D.a,{id:"any_site",label:"Any site instructions",value:Ge,onChange:function(e){return Ke(e.target.value)},margin:"normal",helperText:"Please Enter Any site instructions",fullWidth:!0})),s.a.createElement("div",{className:"col-md-6 col-12"},s.a.createElement(D.a,{id:"hours_access",label:"Hours of access",value:Ze,onChange:function(e){return $e(e.target.value)},margin:"normal",helperText:"Please Enter Hours of access",fullWidth:!0})),s.a.createElement("div",{className:"col-md-12 col-12"},s.a.createElement(D.a,{id:"site_comment",label:"Comments",multiline:!0,rowsMax:"4",value:at,onChange:function(e){return nt(e.target.value)},margin:"normal",fullWidth:!0})))),s.a.createElement("div",{className:"modal-box-footer d-flex flex-row"},s.a.createElement(I.a,{onClick:st,color:"secondary"},"Cancel"),s.a.createElement(I.a,{onClick:function(){st();var e=new FormData;e.append("id",ue),e.append("customer_id",je),e.append("site_name",ye),e.append("address",xe),e.append("city",Ae),e.append("postcode",De),e.append("contact_name",Re),e.append("contact_number",Je),e.append("site_instructions",Ge),e.append("access_hour",Ze),e.append("comment",at),T.a.post(T.b+"site/updateSite",e).then((function(e){"success"===e.data.status?(L.NotificationManager.success(e.data.msg,"Success!",5e3,(function(){})),lt()):"error"===e.data.status&&L.NotificationManager.error(e.data.msg,"Error!",5e3,(function(){}))})).catch((function(e){console.log("error:",e)}))},color:"primary"},"Save"))))},B=a(467),F=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"app-wrapper"},s.a.createElement(o.a,{match:this.props.match,title:s.a.createElement(m.a,{id:"sidebar.sites"})}),s.a.createElement("div",{className:"row animated slideInUpTiny animation-duration-3"},s.a.createElement(B.a,{styleName:"col-12"},s.a.createElement(U,null))))}}]),a}(s.a.Component);t.default=F}}]);
//# sourceMappingURL=29.70e8ef55.chunk.js.map