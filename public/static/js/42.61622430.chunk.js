(this["webpackJsonpjumbo-hooks"]=this["webpackJsonpjumbo-hooks"]||[]).push([[42],{1379:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return j}));var n=t(63),r=t(64),l=t(110),i=t(66),o=t(65),c=t(0),s=t.n(c),m=t(3),d=t(480),f=t(487),u=t(1390),h=t(1376),p=t(404),b=t(572),v=t.n(b),y=t(651),g=(t(652),t(935)),_=t(533),N=t.n(_),E=t(467),k=t(29),w=t(50),S=t(448),x=t(445),j=function(e){Object(i.a)(t,e);var a=Object(o.a)(t);function t(e){var r;Object(n.a)(this,t),(r=a.call(this,e)).state={form_id:e.location.state?e.location.state.id:0,data:e.location.state?e.location.state.form_data:[],previewVisible:!1,form_type:e.location.state?e.location.state.form_type:0,form_type_array:[{value:0,type:"Location Form",icon:"zmdi-pin"},{value:1,type:"Testing Form",icon:"zmdi-chart"},{value:2,type:"Commissioning Form",icon:"zmdi-group-work"},{value:3,type:"Sign Off",icon:"zmdi-check"}],formdata:e.location.state?e.location.state.form_data:[],allforms:[],forms:[],form_name:e.location.state?e.location.state.form_name:""},console.log("111",e.location.state),console.log("222",r.state.data);var i=r._onChange.bind(Object(l.a)(r));return r._onSubmit=r._onSubmit.bind(Object(l.a)(r)),N.a.subscribe((function(e){return i(e.data)})),r}return Object(r.a)(t,[{key:"showPreview",value:function(){this.setState({previewVisible:!0})}},{key:"closePreview",value:function(){this.setState({previewVisible:!1})}},{key:"_onChange",value:function(e){this.setState({data:e})}},{key:"_onSubmit",value:function(){this.closePreview(this);var e=this.state.data,a=[],t="";e.map((function(e){e.field_name&&(t=e.label?e.label:e.content?e.content:e.element,"Checkboxes"===e.element||"RadioButtons"===e.element?e.options.map((function(n){a.push({field_name:n.key,field_type:e.element,field_label:t})})):a.push({field_name:e.field_name,field_type:e.element,field_label:t}))}));var n=new FormData;n.append("form_id",this.state.form_id),n.append("form_type",this.state.form_type),n.append("form_name",this.state.form_name),n.append("form_data",JSON.stringify(this.state.data)),n.append("form_fields",JSON.stringify(a)),k.a.post(k.b+"form/saveFrom",n).then((function(e){"success"===e.data.status?w.NotificationManager.success("Save new form.","Success!",1e3,(function(){})):"error"===e.data.status&&w.NotificationManager.error(e.data.msg,"Error!",1e3,(function(){}))})).catch((function(e){w.NotificationManager.error(e,"Error!",1e3,(function(){}))}))}},{key:"componentDidMount",value:function(){var e=document.getElementsByClassName("react-form-builder-toolbar")[0];e.style.transition="0.2s",e.onclick=function(a){"0px"===e.style.bottom?e.style.bottom="-320px":e.style.bottom="0px"}}},{key:"selectFrom",value:function(e){this.setState({form_type:e,forms:this.state.allforms.filter((function(a){return a.form_type==e})),formdata:[],form_name:""})}},{key:"selectFromName",value:function(e){if(0===e)this.setState({formdata:[],form_name:""});else{var a=this.state.forms.find((function(a){return a.id==e}));this.setState({formdata:JSON.parse(a.form_data),form_name:a.form_name})}}},{key:"enterFormName",value:function(e){this.setState({form_name:e})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"app-wrapper"},s.a.createElement(d.a,{match:this.props.match,title:s.a.createElement(m.a,{id:"sidebar.form"})}),s.a.createElement("div",{className:"row animated slideInUpTiny animation-duration-3"},s.a.createElement(f.a,{styleName:"col-12"},s.a.createElement("div",null,s.a.createElement("div",{id:"demo-bar",className:"row"},s.a.createElement("div",{className:"col-md-12 col-12 text-right mt-2"},s.a.createElement("button",{className:"btn btn-primary mr-2",onClick:function(){return e.showPreview()}},"Save Form")),s.a.createElement("div",{className:"col-md-4 col-12"},s.a.createElement(E.a,{id:"location_form",select:!0,label:"Form Type",value:this.state.form_type,onChange:function(a){e.selectFrom(a.target.value)},helperText:"Please Select Form Type",margin:"normal",fullWidth:!0},this.state.form_type_array.map((function(e){return s.a.createElement(S.a,{key:e.value,value:e.value},s.a.createElement("i",{className:"zmdi ".concat(e.icon," zmdi-hc-fw mr-2")}),e.type)})))),s.a.createElement("div",{className:"col-md-4 col-12"},s.a.createElement(E.a,{id:"form_name",label:"New Form Name",value:this.state.form_name,onChange:function(a){e.enterFormName(a.target.value)},margin:"normal",helperText:"Please Enter Form Name",fullWidth:!0}))),s.a.createElement("div",{id:"form-builder",className:"mt-4"},s.a.createElement(y.ReactFormBuilder,{url:"",toolbarItems:g.a,data:this.state.formdata,saveUrl:""})),s.a.createElement(u.a,{key:"preview_modal",className:"modal-box",toggle:this.closePreview.bind(this),isOpen:this.state.previewVisible},s.a.createElement(h.a,null,"New Form",s.a.createElement(p.a,{className:"text-grey",onClick:this.closePreview.bind(this)},s.a.createElement(v.a,null))),s.a.createElement("div",{className:"modal-box-content"},s.a.createElement(y.ReactFormGenerator,{hide_actions:!0,data:this.state.data})),s.a.createElement("div",{className:"modal-box-footer d-flex flex-row jr-featured-content-right"},s.a.createElement(x.a,{color:"secondary",variant:"contained",className:"jr-btn text-white",onClick:this.closePreview.bind(this)},"Cancel"),s.a.createElement(x.a,{onClick:this._onSubmit,color:"primary",variant:"contained",className:"jr-btn text-white"},"Save")))))),s.a.createElement(w.NotificationContainer,null))}}]),t}(s.a.Component)},480:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(529),i=t(530),o=function(e,a,t){return 0===t?"/":"/"+e.split(a)[0]+a};a.a=function(e){var a=e.title,t=e.match,n=e.project_name,c=e.room_number,s=[],m=t.url.substr(1),d=m.split("/");return d.map((function(e,a){""===e&&d.splice(a,1),"live"===d[a-1]?s[a]=n||"":"live"===d[a-2]?s[a]=c||"":s[a]=e})),r.a.createElement("div",{className:"page-heading d-sm-flex justify-content-sm-between align-items-sm-center"},r.a.createElement("h2",{className:"title mb-3 mb-sm-0"},a),r.a.createElement(l.a,{className:"mb-0",tag:"nav"},d.map((function(e,a){if(0!=a)return r.a.createElement(i.a,{active:d.length===a+1,tag:d.length===a+1?"span":"a",key:a,href:o(m,e,a)},function(e){var a=e.split("-");return a.length>1?a[0].charAt(0).toUpperCase()+a[0].slice(1)+" "+a[1].charAt(0).toUpperCase()+a[1].slice(1):e.charAt(0).toUpperCase()+e.slice(1)}(s[a]))}))))}},487:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=function(e){var a=e.heading,t=e.children,n=e.styleName,l=e.cardStyle,i=e.childrenStyle,o=e.headerOutside,c=e.headingStyle;return r.a.createElement("div",{className:"".concat(n)},o&&r.a.createElement("div",{className:"jr-entry-header"},r.a.createElement("h3",{className:"entry-heading"},a),t.length>1&&r.a.createElement("div",{className:"entry-description"},t[0])),r.a.createElement("div",{className:"jr-card ".concat(l)},!o&&a&&r.a.createElement("div",{className:"jr-card-header ".concat(c)},r.a.createElement("h3",{className:"card-heading"},a),t.length>1&&r.a.createElement("div",{className:"sub-heading"},t[0])),r.a.createElement("div",{className:"jr-card-body ".concat(i)},t.length>1?t[1]:t)))};a.a=l,l.defaultProps={cardStyle:"",headingStyle:"",childrenStyle:"",styleName:"col-lg-6 col-sm-12"}},529:function(e,a,t){"use strict";var n=t(1),r=t(22),l=t(0),i=t.n(l),o=t(2),c=t.n(o),s=t(54),m=t.n(s),d=t(18),f={tag:d.m,listTag:d.m,className:c.a.string,listClassName:c.a.string,cssModule:c.a.object,children:c.a.node,"aria-label":c.a.string},u=function(e){var a=e.className,t=e.listClassName,l=e.cssModule,o=e.children,c=e.tag,s=e.listTag,f=e["aria-label"],u=Object(r.a)(e,["className","listClassName","cssModule","children","tag","listTag","aria-label"]),h=Object(d.i)(m()(a),l),p=Object(d.i)(m()("breadcrumb",t),l);return i.a.createElement(c,Object(n.a)({},u,{className:h,"aria-label":f}),i.a.createElement(s,{className:p},o))};u.propTypes=f,u.defaultProps={tag:"nav",listTag:"ol","aria-label":"breadcrumb"},a.a=u},530:function(e,a,t){"use strict";var n=t(1),r=t(22),l=t(0),i=t.n(l),o=t(2),c=t.n(o),s=t(54),m=t.n(s),d=t(18),f={tag:d.m,active:c.a.bool,className:c.a.string,cssModule:c.a.object},u=function(e){var a=e.className,t=e.cssModule,l=e.active,o=e.tag,c=Object(r.a)(e,["className","cssModule","active","tag"]),s=Object(d.i)(m()(a,!!l&&"active","breadcrumb-item"),t);return i.a.createElement(o,Object(n.a)({},c,{className:s,"aria-current":l?"page":void 0}))};u.propTypes=f,u.defaultProps={tag:"li"},a.a=u},935:function(e,a,t){"use strict";a.a=[{key:"Header",name:"Header Text",icon:"fas fa-heading",static:!0,content:"Placeholder Text..."},{key:"Label",name:"Label",static:!0,icon:"fas fa-font",content:"Placeholder Text..."},{key:"Paragraph",name:"Paragraph",static:!0,icon:"fas fa-paragraph",content:"Placeholder Text..."},{key:"LineBreak",name:"Line Break",static:!0,icon:"fas fa-arrows-alt-h"},{key:"Dropdown",canHaveAnswer:!0,name:"Dropdown",icon:"far fa-caret-square-down",label:"Placeholder Label",field_name:"dropdown_",options:[]},{key:"Checkboxes",canHaveAnswer:!0,name:"Checkboxes",icon:"far fa-check-square",label:"Placeholder Label",field_name:"checkboxes_",options:[]},{key:"RadioButtons",canHaveAnswer:!0,name:"Multiple Choice",icon:"far fa-dot-circle",label:"Placeholder Label",field_name:"radiobuttons_",options:[]},{key:"TextInput",canHaveAnswer:!0,name:"Text Input",label:"Placeholder Label",icon:"fas fa-font",field_name:"text_input_"},{key:"TextArea",canHaveAnswer:!0,name:"Multi-line Input",label:"Placeholder Label",icon:"fas fa-text-height",field_name:"text_area_"},{key:"DatePicker",canDefaultToday:!0,canReadOnly:!0,dateFormat:"MM/dd/yyyy",timeFormat:"hh:mm aa",showTimeSelect:!1,showTimeSelectOnly:!1,name:"Date",icon:"far fa-calendar-alt",label:"Placeholder Label",field_name:"date_picker_"},{key:"Rating",canHaveAnswer:!0,name:"Rating",label:"Placeholder Label",icon:"fas fa-star",field_name:"rating_"},{key:"Signature",canReadOnly:!0,name:"Signature",icon:"fas fa-pen-square",label:"Signature",field_name:"signature_"}]}}]);
//# sourceMappingURL=42.61622430.chunk.js.map