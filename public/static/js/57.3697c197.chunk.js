/*! For license information please see 57.3697c197.chunk.js.LICENSE.txt */
(this["webpackJsonpjumbo-hooks"]=this["webpackJsonpjumbo-hooks"]||[]).push([[57],{1354:function(e,t,a){"use strict";a.r(t);var n=a(63),c=a(64),r=a(66),l=a(65),i=a(0),s=a.n(i),o=a(480),u=a(3),m=a(487),d=a(9),f=a(552),p=a.n(f),h=a(1370),b=a(1374),g=a(1373),E=a(1375),v=a(1371),y=a(1393),j=a(1372),N=a(1392),w=a(450),O=a(255),S=a(404),C=a(1391),k=a(252),_=a(448),x=function(e){var t=Object(i.useState)(!1),a=Object(d.a)(t,2),n=a[0],c=a[1],r=Object(i.useState)(void 0),l=Object(d.a)(r,2),o=l[0],u=l[1],m=e.selectedData,f=e.onSelectRow,p=e.menu_rows,h=p||[{content:"View",id:0},{content:"Modify",id:1},{content:"Delete",id:2}],b=function(){c(!1)};return s.a.createElement("div",null,s.a.createElement(S.a,{onClick:function(e){c(!0),u(e.currentTarget)}},s.a.createElement("i",{className:"zmdi zmdi-more-vert"})),s.a.createElement(k.a,{anchorEl:o,open:n,onClose:b,key:m.id,MenuListProps:{style:{width:150,paddingTop:0,paddingBottom:0}}},h.map((function(e){return s.a.createElement(_.a,{key:m+"-"+e.content,onClick:function(){b(),f(m,e.id)}},e.content)}))))},P=a(469),L=a(67),D=a(29),U=a(27),B=a(50),A=a(14),z=a(446),M=a(490),R=a.n(M),T=[{id:"id",align:!1,disablePadding:!0,label:"ID"},{id:"first_name",align:!0,disablePadding:!1,label:"Name"},{id:"job_title",align:!0,disablePadding:!1,label:"Job Title"},{id:"company_name",align:!0,disablePadding:!1,label:"Company"},{id:"email",align:!0,disablePadding:!1,label:"Email"},{id:"status",align:!0,disablePadding:!1,label:"Status"},{id:"Actions",align:!0,numeric:"right",disablePadding:!1,label:"Actions"}],I=function(e){var t=e.order,a=e.orderBy;return s.a.createElement(v.a,null,s.a.createElement(j.a,null,T.map((function(n){return s.a.createElement(g.a,{key:n.id,align:n.numeric},s.a.createElement(C.a,{title:"Sort",placement:n.numeric?"bottom-end":"bottom-start",enterDelay:300},s.a.createElement(N.a,{active:a===n.id,direction:t,onClick:(c=n.id,function(t){e.onRequestSort(t,c)})},n.label)));var c}))))},J=function(e){var t=Object(U.g)(),a=e.SearchUser,n=e.customers;return s.a.createElement(w.a,{className:"table-header"},s.a.createElement("div",{className:"title"},s.a.createElement(O.a,{variant:"h6"},"Users")),s.a.createElement("div",{className:"col-md-3 col-lg-3 col-sx-6 col-6 ml-auto"},s.a.createElement(L.a,{placeholder:"Search ...",onChange:function(e){return a(e.target.value)}})),s.a.createElement("div",{className:"actions d-flex"},s.a.createElement(C.a,{title:"Add User",onClick:function(){t.push("/app/customers/users/save")}},s.a.createElement(S.a,{className:"icon-btn"},s.a.createElement("i",{className:"zmdi zmdi-account-add"}))),s.a.createElement(C.a,{title:"Invite Users",onClick:function(){t.push({pathname:"/app/customers/users/invite",state:{customers:n}})}},s.a.createElement(S.a,{className:"icon-btn"},s.a.createElement("i",{className:"zmdi zmdi-account-box-phone"})))))},q=function(){var e=Object(i.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],c=Object(i.useState)("asc"),r=Object(d.a)(c,2),l=r[0],o=r[1],m=Object(i.useState)("id"),f=Object(d.a)(m,2),v=f[0],N=f[1],w=Object(i.useState)([]),O=Object(d.a)(w,2),S=O[0],C=O[1],k=Object(i.useState)([]),_=Object(d.a)(k,2),L=_[0],M=_[1],T=Object(i.useState)([]),q=Object(d.a)(T,2),K=q[0],Y=q[1],F=Object(i.useState)([]),G=Object(d.a)(F,2),V=G[0],W=G[1],H=Object(U.g)(),Q=Object(i.useState)(!1),X=Object(d.a)(Q,2),Z=X[0],$=X[1];Object(i.useEffect)((function(){ee()}),[]);var ee=function(){D.a.get(D.b+"customers/userList").then((function(e){M(e.data.users),W(e.data.users),Y(e.data.customers),n(!0)})).catch((function(e){$(!0)}))},te=Object(i.useState)(0),ae=Object(d.a)(te,2),ne=ae[0],ce=ae[1],re=Object(i.useState)(10),le=Object(d.a)(re,2),ie=le[0],se=le[1],oe=Object(A.e)((function(e){return e.settings})).width,ue=function(e,t){var a=S.indexOf(t),n=[];-1===a?n=n.concat(S,t):0===a?n=n.concat(S.slice(1)):a===S.length-1?n=n.concat(S.slice(0,-1)):a>0&&(n=n.concat(S.slice(0,a),S.slice(a+1))),C(n)},me=function(e,t){if(0===t);else if(1===t)H.push({pathname:"/app/customers/users/save",state:{id:e}});else if(2===t){var a=new FormData;a.append("id",e),D.a.post(D.b+"user/deleteUser",a).then((function(e){"success"===e.data.status?(ee(),B.NotificationManager.info("You removed selected user")):"error"===e.data.status&&B.NotificationManager.error(e.data.msg,"Error!",1e3,(function(){}))})).catch((function(e){B.NotificationManager.error(e,"Error!",1e3,(function(){}))})),navigator.onLine||caches.open("SirvezApp").then((function(t){t.match("/api/customers/userList").then((function(e){return e?e.json():null})).then((function(a){if(null!=a){a.users=a.users.filter((function(t){return t.id!==e}));var n=new Response(JSON.stringify(a),{headers:{"content-type":"application/json"}});t.put("/api/customers/userList",n.clone()).then((function(){ee()}))}}))}))}},de=[{content:"Modify",id:1},{content:"Delete",id:2}];return a?s.a.createElement("div",null,s.a.createElement(J,{SearchUser:function(e){M(V.filter((function(t){return t.first_name.toLowerCase().includes(e.toLowerCase())||t.last_name.toLowerCase().includes(e.toLowerCase())})))},customers:K}),s.a.createElement("div",{className:"flex-auto"},s.a.createElement("div",{className:"table-responsive-material"},s.a.createElement(h.a,{className:""},s.a.createElement(I,{order:l,orderBy:v,onRequestSort:function(e,t){var a;"desc"===(a=v===t&&"asc"===l?"desc":"asc")?L.sort((function(e,a){return a[t]<e[t]?-1:1})):L.sort((function(e,a){return e[t]<a[t]?-1:1})),o(a),N(t)}}),s.a.createElement(b.a,null,L.length>0?L.slice(ne*ie,ne*ie+ie).map((function(e){return s.a.createElement(j.a,{hover:!0,onKeyDown:function(t){return function(e,t){"space"===p()(e)&&ue(e,t)}(t,e.id)},tabIndex:-1,key:e.id},s.a.createElement(g.a,null,e.id),s.a.createElement(g.a,null,s.a.createElement("div",{className:"user-profile d-flex flex-row align-items-center"},s.a.createElement(P.a,{alt:e.first_name,src:D.c+"upload/img/"+e.profile_pic,className:"user-avatar"}),s.a.createElement("div",{className:"user-detail"},s.a.createElement("h5",{className:"user-name"},e.first_name," ",e.last_name)))),s.a.createElement(g.a,null,e.user_type),s.a.createElement(g.a,null,e.company_name),s.a.createElement(g.a,null,e.email),s.a.createElement(g.a,null,e.status?"Yes":"No"),s.a.createElement(g.a,{align:"right"},s.a.createElement(x,{key:e.id,selectedData:e.id,onSelectRow:me,menu_rows:de})))})):s.a.createElement("tr",null,s.a.createElement("td",{className:"text-danger",colSpan:"7"},s.a.createElement(u.a,{id:"table.noData"})))),s.a.createElement(E.a,null,s.a.createElement(j.a,null,s.a.createElement(y.a,{count:L.length,rowsPerPage:ie,page:ne,onChangePage:function(e,t){ce(t)},onChangeRowsPerPage:function(e){se(e.target.value)}})))))),s.a.createElement(B.NotificationContainer,null)):s.a.createElement("div",{className:"loader-view",style:{height:oe>=1200?"calc(100vh - 259px)":"calc(100vh - 238px)"}},s.a.createElement(R.a,{show:Z,warning:!0,confirmBtnText:"Go Back",confirmBtnBsStyle:"danger",cancelBtnBsStyle:"default",title:"Warning!",onConfirm:function(){return H.go(-1)}},"Data not cached, so you can not view this page."),s.a.createElement(z.a,null))},K=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"app-wrapper"},s.a.createElement(o.a,{match:this.props.match,title:s.a.createElement(u.a,{id:"sidebar.customers.users"})}),s.a.createElement("div",{className:"row animated slideInUpTiny animation-duration-3"},s.a.createElement(m.a,{styleName:"col-12"},s.a.createElement(q,null))))}}]),a}(s.a.Component);t.default=K},480:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(529),l=a(530),i=function(e,t,a){return 0===a?"/":"/"+e.split(t)[0]+t};t.a=function(e){var t=e.title,a=e.match,n=e.project_name,s=e.room_number,o=[],u=a.url.substr(1),m=u.split("/");return m.map((function(e,t){""===e&&m.splice(t,1),"live"===m[t-1]?o[t]=n||"":"live"===m[t-2]?o[t]=s||"":o[t]=e})),c.a.createElement("div",{className:"page-heading d-sm-flex justify-content-sm-between align-items-sm-center"},c.a.createElement("h2",{className:"title mb-3 mb-sm-0"},t),c.a.createElement(r.a,{className:"mb-0",tag:"nav"},m.map((function(e,t){if(0!=t)return c.a.createElement(l.a,{active:m.length===t+1,tag:m.length===t+1?"span":"a",key:t,href:i(u,e,t)},function(e){var t=e.split("-");return t.length>1?t[0].charAt(0).toUpperCase()+t[0].slice(1)+" "+t[1].charAt(0).toUpperCase()+t[1].slice(1):e.charAt(0).toUpperCase()+e.slice(1)}(o[t]))}))))}},487:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=function(e){var t=e.heading,a=e.children,n=e.styleName,r=e.cardStyle,l=e.childrenStyle,i=e.headerOutside,s=e.headingStyle;return c.a.createElement("div",{className:"".concat(n)},i&&c.a.createElement("div",{className:"jr-entry-header"},c.a.createElement("h3",{className:"entry-heading"},t),a.length>1&&c.a.createElement("div",{className:"entry-description"},a[0])),c.a.createElement("div",{className:"jr-card ".concat(r)},!i&&t&&c.a.createElement("div",{className:"jr-card-header ".concat(s)},c.a.createElement("h3",{className:"card-heading"},t),a.length>1&&c.a.createElement("div",{className:"sub-heading"},a[0])),c.a.createElement("div",{className:"jr-card-body ".concat(l)},a.length>1?a[1]:a)))};t.a=r,r.defaultProps={cardStyle:"",headingStyle:"",childrenStyle:"",styleName:"col-lg-6 col-sm-12"}},552:function(e,t){function a(e){if(e&&"object"===typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"===typeof e)return l[e];var a,r=String(e);return(a=n[r.toLowerCase()])?a:(a=c[r.toLowerCase()])||(1===r.length?r.charCodeAt(0):void 0)}a.isEventKey=function(e,t){if(e&&"object"===typeof e){var a=e.which||e.keyCode||e.charCode;if(null===a||void 0===a)return!1;if("string"===typeof t){var r;if(r=n[t.toLowerCase()])return r===a;if(r=c[t.toLowerCase()])return r===a}else if("number"===typeof t)return t===a;return!1}};var n=(t=e.exports=a).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},c=t.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(r=97;r<123;r++)n[String.fromCharCode(r)]=r-32;for(var r=48;r<58;r++)n[r-48]=r;for(r=1;r<13;r++)n["f"+r]=r+111;for(r=0;r<10;r++)n["numpad "+r]=r+96;var l=t.names=t.title={};for(r in n)l[n[r]]=r;for(var i in c)n[i]=c[i]}}]);
//# sourceMappingURL=57.3697c197.chunk.js.map