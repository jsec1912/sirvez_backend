(this["webpackJsonpjumbo-hooks"]=this["webpackJsonpjumbo-hooks"]||[]).push([[58],{1385:function(e,a,t){"use strict";t.r(a);var c=t(9),l=t(0),n=t.n(l),r=t(480),s=t(3),i=t(29),o=t(14),m=t(446),d=t(490),u=t.n(d),p=t(26),b=t(27);function h(e,a){e=e.replace("#","");var t=parseInt(3===e.length?e.slice(0,1).repeat(2):e.slice(0,2),16),c=parseInt(3===e.length?e.slice(1,2).repeat(2):e.slice(2,4),16),l=parseInt(3===e.length?e.slice(2,3).repeat(2):e.slice(4,6),16);return a?"rgba("+t+", "+c+", "+l+", "+a+")":"rgb("+t+", "+c+", "+l+")"}var g=function(e){var a=e.data;return n.a.createElement("div",{className:"jr-card net-chart",style:{cursor:"pointer"}},n.a.createElement("div",{className:"jr-card-thumb",style:{backgroundColor:a.color,boxShadow:"0 6px 20px 0 ".concat(h(a.color,.19),",0 8px 17px 0 ").concat(h(a.color,.2))}},n.a.createElement("i",{className:"zmdi zmdi-".concat(a.icon)})),n.a.createElement("div",{className:"jr-card-body br-break"},n.a.createElement("h1",{className:"mb-0"},n.a.createElement("strong",null,a.title)),n.a.createElement("p",{className:"mb-0"},n.a.createElement("strong",null,a.subTitle))))},E=g;g.defaultProps={styleName:""};var f=t(62),v=t(469),N=function(e){var a=e.recentData,t=a.notification,c=a.current_time,l=a.created_date,r=(a.room_number,a.project_name),s=a.room_id,o=a.project_id,m=a.first_name,d=a.last_name,u=a.notice_type,p=a.user_img,h=3==u?"collection-plus":4==u?"brush":5==u?"pin":6==u?"collection-plus":7==u?"pin":8==u?"star":null,g=3==u?"bg-warning":4==u?"bg-primary":5==u?"bg-secondary":6==u?"bg-danger":7==u?"bg-info":8==u?"bg-orange":null,E=r&&m&&d?"[".concat(r,"] for [").concat(m," ").concat(d,"]"):null,f=c.split(/[- :]/),N=new Date(f[0],f[1]-1,f[2],f[3],f[4],f[5]).getTime();f=l.split(/[- :]/);var j=new Date(f[0],f[1]-1,f[2],f[3],f[4],f[5]).getTime(),k=Math.floor((N-j)/1e3),y=Math.floor(k/60)+1,w=Math.floor(y/60),O=Math.floor(w/24),x=Object(b.g)();return n.a.createElement("div",{className:"media social-list-line",style:{cursor:"pointer"},onClick:function(){3==u||6==u?x.push({pathname:"/app/project/live/".concat(o)}):(5==u||7==u||8==u||4==u)&&x.push({pathname:"/app/project/live/".concat(o,"/").concat(s)})}},n.a.createElement(v.a,{className:"".concat(g," z-index-20 size-40 align-item-self mr-3")},n.a.createElement("i",{className:"zmdi zmdi-".concat(h," text-white")})),n.a.createElement("div",{className:"media-body"},n.a.createElement("div",{className:"d-flex align-items-center"},n.a.createElement(v.a,{className:"size-30 mr-2",alt:"Remy Sharp",src:"".concat(i.c,"/upload/img/").concat(p)}),n.a.createElement("h5",{className:"mb-1"},t)),n.a.createElement("p",{className:"mb-0"},E),n.a.createElement("span",{className:"meta-date meta-date-light"},O>0?"".concat(O,"\n                    ").concat(1==O?" day ago":" days ago"):w>0?"".concat(w,"\n                    ").concat(1==w?" hour ago":" hours ago"):y>0?"".concat(y,"\n                    ").concat(1==y?" minute ago":" minutes ago"):"".concat(k,"' secones ago'"))))},j=t(1),k=t(22),y=t(2),w=t.n(y),O=t(54),x=t.n(O),T=t(18),S={color:w.a.string,pill:w.a.bool,tag:T.m,innerRef:w.a.oneOfType([w.a.object,w.a.func,w.a.string]),children:w.a.node,className:w.a.string,cssModule:w.a.object},C=function(e){var a=e.className,t=e.cssModule,c=e.color,l=e.innerRef,r=e.pill,s=e.tag,i=Object(k.a)(e,["className","cssModule","color","innerRef","pill","tag"]),o=Object(T.i)(x()(a,"badge","badge-"+c,!!r&&"badge-pill"),t);return i.href&&"span"===s&&(s="a"),n.a.createElement(s,Object(j.a)({},i,{className:o,ref:l}))};C.propTypes=S,C.defaultProps={color:"secondary",pill:!1,tag:"span"};var _=C,M=function(e){var a=e.data,t=a.id,c=a.project_name,l=a.company_name,r=a.survey_start_date,s=a.room_count,i=(a.projectClick,a.color),o=Object(b.g)();return n.a.createElement("tr",{onClick:function(){return function(e){o.push({pathname:"/app/project/live/".concat(e)})}(c)},key:"projects-"+t,style:{cursor:"pointer"}},n.a.createElement("td",{className:"max-width-100",style:{width:"29.2%"}},n.a.createElement("p",{className:"text-truncate mb-0"},c)),n.a.createElement("td",{className:"max-width-100",style:{width:"29.2%"}},n.a.createElement("p",{className:"text-truncate mb-0"},l)),n.a.createElement("td",{className:"max-width-100",style:{width:"24.4%"}},n.a.createElement("p",{className:"text-truncate mb-0"},r)),n.a.createElement("td",{className:"max-width-100",style:{width:"6%"}},n.a.createElement("p",{className:"text-truncate mb-0"},s)),n.a.createElement("td",{style:{width:"11.2%"}},n.a.createElement(_,{className:"d-block",color:i},"live")))},z=t(80),A=function(e){var a=e.data;return n.a.createElement("div",{className:"table-responsive-material border-0",style:{height:"400px",overflow:"hidden"}},n.a.createElement("table",{className:"project-list-table table remove-table-border mb-0"},n.a.createElement("thead",null,n.a.createElement("tr",{style:{cursor:"pointer"}},n.a.createElement("th",{className:"max-width-100",style:{width:"29.2%"},scope:"col"},"Project"),n.a.createElement("th",{className:"max-width-100",style:{width:"29.2%"},scope:"col"},"Customer"),n.a.createElement("th",{className:"max-width-100",style:{width:"24.4%"},scope:"col"},"Survey Start Date"),n.a.createElement("th",{className:"max-width-100",style:{width:"6%"},scope:"col"},"Rooms"),n.a.createElement("th",{className:"max-width-100",style:{width:"11.2%"},scope:"col"},"Status")))),n.a.createElement(z.a,{className:"jr-wall-scroll scrollbar"},n.a.createElement("table",{className:"project-list-table table remove-table-border mb-0"},n.a.createElement("tbody",null,a.map((function(e){return n.a.createElement(M,{key:e.id,data:e})}))))))},D=t(404),P=t(568),I=t(891),B=Object(P.b)((function(e){var a=e.Task,t=e.onTaskSelect,r=e.onTaskChecked,s=(e.onMarkAsStart,Object(l.useState)("1"==a.favourite)),o=Object(c.a)(s,2),m=(o[0],o[1],Object(l.useState)("1"==a.archived)),d=Object(c.a)(m,2),u=d[0],p=d[1];return n.a.createElement("div",{className:"module-list-item"},n.a.createElement("div",{className:"module-list-icon"},n.a.createElement(I.a,{color:"primary",checked:"1"==a.archived,onClick:function(e){a.archived="1"==a.archived?"0":"1",p(!u),r(a)},value:"SelectTask"}),n.a.createElement(D.a,{className:"icon-btn",onClick:function(){}},"1"==a.favourite?n.a.createElement("i",{className:"zmdi zmdi-star text-warning"}):n.a.createElement("i",{className:"zmdi zmdi-star-outline text-warning"}))),n.a.createElement("div",{className:"module-list-info",onClick:function(){t(a)}},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"module-todo-content col-9 col-sm-10"},n.a.createElement("div",{className:"subject ".concat("1"==a.archived&&"text-muted text-strikethrough")},a.task),n.a.createElement("div",{className:"manage-margin"},n.a.createElement("div",{className:"badge text-white bg-light-blue darken-2"},a.company_name),n.a.createElement("div",{className:"badge text-white bg-green darken-1"},a.project_name))),n.a.createElement("div",{className:"module-todo-right col-2 col-sm-2"},n.a.createElement("div",{className:"d-flex flex-row-reverse"},n.a.createElement(v.a,{alt:a.profile_pic,src:i.c+"upload/img/"+a.profile_pic}))))))})),R=Object(P.a)((function(e){var a=e.Tasks,t=e.onTaskSelect,c=e.onTaskChecked,l=e.onMarkAsStart;e.width;return n.a.createElement("div",{className:"module-list"},n.a.createElement(z.a,{className:"module-list-scroll scrollbar",style:{height:"500px"}},a.filter((function(e){return"0"==e.archived})).length>0&&n.a.createElement("div",{className:"module-list-item bg-info text-white"},n.a.createElement("div",{className:"module-list-icon"},n.a.createElement("h2",{className:"my-0"},"To Do"))),a.filter((function(e){return"0"==e.archived})).map((function(e,a){return n.a.createElement(B,{key:a,index:a,Task:e,onTaskSelect:t,onMarkAsStart:l,onTaskChecked:c})})),a.filter((function(e){return"1"==e.archived})).length>0&&n.a.createElement("div",{className:"module-list-item bg-success text-white"},n.a.createElement("div",{className:"module-list-icon"},n.a.createElement("h2",{className:"my-0"},"Completed"))),a.filter((function(e){return"1"==e.archived})).map((function(e,a){return n.a.createElement(B,{key:a,index:a,Task:e,onTaskSelect:t,onMarkAsStart:l,onTaskChecked:c})}))))})),F=t(50),J=function(e){var a=e.Tasks,t=Object(l.useState)([]),r=Object(c.a)(t,2),s=(r[0],r[1],Object(o.e)((function(e){return e.settings})).width),i=Object(l.useState)(null),m=Object(c.a)(i,2),d=(m[0],m[1],Object(b.g)());return n.a.createElement("div",null,n.a.createElement("div",{className:"module-box-content"},n.a.createElement("div",{className:"module-box-topbar d-flex align-items-center"},n.a.createElement(D.a,{className:"icon-btn"},n.a.createElement("i",{className:"zmdi zmdi-check"})),"".concat(a.filter((function(e){return"1"==e.archived})).length," of ").concat(a.length," number of Tasks have been completed.")),n.a.createElement(R,{Tasks:a,onMarkAsStart:function(e,a){},width:s,onTaskSelect:function(e){d.push({pathname:"/app/task-manager/my-tasks",state:{task:e}})},onTaskChecked:function(e){},useDragHandle:!0})),n.a.createElement(F.NotificationContainer,null))};a.default=function(e){var a=Object(o.e)((function(e){return e.settings})).width,t=Object(l.useState)(!1),d=Object(c.a)(t,2),h=d[0],g=d[1],v=Object(l.useState)(0),j=Object(c.a)(v,2),k=j[0],y=j[1],w=Object(l.useState)(0),O=Object(c.a)(w,2),x=O[0],T=O[1],S=Object(l.useState)(0),C=Object(c.a)(S,2),_=C[0],M=C[1],z=Object(l.useState)(0),D=Object(c.a)(z,2),P=D[0],I=D[1],B=Object(l.useState)(0),R=Object(c.a)(B,2),U=R[0],G=R[1],H=Object(l.useState)([]),L=Object(c.a)(H,2),W=L[0],q=L[1],K=localStorage.getItem("isFirst"),Q=Object(l.useState)(!1),V=Object(c.a)(Q,2),X=V[0],Y=(V[1],JSON.parse(localStorage.getItem("user")));Object(l.useEffect)((function(){Z()}),[]);var Z=function(){0==K&&(localStorage.setItem("isFirst",1),ee.go(0)),i.a.get(i.b+"dashboard").then((function(e){y(e.data.lives),I(e.data.tasks),T(e.data.messages),M(e.data.recent_messages),G(e.data.tasks_favourite),q(e.data.project_list),g(!0)})).catch((function(e){F.NotificationManager.error(e,"Error!",1e3,(function(){}))}))},$=Object(o.d)(),ee=Object(b.g)();localStorage.getItem("token")||($(Object(p.g)()),ee.push("/"));var ae=[];return ae=Y.user_type<6?[{icon:"collection-plus",title:k,subTitle:"Projects",color:"rgb(244, 67, 54)",url:"/app/project/live"},{icon:"brush",title:P,subTitle:"Tasks",color:"rgb(63, 81, 181)",url:"/app/task-manager/my-tasks"},{icon:"notifications",title:x,subTitle:"Messages",color:"#ff9800",url:"/app/settings/notifications"}]:[{icon:"collection-plus",title:k,subTitle:"Projects",color:"rgb(244, 67, 54)",url:"/app/project/live"},{icon:"notifications",title:x,subTitle:"Messages",color:"#ff9800",url:"/app/settings/notifications"}],h?n.a.createElement("div",{className:"app-wrapper"},n.a.createElement(r.a,{match:e.match,title:n.a.createElement(s.a,{id:"sidebar.dashboard"})}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-6 col-12"},n.a.createElement("div",{className:"row"},ae.map((function(e,a){return Y.user_type<6?n.a.createElement("div",{className:"col-sm-4 col-12",onClick:function(){return ee.push(e.url)},key:a},n.a.createElement(E,{data:e})):n.a.createElement("div",{className:"col-sm-6 col-12",onClick:function(){return ee.push(e.url)},key:a},n.a.createElement(E,{data:e}))})),n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"jr-card"},n.a.createElement(f.a,{heading:"Recent Activities"}),_.map((function(e,a){return n.a.createElement(N,{key:a,recentData:e})})))))),n.a.createElement("div",{className:"col-lg-6 col-12"},n.a.createElement("div",{className:"row"},Y.user_type<6?n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"jr-card",style:{height:"630px"}},n.a.createElement("div",{className:"jr-card-header mb-3 d-flex"},n.a.createElement("h3",{className:"mb-0 mr-auto"},n.a.createElement("i",{className:"zmdi zmdi-brush"})," Tasks (",U.length,")"),n.a.createElement("span",{className:"badge badge-secondary"},"Favourite")),n.a.createElement(J,{Tasks:U}))):null,n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"jr-card",style:{height:"500px"}},n.a.createElement("div",{className:"jr-card-header mb-3 d-flex"},n.a.createElement("h3",{className:"mb-0 mr-auto"},"Current Projects"),n.a.createElement("span",{className:"badge badge-secondary"},"Live")),n.a.createElement(A,{data:W})))))),n.a.createElement(F.NotificationContainer,null)):n.a.createElement("div",{className:"loader-view",style:{height:a>=1200?"calc(100vh - 259px)":"calc(100vh - 238px)"}},n.a.createElement(m.a,null),n.a.createElement(F.NotificationContainer,null),n.a.createElement(u.a,{show:X,warning:!0,confirmBtnText:"Go Back",confirmBtnBsStyle:"danger",cancelBtnBsStyle:"default",title:"Warning!",onConfirm:function(){ee.go(-1)}},"Data not cached, so you can not view this page."))}},480:function(e,a,t){"use strict";var c=t(0),l=t.n(c),n=t(529),r=t(530),s=function(e,a,t){return 0===t?"/":"/"+e.split(a)[0]+a};a.a=function(e){var a=e.title,t=e.match,c=e.project_name,i=e.room_number,o=[],m=t.url.substr(1),d=m.split("/");return d.map((function(e,a){""===e&&d.splice(a,1),"live"===d[a-1]?o[a]=c||"":"live"===d[a-2]?o[a]=i||"":o[a]=e})),l.a.createElement("div",{className:"page-heading d-sm-flex justify-content-sm-between align-items-sm-center"},l.a.createElement("h2",{className:"title mb-3 mb-sm-0"},a),l.a.createElement(n.a,{className:"mb-0",tag:"nav"},d.map((function(e,a){if(0!=a)return l.a.createElement(r.a,{active:d.length===a+1,tag:d.length===a+1?"span":"a",key:a,href:s(m,e,a)},function(e){var a=e.split("-");return a.length>1?a[0].charAt(0).toUpperCase()+a[0].slice(1)+" "+a[1].charAt(0).toUpperCase()+a[1].slice(1):e.charAt(0).toUpperCase()+e.slice(1)}(o[a]))}))))}},529:function(e,a,t){"use strict";var c=t(1),l=t(22),n=t(0),r=t.n(n),s=t(2),i=t.n(s),o=t(54),m=t.n(o),d=t(18),u={tag:d.m,listTag:d.m,className:i.a.string,listClassName:i.a.string,cssModule:i.a.object,children:i.a.node,"aria-label":i.a.string},p=function(e){var a=e.className,t=e.listClassName,n=e.cssModule,s=e.children,i=e.tag,o=e.listTag,u=e["aria-label"],p=Object(l.a)(e,["className","listClassName","cssModule","children","tag","listTag","aria-label"]),b=Object(d.i)(m()(a),n),h=Object(d.i)(m()("breadcrumb",t),n);return r.a.createElement(i,Object(c.a)({},p,{className:b,"aria-label":u}),r.a.createElement(o,{className:h},s))};p.propTypes=u,p.defaultProps={tag:"nav",listTag:"ol","aria-label":"breadcrumb"},a.a=p},530:function(e,a,t){"use strict";var c=t(1),l=t(22),n=t(0),r=t.n(n),s=t(2),i=t.n(s),o=t(54),m=t.n(o),d=t(18),u={tag:d.m,active:i.a.bool,className:i.a.string,cssModule:i.a.object},p=function(e){var a=e.className,t=e.cssModule,n=e.active,s=e.tag,i=Object(l.a)(e,["className","cssModule","active","tag"]),o=Object(d.i)(m()(a,!!n&&"active","breadcrumb-item"),t);return r.a.createElement(s,Object(c.a)({},i,{className:o,"aria-current":n?"page":void 0}))};p.propTypes=u,p.defaultProps={tag:"li"},a.a=p}}]);
//# sourceMappingURL=58.24da8c9d.chunk.js.map