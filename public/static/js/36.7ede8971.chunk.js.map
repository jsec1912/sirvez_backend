{"version":3,"sources":["components/ContainerHeader/index.js","components/CardBox/index.js","../node_modules/@material-ui/icons/PlaylistAdd.js","app/routes/Sites/routes/department/CardEditMenu.js","app/routes/Sites/routes/department/DepartmentTable.js","app/routes/Sites/routes/department/index.js"],"names":["getUrlString","path","sub","index","split","ContainerHeader","title","match","substr","subPath","className","tag","map","active","length","key","href","arr","charAt","toUpperCase","slice","getDisplayString","CardBox","heading","children","styleName","cardStyle","childrenStyle","headerOutside","headingStyle","defaultProps","_interopRequireDefault","require","Object","defineProperty","exports","value","default","_react","_default","createElement","d","CardEditMenu","props","useState","menuState","setMenuState","undefined","anchorEl","setAnchorEl","selectedData","onSelectRow","menu_rows","options","content","id","handleRequestClose","IconButton","onClick","event","currentTarget","Menu","open","onClose","MenuListProps","style","width","paddingTop","paddingBottom","option","MenuItem","columnData","align","disablePadding","label","numeric","DepartmentTable","department_open","setDepartmentOpen","order","setOrder","orderBy","setOrderBy","loader","setLoader","useSelector","settings","History","useHistory","page","setPage","rowsPerPage","setRowsPerPage","tabledata","setTabledata","Departments","setDepartments","department_id","setDepartmentId","customername_rows","setCustomerNames","sitename_rows","setSiteNames","customer_id","setCustomerName","site_id","setSiteName","department_name","setDepartmentName","colour","setColour","archive","setArchive","useEffect","init_Data","$http","get","base_url","then","response","data","departments","handleRequestSort","property","sort_order","sort","a","b","onSelectDepartment","push","pathname","state","DepartmentModalOpen","post","NotificationManager","info","params","console","log","customers","sites","department","company_id","DepartmentModalClose","Toolbar","Typography","variant","SearchBox","placeholder","onChange","target","filter","item","toLowerCase","includes","Tooltip","aria-label","Table","TableHead","TableRow","column","TableCell","placement","enterDelay","TableSortLabel","direction","TableBody","n","hover","tabIndex","customer_name","site_name","buildings_count","floors_count","rooms_count","TableFooter","TablePagination","count","onChangePage","onChangeRowsPerPage","height","CircularProgress","Modal","toggle","isOpen","ModalHeader","TextField","select","SelectProps","helperText","margin","fullWidth","name","multiline","rowsMax","Button","color","frmData","FormData","append","status","success","msg","error","catch","MyTasks","IntlMessages"],"mappings":"mHAAA,sCAYMA,EAAe,SAACC,EAAMC,EAAKC,GAC7B,OAAc,IAAVA,EACO,KAEA,KAAOF,EAAKG,MAAMF,GAAK,GAAKA,GAuB5BG,IAnBS,SAAC,GAAoB,IAAnBC,EAAkB,EAAlBA,MAChBL,EADkC,EAAXM,MACVN,KAAKO,OAAO,GACzBC,EAAUR,EAAKG,MAAM,KAC3B,OACI,yBAAKM,UAAU,2EACX,wBAAIA,UAAU,sBAAsBJ,GAEpC,kBAAC,IAAD,CAAYI,UAAU,OAAOC,IAAI,OAC5BF,EAAQG,KAAI,SAACV,EAAKC,GACX,OAAO,kBAAC,IAAD,CAAgBU,OAAQJ,EAAQK,SAAWX,EAAQ,EACnCQ,IAAKF,EAAQK,SAAWX,EAAQ,EAAI,OAAS,IAAKY,IAAKZ,EACvDa,KAAMhB,EAAaC,EAAMC,EAAKC,IA5BpD,SAACD,GACtB,IAAMe,EAAMf,EAAIE,MAAM,KACtB,OAAIa,EAAIH,OAAS,EACNG,EAAI,GAAGC,OAAO,GAAGC,cAAgBF,EAAI,GAAGG,MAAM,GAAK,IAAMH,EAAI,GAAGC,OAAO,GAAGC,cAAgBF,EAAI,GAAGG,MAAM,GAEvGlB,EAAIgB,OAAO,GAAGC,cAAgBjB,EAAIkB,MAAM,GAuB+BC,CAAiBnB,W,iCC/BvG,oBAEMoB,EAAU,SAAC,GAA2F,IAA1FC,EAAyF,EAAzFA,QAASC,EAAgF,EAAhFA,SAAUC,EAAsE,EAAtEA,UAAWC,EAA2D,EAA3DA,UAAWC,EAAgD,EAAhDA,cAAeC,EAAiC,EAAjCA,cAAeC,EAAkB,EAAlBA,aAErF,OACI,yBAAKnB,UAAS,UAAKe,IACdG,GACD,yBAAKlB,UAAU,mBACX,wBAAIA,UAAU,iBAAiBa,GAC9BC,EAASV,OAAS,GAAK,yBAAKJ,UAAU,qBAAqBc,EAAS,KAIzE,yBAAKd,UAAS,kBAAagB,KACrBE,GACDL,GACG,yBAAKb,UAAS,yBAAoBmB,IAC9B,wBAAInB,UAAU,gBAAgBa,GAC7BC,EAASV,OAAS,GAAK,yBAAKJ,UAAU,eAAec,EAAS,KAGvE,yBAAKd,UAAS,uBAAkBiB,IAC3BH,EAASV,OAAS,EAAIU,EAAS,GAAKA,MAO1CF,MAEfA,EAAQQ,aAAe,CACnBJ,UAAW,GACXG,aAAc,GACdF,cAAe,GACfF,UAAW,uB,iCCjCf,IAAIM,EAAyBC,EAAQ,IAErCC,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAASP,EAAuBC,EAAQ,IAIxCO,GAAW,EAFMR,EAAuBC,EAAQ,MAElBK,SAASC,EAAOD,QAAQG,cAAc,OAAQ,CAC9EC,EAAG,sFACD,eAEJN,EAAQE,QAAUE,G,oOCyCHG,EApDM,SAACC,GAAW,IAAD,EAEMC,oBAAS,GAFf,mBAErBC,EAFqB,KAEVC,EAFU,OAGIF,wBAASG,GAHb,mBAGrBC,EAHqB,KAGXC,EAHW,KAIrBC,EAAwCP,EAAxCO,aAAcC,EAA0BR,EAA1BQ,YAAaC,EAAaT,EAAbS,UAC5BC,EAAUD,GAAyB,CACrC,CAACE,QAAS,SAAUC,GAAI,GACxB,CAACD,QAAS,SAAUC,GAAI,IAQtBC,EAAqB,WACzBV,GAAa,IAGf,OACI,6BACI,kBAACW,EAAA,EAAD,CAAYC,QAXO,SAAAC,GACzBb,GAAa,GACbG,EAAYU,EAAMC,iBAUZ,uBAAGlD,UAAU,yBAEb,kBAACmD,EAAA,EAAD,CACIb,SAAUA,EACVc,KAAMjB,EACNkB,QAASP,EACTzC,IAAKmC,EAAaK,GAClBS,cAAe,CACXC,MAAO,CACHC,MAAO,IACPC,WAAY,EACZC,cAAe,KAItBf,EAAQzC,KAAI,SAAAyD,GAAM,OACf,kBAACC,EAAA,EAAD,CAAUvD,IAAKmC,EAAe,IAAMmB,EAAOf,QACvCI,QAAS,WACLF,IACAL,EAAYD,EAAcmB,EAAOd,MAEpCc,EAAOf,e,uGCtB1BiB,EAAa,CACjB,CAAChB,GAAI,KAAMiB,OAAO,EAAOC,gBAAgB,EAAMC,MAAO,MACtD,CAACnB,GAAI,gBAAiBiB,OAAO,EAAMC,gBAAgB,EAAOC,MAAO,YACjE,CAACnB,GAAI,YAAaiB,OAAO,EAAMC,gBAAgB,EAAOC,MAAO,QAC7D,CAACnB,GAAI,kBAAmBiB,OAAO,EAAMC,gBAAgB,EAAOC,MAAO,cACnE,CAACnB,GAAI,kBAAmBiB,OAAO,EAAMC,gBAAgB,EAAOC,MAAO,aACnE,CAACnB,GAAI,eAAgBiB,OAAO,EAAMC,gBAAgB,EAAOC,MAAO,UAChE,CAACnB,GAAI,cAAeiB,OAAO,EAAMC,gBAAgB,EAAOC,MAAO,SAC/D,CAACnB,GAAI,UAAWiB,OAAO,EAAMC,gBAAgB,EAAOE,QAAS,QAASD,MAAO,YA+VhEE,EA7VS,WAAO,IAAD,EAEiBhC,oBAAS,GAF1B,mBAErBiC,EAFqB,KAEJC,EAFI,OAGFlC,mBAAS,OAHP,mBAGrBmC,EAHqB,KAGdC,EAHc,OAIEpC,mBAAS,MAJX,mBAIrBqC,EAJqB,KAIZC,EAJY,OAKAtC,oBAAS,GALT,mBAKrBuC,EALqB,KAKbC,EALa,KAMrBlB,EAASmB,aAAY,qBAAEC,YAAvBpB,MACDqB,EAAUC,cAPY,EASJ5C,mBAAS,GATL,mBASrB6C,EATqB,KASfC,EATe,OAUU9C,mBAAS,IAVnB,mBAUrB+C,GAVqB,KAURC,GAVQ,QAWMhD,mBAAS,IAXf,qBAWrBiD,GAXqB,MAWVC,GAXU,SAYUlD,mBAAS,IAZnB,qBAYrBmD,GAZqB,MAYRC,GAZQ,SAaapD,mBAAS,MAbtB,qBAarBqD,GAbqB,MAaNC,GAbM,SAckBtD,mBAAS,IAd3B,qBAcrBuD,GAdqB,MAcFC,GAdE,SAeUxD,mBAAS,IAfnB,qBAerByD,GAfqB,MAeNC,GAfM,SAgBW1D,mBAAS,MAhBpB,qBAgBrB2D,GAhBqB,MAgBRC,GAhBQ,SAiBG5D,mBAAS,MAjBZ,qBAiBrB6D,GAjBqB,MAiBZC,GAjBY,SAkBiB9D,mBAAS,MAlB1B,qBAkBrB+D,GAlBqB,MAkBJC,GAlBI,SAmBAhE,mBAAS,MAnBT,qBAmBrBiE,GAnBqB,MAmBbC,GAnBa,SAoBElE,mBAAS,MApBX,qBAoBrBmE,GApBqB,MAoBZC,GApBY,MA2B5BC,qBAAU,WACRC,OACC,IAEH,IAAMA,GAAY,WAChBC,IAAMC,IAAIC,IAAW,6BACpBC,MAAK,SAACC,GACLzB,GAAayB,EAASC,KAAKC,aAC3BzB,GAAeuB,EAASC,KAAKC,aAC7BrC,GAAU,OAQRsC,GAAoB,SAAC/D,EAAOgE,GAChC,IAAIC,EAQW,UANbA,EADE3C,IAAY0C,GAAsB,QAAV5C,EACb,OAEA,OAKXgB,GAAY8B,MAAK,SAACC,EAAGC,GAAJ,OAAWA,EAAEJ,GAAYG,EAAEH,IAAa,EAAI,KAC7D5B,GAAY8B,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAEH,GAAYI,EAAEJ,IAAa,EAAI,KAGjE3C,EAAS4C,GACT1C,EAAWyC,IAePK,GAAqB,SAACR,EAAMrH,GAClB,IAAVA,EACFoF,EAAQ0C,KAAK,CACXC,SAAU,kBACVC,MAAO,CAAC5E,GAAIiE,KAEK,IAAVrH,EACTiI,GAAoBZ,GACD,IAAVrH,GACTgH,IAAMkB,KAAKhB,IAAW,8BAA+B,CAAC9D,GAAIiE,IACzDF,MAAK,SAACC,GACLL,KACAoB,sBAAoBC,KAAK,iCAYzBH,GAAsB,SAACZ,GAC3BtB,GAAgBsB,GAChBL,IAAMC,IAAIC,IAAW,4BAA6B,CAACmB,OAAS,CAACjF,GAAIiE,KAChEF,MAAK,SAACC,GACLkB,QAAQC,IAAInB,EAASC,MACnBpB,GAAiBmB,EAASC,KAAKmB,WAC/BrC,GAAaiB,EAASC,KAAKoB,OACvBpB,EAAO,IACThB,GAAgBe,EAASC,KAAKqB,WAAWC,YACzCpC,GAAYa,EAASC,KAAKqB,WAAWpC,SACrCG,GAAkBW,EAASC,KAAKqB,WAAWlC,iBAC3CG,GAAUS,EAASC,KAAKqB,WAAWhC,QACnCG,GAAWO,EAASC,KAAKqB,WAAW9B,UAEtCjC,GAAkB,OAGlBiE,GAAuB,WAC3BjE,GAAkB,IA2BpB,OAEM,6BACE,kBAACkE,EAAA,EAAD,CAAStI,UAAU,gBACjB,yBAAKA,UAAU,SACb,kBAACuI,EAAA,EAAD,CAAYC,QAAQ,MAApB,gBAEF,yBAAKxI,UAAU,UACX,yBAAKA,UAAU,4CACX,kBAACyI,EAAA,EAAD,CAAWC,YAAY,aACrBC,SAAU,SAAC1F,GAAD,OA9DJ6D,EA8DgC7D,EAAM2F,OAAOlH,WA7DrE4D,GACEH,GAAU0D,QAAO,SAAUC,GACzB,OAAQA,EAAK7C,gBAAgB8C,cAAcC,SAASlC,EAAKiC,mBAHtC,IAACjC,OAkEhB,yBAAK9G,UAAU,WACb,kBAACiJ,EAAA,EAAD,CAASrJ,MAAM,kBACb,kBAACmD,EAAA,EAAD,CAAYmG,aAAW,iBAAiBlG,QAAS,kBAAM0E,GAAoB,QACvE,kBAAC,IAAD,UAMRjD,EACE,yBAAKzE,UAAU,aACb,yBAAKA,UAAU,6BACb,kBAACmJ,EAAA,EAAD,CAAOnJ,UAAU,IACf,kBAACoJ,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACGxF,EAAW3D,KAAI,SAAAoJ,GACd,OACE,kBAACC,EAAA,EAAD,CACElJ,IAAKiJ,EAAOzG,GACZiB,MAAOwF,EAAOrF,SAEd,kBAACgF,EAAA,EAAD,CACErJ,MAAM,OACN4J,UAAWF,EAAOrF,QAAU,aAAe,eAC3CwF,WAAY,KAEV,kBAACC,EAAA,EAAD,CACAvJ,OAAQoE,IAAY+E,EAAOzG,GAC3B8G,UAAWtF,EACXrB,SAlJNiE,EAkJiCqC,EAAOzG,GAlJ5B,SAAAI,GACpC+D,GAAkB/D,EAAOgE,MAmJMqC,EAAOtF,SApJd,IAAAiD,OA4JR,kBAAC2C,EAAA,EAAD,KACGvE,GAAY3E,MAAMqE,EAAOE,GAAaF,EAAOE,GAAcA,IAAa/E,KAAI,SAAC2J,GAAD,OACzE,kBAACR,EAAA,EAAD,CACES,OAAK,EACLzJ,IAAKwJ,EAAEhH,GACPG,QAAS,SAAAC,GAA4B4G,EAAEhH,IAEvCkH,UAAW,GAEX,kBAACR,EAAA,EAAD,KAAYM,EAAEhH,IACd,kBAAC0G,EAAA,EAAD,KAAYM,EAAEG,eACd,kBAACT,EAAA,EAAD,KAAYM,EAAEI,WACd,kBAACV,EAAA,EAAD,KAAYM,EAAE5D,iBACd,kBAACsD,EAAA,EAAD,KAAYM,EAAEK,iBACd,kBAACX,EAAA,EAAD,KAAYM,EAAEM,cACd,kBAACZ,EAAA,EAAD,KAAYM,EAAEO,aACd,kBAACb,EAAA,EAAD,CAAWvJ,UAAU,cACnB,kBAAC,EAAD,CAAcK,IAAKwJ,EAAEhH,GAAIL,aAAcqH,EAAEhH,GACvCJ,YAAa6E,WAKzB,kBAAC+C,EAAA,EAAD,KACE,kBAAChB,EAAA,EAAD,KACE,kBAACiB,EAAA,EAAD,CACEC,MAAOlF,GAAYjF,OACnB6E,YAAaA,GACbF,KAAMA,EACNyF,aA9JC,SAACvH,EAAO8B,GAC/BC,EAAQD,IA8Jc0F,oBA3JQ,SAAAxH,GAC9BiC,GAAejC,EAAM2F,OAAOlH,cAgKhB,kBAAC,wBAAD,OAGF,yBAAK1B,UAAU,cACPuD,MAAO,CAACmH,OAAQlH,GAAS,KAAO,sBAAwB,wBAC5D,kBAACmH,EAAA,EAAD,OAIR,kBAACC,EAAA,EAAD,CAAOvK,IAAI,kBAAkBL,UAAU,YAAY6K,OAAQxC,GAAsByC,OAAQ3G,GACvF,kBAAC4G,EAAA,EAAD,KAAcxF,GAAgB,oBAAoB,iBAC9C,kBAACxC,EAAA,EAAD,CAAY/C,UAAU,YACVgD,QAASqF,IACjB,kBAAC,IAAD,QAGR,yBAAKrI,UAAU,qBACX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,mBACX,kBAACgL,EAAA,EAAD,CACInI,GAAG,eACHoI,QAAM,EACNjH,MAAM,gBACNtC,MAAOmE,GACP8C,SAAU,SAAC1F,GAAD,OAAS6C,GAAgB7C,EAAM2F,OAAOlH,QAChDwJ,YAAa,GACbC,WAAW,8BACXC,OAAO,SACPC,WAAS,GAER5F,GAAkBvF,KAAI,SAAAyD,GAAM,OACzB,kBAACC,EAAA,EAAD,CAAUvD,IAAKsD,EAAOd,GAAInB,MAAOiC,EAAOd,IACnCc,EAAO2H,WAKxB,yBAAKtL,UAAU,mBACX,kBAACgL,EAAA,EAAD,CACInI,GAAG,WACHoI,QAAM,EACNjH,MAAM,YACNtC,MAAOqE,GACP4C,SAAU,SAAC1F,GAAD,OAAS+C,GAAY/C,EAAM2F,OAAOlH,QAC5CwJ,YAAa,GACbC,WAAW,0BACXC,OAAO,SACPC,WAAS,GAER1F,GAAckD,QAAO,SAAAlF,GACV,OAAOA,EAAOyE,YAAcvC,MAC7B3F,KAAI,SAAAyD,GAAM,OACjB,kBAACC,EAAA,EAAD,CAAUvD,IAAKsD,EAAOd,GAAInB,MAAOiC,EAAOd,IACnCc,EAAOsG,gBAKxB,yBAAKjK,UAAU,mBACX,kBAACgL,EAAA,EAAD,CACInI,GAAG,kBACHmB,MAAM,aACNtC,MAAOuE,GACP0C,SAAU,SAAC1F,GAAD,OAAWiD,GAAkBjD,EAAM2F,OAAOlH,QACpD0J,OAAO,SACPD,WAAW,0BACXE,WAAS,KAGjB,yBAAKrL,UAAU,mBACX,kBAACgL,EAAA,EAAD,CACInI,GAAG,SACHmB,MAAM,SACNuH,WAAS,EACTC,QAAQ,IACR9J,MAAOyE,GACPwC,SAAU,SAAC1F,GAAD,OAAWmD,GAAUnD,EAAM2F,OAAOlH,QAC5C0J,OAAO,SACPC,WAAS,KAGjB,yBAAKrL,UAAU,mBACX,kBAACgL,EAAA,EAAD,CACInI,GAAG,UACHoI,QAAM,EACNjH,MAAM,UACNtC,MAAO2E,GACPsC,SAAU,SAAC1F,GAAD,OAASqD,GAAWrD,EAAM2F,OAAOlH,QAC3CwJ,YAAa,GACbC,WAAW,yBACXC,OAAO,SACPC,WAAS,GA9Sb,CACpB,CAACxI,GAAI,EAAGD,QAAS,WACjB,CAACC,GAAI,EAAGD,QAAS,SA8SqB1C,KAAI,SAAAyD,GAAM,OACpB,kBAACC,EAAA,EAAD,CAAUvD,IAAKsD,EAAOd,GAAInB,MAAOiC,EAAOd,IACnCc,EAAOf,gBAQhC,yBAAK5C,UAAU,oCACX,kBAACyL,EAAA,EAAD,CAAQzI,QAASqF,GAAsBqD,MAAM,aAA7C,UAGA,kBAACD,EAAA,EAAD,CAAQzI,QA7NM,WACxBqF,KACA,IAAMsD,EAAU,IAAIC,SACpBD,EAAQE,OAAO,KAAMtG,IACrBoG,EAAQE,OAAO,aAAchG,IAC7B8F,EAAQE,OAAO,UAAW9F,IAC1B4F,EAAQE,OAAO,kBAAmB5F,IAClC0F,EAAQE,OAAO,SAAU1F,IACzBwF,EAAQE,OAAO,UAAWxF,IAE1BI,IAAMkB,KAAKhB,IAAW,8BAA+BgF,GACpD/E,MAAK,SAACC,GAC0B,YAAzBA,EAASC,KAAKgF,QACdlE,sBAAoBmE,QAAQlF,EAASC,KAAKkF,IAAK,WAAY,KAAM,eAEjExF,MACgC,UAAzBK,EAASC,KAAKgF,QACrBlE,sBAAoBqE,MAAMpF,EAASC,KAAKkF,IAAK,SAAU,KAAM,kBAGlEE,OAAM,SAACD,GACNlE,QAAQC,IAAI,SAAUiE,OAwMsBP,MAAM,WAA5C,Y,SCpWDS,UAdC,SAAClK,GAEb,OACI,yBAAKjC,UAAU,eACX,kBAACL,EAAA,EAAD,CAAiBE,MAAOoC,EAAMpC,MAAOD,MAAO,kBAACwM,EAAA,EAAD,CAAcvJ,GAAG,gCAC7D,yBAAK7C,UAAU,mDACX,kBAACY,EAAA,EAAD,CAASG,UAAU,UACf,kBAAC,EAAD","file":"static/js/36.7ede8971.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Breadcrumb, BreadcrumbItem} from 'reactstrap';\r\n\r\nconst getDisplayString = (sub) => {\r\n    const arr = sub.split(\"-\");\r\n    if (arr.length > 1) {\r\n        return arr[0].charAt(0).toUpperCase() + arr[0].slice(1) + \" \" + arr[1].charAt(0).toUpperCase() + arr[1].slice(1)\r\n    } else {\r\n        return sub.charAt(0).toUpperCase() + sub.slice(1)\r\n    }\r\n\r\n};\r\nconst getUrlString = (path, sub, index) => {\r\n    if (index === 0) {\r\n        return '#/';\r\n    } else {\r\n        return '#/' + path.split(sub)[0] + sub;\r\n    }\r\n};\r\n\r\nconst ContainerHeader = ({title, match}) => {\r\n    const path = match.path.substr(1);\r\n    const subPath = path.split('/');\r\n    return (\r\n        <div className=\"page-heading d-sm-flex justify-content-sm-between align-items-sm-center\">\r\n            <h2 className=\"title mb-3 mb-sm-0\">{title}</h2>\r\n\r\n            <Breadcrumb className=\"mb-0\" tag=\"nav\">\r\n                {subPath.map((sub, index) => {\r\n                        return <BreadcrumbItem active={subPath.length === index + 1}\r\n                                               tag={subPath.length === index + 1 ? \"span\" : \"a\"} key={index}\r\n                                               href={getUrlString(path, sub, index)}>{getDisplayString(sub)}</BreadcrumbItem>\r\n                    }\r\n                )}\r\n            </Breadcrumb>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ContainerHeader;\r\n\r\n","import React from 'react';\r\n\r\nconst CardBox = ({heading, children, styleName, cardStyle, childrenStyle, headerOutside, headingStyle}) => {\r\n\r\n    return (\r\n        <div className={`${styleName}`}>\r\n            {headerOutside &&\r\n            <div className=\"jr-entry-header\">\r\n                <h3 className=\"entry-heading\">{heading}</h3>\r\n                {children.length > 1 && <div className=\"entry-description\">{children[0]}</div>}\r\n            </div>\r\n            }\r\n\r\n            <div className={`jr-card ${cardStyle}`}>\r\n                {!headerOutside &&\r\n                (heading &&\r\n                    <div className={`jr-card-header ${headingStyle}`}>\r\n                        <h3 className=\"card-heading\">{heading}</h3>\r\n                        {children.length > 1 && <div className=\"sub-heading\">{children[0]}</div>}\r\n                    </div>\r\n                )}\r\n                <div className={`jr-card-body ${childrenStyle}`}>\r\n                    {children.length > 1 ? children[1] : children}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default CardBox;\r\n\r\nCardBox.defaultProps = {\r\n    cardStyle: '',\r\n    headingStyle: '',\r\n    childrenStyle: '',\r\n    styleName: 'col-lg-6 col-sm-12'\r\n};","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M14 10H2v2h12v-2zm0-4H2v2h12V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM2 16h8v-2H2v2z\"\n}), 'PlaylistAdd');\n\nexports.default = _default;","import React, {useState} from 'react';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\n\r\n\r\nconst CardEditMenu = (props) => {\r\n    \r\n    const [menuState, setMenuState] = useState(false);\r\n    const [anchorEl, setAnchorEl] = useState(undefined);\r\n    const {selectedData, onSelectRow, menu_rows} = props;\r\n    const options = menu_rows ? menu_rows : ([\r\n        {content: 'Modify', id: 1},\r\n        {content: 'Delete', id: 2}\r\n    ]);\r\n\r\n    const onOptionMenuSelect = event => {\r\n      setMenuState(true);\r\n      setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleRequestClose = () => {\r\n      setMenuState(false);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <IconButton onClick={onOptionMenuSelect}>\r\n            <i className=\"zmdi zmdi-more-vert\"/></IconButton>\r\n\r\n            <Menu \r\n                anchorEl={anchorEl}\r\n                open={menuState}\r\n                onClose={handleRequestClose}\r\n                key={selectedData.id}\r\n                MenuListProps={{\r\n                    style: {\r\n                        width: 150,\r\n                        paddingTop: 0,\r\n                        paddingBottom: 0\r\n                    },\r\n                }}>\r\n\r\n                {options.map(option =>\r\n                    <MenuItem key={selectedData + \"-\" + option.content} \r\n                        onClick={() => {\r\n                            handleRequestClose();\r\n                            onSelectRow(selectedData, option.id);\r\n                        } }>\r\n                        {option.content}\r\n                    </MenuItem>\r\n                )}\r\n            </Menu>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CardEditMenu;\r\n","import React, {useState, useEffect} from \"react\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableFooter from \"@material-ui/core/TableFooter\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TablePagination from \"@material-ui/core/TablePagination\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport PlaylistPlayIcon from \"@material-ui/icons/PlaylistAdd\";\r\nimport CardEditMenu from './CardEditMenu.js'\r\nimport SearchBox from '../../../../../components/SearchBox/index';\r\nimport {useSelector} from 'react-redux';\r\nimport {useHistory} from 'react-router-dom';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport {base_url, $http} from \"config\";\r\nimport {Modal, ModalHeader} from 'reactstrap';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Button from '@material-ui/core/Button';\r\nimport {NotificationContainer, NotificationManager} from 'react-notifications';\r\n\r\nconst columnData = [\r\n  {id: \"id\", align: false, disablePadding: true, label: \"ID\"},\r\n  {id: \"customer_name\", align: true, disablePadding: false, label: \"Customer\"},\r\n  {id: \"site_name\", align: true, disablePadding: false, label: \"Site\"},\r\n  {id: \"department_name\", align: true, disablePadding: false, label: \"Department\"},\r\n  {id: \"buildings_count\", align: true, disablePadding: false, label: \"Buildings\"},\r\n  {id: \"floors_count\", align: true, disablePadding: false, label: \"Floors\"},\r\n  {id: \"rooms_count\", align: true, disablePadding: false, label: \"Rooms\"},\r\n  {id: \"actions\", align: true, disablePadding: false, numeric: 'right', label: \"Actions\"}\r\n];\r\nconst DepartmentTable = () => {\r\n\r\n  const [department_open, setDepartmentOpen] = useState(false);\r\n  const [order, setOrder] = useState(\"asc\");\r\n  const [orderBy, setOrderBy] = useState(\"id\");\r\n  const [loader, setLoader] = useState(false);\r\n  const {width} = useSelector(({settings}) => settings);\r\n  const History = useHistory();\r\n\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n  const [tabledata, setTabledata] = useState([]);\r\n  const [Departments, setDepartments] = useState([]);\r\n  const [department_id, setDepartmentId] = useState(null);\r\n  const [customername_rows, setCustomerNames] = useState([]);\r\n  const [sitename_rows, setSiteNames] = useState([]);\r\n  const [customer_id, setCustomerName] = useState(null);\r\n  const [site_id, setSiteName] = useState(null);\r\n  const [department_name, setDepartmentName] = useState(null);\r\n  const [colour, setColour] = useState(null);\r\n  const [archive, setArchive] = useState(null);\r\n  const archive_rows = ([\r\n    {id: 0, content: 'Archive'},\r\n    {id: 1, content: 'Live'}\r\n]);\r\n  \r\n\r\n  useEffect(() => {\r\n    init_Data();\r\n  }, []);\r\n\r\n  const init_Data = () => {\r\n    $http.get(base_url + \"department/departmentList\")\r\n    .then((response) => {\r\n      setTabledata(response.data.departments);\r\n      setDepartments(response.data.departments);\r\n      setLoader(true);\r\n    });\r\n  }\r\n\r\n  const createSortHandler = property => event => {\r\n    handleRequestSort(event, property);\r\n  };\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    let sort_order;\r\n    if (orderBy === property && order === \"asc\") {\r\n      sort_order = \"desc\";\r\n    } else {\r\n      sort_order = \"asc\";\r\n    }\r\n\r\n    \r\n    sort_order === \"desc\"\r\n      ? Departments.sort((a, b) => (b[property] < a[property] ? -1 : 1))\r\n      : Departments.sort((a, b) => (a[property] < b[property] ? -1 : 1));\r\n\r\n    \r\n    setOrder(sort_order);\r\n    setOrderBy(property);\r\n  };\r\n\r\n  const handleClick = (event, id) => {\r\n    \r\n    //setSelected(newSelected);\r\n  };\r\n\r\n  const handleChangePage = (event, page) => {\r\n    setPage(page);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = event => {\r\n    setRowsPerPage(event.target.value);\r\n  };\r\n  const onSelectDepartment = (data, index) => {\r\n    if (index === 0) {\r\n      History.push({\r\n        pathname: \"/app/sites/site\",\r\n        state: {id: data}\r\n      })\r\n    } else if (index === 1) {\r\n      DepartmentModalOpen(data);\r\n    } else if (index === 2) {\r\n      $http.post(base_url + \"department/deleteDepartment\", {id: data})\r\n      .then((response) => {\r\n        init_Data();\r\n        NotificationManager.info(\"You removed selected user\");\r\n      })\r\n    }\r\n  }\r\n\r\n  const SearchDepartment = (data) => {\r\n    setDepartments(\r\n      tabledata.filter(function (item) {\r\n        return (item.department_name.toLowerCase().includes(data.toLowerCase()));\r\n      })\r\n    );\r\n  }\r\n  const DepartmentModalOpen = (data) => {\r\n    setDepartmentId(data);\r\n    $http.get(base_url + \"department/departmentInfo\", {params : {id: data}})\r\n    .then((response) => {\r\n      console.log(response.data);\r\n        setCustomerNames(response.data.customers);\r\n        setSiteNames(response.data.sites);\r\n        if (data > 0) {\r\n          setCustomerName(response.data.department.company_id);\r\n          setSiteName(response.data.department.site_id);\r\n          setDepartmentName(response.data.department.department_name);\r\n          setColour(response.data.department.colour);\r\n          setArchive(response.data.department.archive);\r\n        }\r\n        setDepartmentOpen(true);\r\n    })\r\n  }\r\n  const DepartmentModalClose = () => {\r\n    setDepartmentOpen(false);\r\n  }\r\n  const DepartmentModalSave = () => {\r\n      DepartmentModalClose();\r\n      const frmData = new FormData();\r\n      frmData.append('id', department_id);\r\n      frmData.append('company_id', customer_id);\r\n      frmData.append('site_id', site_id);\r\n      frmData.append('department_name', department_name);\r\n      frmData.append('colour', colour);\r\n      frmData.append('archive', archive);\r\n\r\n      $http.post(base_url + \"department/updateDepartment\", frmData)\r\n      .then((response) => {\r\n          if (response.data.status === \"success\") {\r\n              NotificationManager.success(response.data.msg, \"Success!\", 5000, () => {\r\n              });\r\n              init_Data();\r\n          } else if (response.data.status === \"error\") {\r\n              NotificationManager.error(response.data.msg, \"Error!\", 5000, () => {\r\n              });\r\n          }\r\n      }).catch((error)=>{\r\n          console.log(\"error:\", error);\r\n      })\r\n  }\r\n\r\n  return (\r\n    \r\n        <div>\r\n          <Toolbar className=\"table-header\">\r\n            <div className=\"title\">\r\n              <Typography variant=\"h6\">Departments</Typography>\r\n            </div>\r\n            <div className=\"spacer\">\r\n                <div className=\"col-md-3 col-lg-3 col-sx-6 col-6 ml-auto\">\r\n                    <SearchBox placeholder=\"Search ...\"\r\n                      onChange={(event) => SearchDepartment(event.target.value)}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className=\"actions\">\r\n              <Tooltip title=\"New Department\">\r\n                <IconButton aria-label=\"New Department\" onClick={() => DepartmentModalOpen(null)}>\r\n                    <PlaylistPlayIcon/>\r\n                </IconButton>\r\n              </Tooltip>\r\n            </div>\r\n          </Toolbar>\r\n          {\r\n            loader ? (\r\n              <div className=\"flex-auto\">\r\n                <div className=\"table-responsive-material\">\r\n                  <Table className=\"\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        {columnData.map(column => {\r\n                          return (\r\n                            <TableCell\r\n                              key={column.id}\r\n                              align={column.numeric}\r\n                            >\r\n                              <Tooltip\r\n                                title=\"Sort\"\r\n                                placement={column.numeric ? \"bottom-end\" : \"bottom-start\"}\r\n                                enterDelay={300}\r\n                              >\r\n                                  <TableSortLabel\r\n                                  active={orderBy === column.id}\r\n                                  direction={order}\r\n                                  onClick={createSortHandler(column.id)}\r\n                                >\r\n                                  {column.label}\r\n                                </TableSortLabel>\r\n                              </Tooltip>\r\n                            </TableCell>\r\n                          );\r\n                        })}\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      {Departments.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((n) => \r\n                          <TableRow\r\n                            hover\r\n                            key={n.id}\r\n                            onClick={event => handleClick(event, n.id)}\r\n                            //onKeyDown={event => handleKeyDown(event, n.id)}\r\n                            tabIndex={-1}\r\n                          >\r\n                            <TableCell>{n.id}</TableCell>\r\n                            <TableCell>{n.customer_name}</TableCell>\r\n                            <TableCell>{n.site_name}</TableCell>\r\n                            <TableCell>{n.department_name}</TableCell>\r\n                            <TableCell>{n.buildings_count}</TableCell>\r\n                            <TableCell>{n.floors_count}</TableCell>\r\n                            <TableCell>{n.rooms_count}</TableCell>\r\n                            <TableCell className=\"text-right\">\r\n                              <CardEditMenu key={n.id} selectedData={n.id} \r\n                                onSelectRow={onSelectDepartment}/>\r\n                            </TableCell>\r\n                          </TableRow>\r\n                        )}\r\n                    </TableBody>\r\n                    <TableFooter>\r\n                      <TableRow>\r\n                        <TablePagination\r\n                          count={Departments.length}\r\n                          rowsPerPage={rowsPerPage}\r\n                          page={page}\r\n                          onChangePage={handleChangePage}\r\n                          onChangeRowsPerPage={handleChangeRowsPerPage}\r\n                        />\r\n                      </TableRow>\r\n                    </TableFooter>\r\n                  </Table>\r\n                </div>\r\n                <NotificationContainer/>\r\n              </div>\r\n            ):(\r\n              <div className=\"loader-view\"\r\n                      style={{height: width >= 1200 ? 'calc(100vh - 259px)' : 'calc(100vh - 238px)'}}>\r\n                  <CircularProgress/>\r\n              </div>        \r\n            )\r\n          }\r\n          <Modal key=\"department-save\" className=\"modal-box\" toggle={DepartmentModalClose} isOpen={department_open}>\r\n            <ModalHeader>{department_id ? 'Modify Department':'Add Department'}\r\n                <IconButton className=\"text-grey\"\r\n                            onClick={DepartmentModalClose}>\r\n                    <CloseIcon/>\r\n                </IconButton>\r\n            </ModalHeader>\r\n            <div className=\"modal-box-content\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-6 col-12\">\r\n                        <TextField\r\n                            id=\"custemername\"\r\n                            select\r\n                            label=\"Customer Name\"\r\n                            value={customer_id}\r\n                            onChange={(event)=>setCustomerName(event.target.value)}\r\n                            SelectProps={{}}\r\n                            helperText=\"Please select Customer Name\"\r\n                            margin=\"normal\"\r\n                            fullWidth\r\n                        >\r\n                            {customername_rows.map(option => (\r\n                                <MenuItem key={option.id} value={option.id}>\r\n                                    {option.name}\r\n                                </MenuItem>\r\n                            ))}\r\n                        </TextField>\r\n                    </div>\r\n                    <div className=\"col-md-6 col-12\">\r\n                        <TextField\r\n                            id=\"sitename\"\r\n                            select\r\n                            label=\"Site Name\"\r\n                            value={site_id}\r\n                            onChange={(event)=>setSiteName(event.target.value)}\r\n                            SelectProps={{}}\r\n                            helperText=\"Please select Site Name\"\r\n                            margin=\"normal\"\r\n                            fullWidth\r\n                        >\r\n                            {sitename_rows.filter(option => {\r\n                                        return option.company_id == customer_id\r\n                                    }).map(option => (\r\n                                <MenuItem key={option.id} value={option.id}>\r\n                                    {option.site_name}\r\n                                </MenuItem>\r\n                            ))}\r\n                        </TextField>\r\n                    </div>\r\n                    <div className=\"col-md-6 col-12\">\r\n                        <TextField \r\n                            id=\"department_name\"\r\n                            label=\"Department\"\r\n                            value={department_name}\r\n                            onChange={(event) => setDepartmentName(event.target.value)}\r\n                            margin=\"normal\"\r\n                            helperText=\"Please Enter Department\"\r\n                            fullWidth\r\n                            />\r\n                    </div>\r\n                    <div className=\"col-md-6 col-12\">\r\n                        <TextField\r\n                            id=\"colour\"\r\n                            label=\"Colour\"\r\n                            multiline\r\n                            rowsMax=\"4\"\r\n                            value={colour}\r\n                            onChange={(event) => setColour(event.target.value)}\r\n                            margin=\"normal\"\r\n                            fullWidth\r\n                        />\r\n                    </div>\r\n                    <div className=\"col-md-6 col-12\">\r\n                        <TextField\r\n                            id=\"archive\"\r\n                            select\r\n                            label=\"Archive\"\r\n                            value={archive}\r\n                            onChange={(event)=>setArchive(event.target.value)}\r\n                            SelectProps={{}}\r\n                            helperText=\"Please select Priority\"\r\n                            margin=\"normal\"\r\n                            fullWidth\r\n                            >\r\n                            {archive_rows.map(option => (\r\n                                <MenuItem key={option.id} value={option.id}>\r\n                                    {option.content}\r\n                                </MenuItem>\r\n                            ))}\r\n                        </TextField>\r\n                    </div>\r\n                  \r\n                </div>\r\n            </div>\r\n            <div className=\"modal-box-footer d-flex flex-row\">\r\n                <Button onClick={DepartmentModalClose} color=\"secondary\">\r\n                Cancel\r\n                </Button>\r\n                <Button onClick={DepartmentModalSave} color=\"primary\">\r\n                Save\r\n                </Button>\r\n            </div>\r\n          </Modal>\r\n        </div>\r\n        \r\n  );\r\n};\r\n\r\nexport default DepartmentTable;\r\n","import React from 'react';\r\nimport ContainerHeader from 'components/ContainerHeader/index';\r\nimport IntlMessages from 'util/IntlMessages';\r\nimport DepartmentTable from \"./DepartmentTable\";\r\nimport CardBox from \"components/CardBox/index\";\r\n\r\nconst MyTasks = (props) => {\r\n\r\n    return (\r\n        <div className=\"app-wrapper\">\r\n            <ContainerHeader match={props.match} title={<IntlMessages id=\"sidebar.sites.departments\"/>}/>\r\n            <div className=\"row animated slideInUpTiny animation-duration-3\">\r\n                <CardBox styleName=\"col-12\">\r\n                    <DepartmentTable />\r\n                </CardBox>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MyTasks;"],"sourceRoot":""}