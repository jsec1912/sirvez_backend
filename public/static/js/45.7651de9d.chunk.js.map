{"version":3,"sources":["app/routes/TaskManager/routes/AddNew/index.js","components/ContainerHeader/index.js","components/CardBox/index.js","../node_modules/react-image-file-resizer/build/index.js","../node_modules/reactstrap/es/Breadcrumb.js","../node_modules/reactstrap/es/BreadcrumbItem.js"],"names":["AddNew","props","useState","task_id","setTaskId","loader","setLoader","location","state","customer_id","customer","setCustomer","project_id","project","setProject","room_id","room","setRoom","assign_to","setAssignTo","Date","due_by_date","handleDateChange","task","setTask","task_description","setTaskDes","task_img","setTaskImg","TaskImgUrl","setTaskImgUrl","priority","setPriority","customer_rows","setCustomerRows","project_rows","setProjectRows","assign_to_rows","setAssignToRows","room_rows","setRoomRows","History","useHistory","width","useSelector","settings","goback","setGoback","useEffect","$http","get","base_url","params","id","then","response","data","company_id","description","localStorage","getItem","pixie_room_id","pixie_data","arr","split","mime","match","bstr","atob","n","length","u8arr","Uint8Array","charCodeAt","file_name","JSON","parse","getTime","pop","pixie_obj","File","type","URL","createObjectURL","removeItem","public_url","catch","error","SaveTask","save_type","off_task_id","navigator","onLine","caches","open","cache","fileName","put","Response","default_data","requestUrl_customer","requestUrl_project","requestUrl_room","new_task","account_manager","first_name","archived","archived_day","building_name","company_name","filter","item","name","created_at","created_by","getFullYear","getMonth","getDate","favourite","floor_name","profile_pic","project_name","room_number","site_id","site_name","updated_at","updated_by","json","tasks","unshift","jsonResponse","stringify","headers","clone","frmData","FormData","append","post","status","sel_project","find","sel_room","push","pathname","ModifyImg","NotificationManager","msg","resizeFile","file","Promise","resolve","Resizer","imageFileResizer","uri","uploadImage","event","a","target","files","image","img_file_name","setItem","img_id","img_url","img_file","className","title","styleName","autoComplete","label","value","onChange","margin","helperText","fullWidth","select","SelectProps","map","option","key","htmlFor","multiple","input","MenuProps","PaperProps","style","maxHeight","ITEM_HEIGHT","fontWeight","indexOf","utils","DateFnsUtils","format","KeyboardButtonProps","content","multiline","rowsMax","accept","display","color","variant","onClick","e","document","getElementById","click","alt","src","height","show","warning","confirmBtnText","confirmBtnBsStyle","cancelBtnBsStyle","onConfirm","go","getUrlString","path","sub","index","ContainerHeader","url_name","url","substr","subPath","splice","tag","active","href","charAt","toUpperCase","slice","getDisplayString","CardBox","heading","children","cardStyle","childrenStyle","headerOutside","headingStyle","defaultProps","module","exports","t","r","i","l","call","m","c","d","o","Object","defineProperty","enumerable","Symbol","toStringTag","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","configurable","writable","TypeError","this","Math","round","arguments","u","createElement","h","g","changeHeightWidth","f","getContext","rotate","PI","translate","drawImage","toDataURL","concat","toString","replace","Array","Blob","FileReader","readAsDataURL","onload","Image","result","resizeAndRotateImage","b64toBlob","onerror","createResizedImage","propTypes","tagPropType","listTag","PropTypes","string","listClassName","cssModule","object","node","Breadcrumb","Tag","ListTag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","listClasses","React","_extends","bool","BreadcrumbItem","undefined"],"mappings":"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","file":"static/js/45.7651de9d.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport ContainerHeader from 'components/ContainerHeader/index';\nimport {NotificationContainer, NotificationManager} from 'react-notifications';\nimport IntlMessages from 'util/IntlMessages';\nimport CardBox from 'components/CardBox/index';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport {KeyboardDatePicker, MuiPickersUtilsProvider} from '@material-ui/pickers';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport {base_url,public_url,$http} from \"../../../../../config\";\nimport FormControl from '@material-ui/core/FormControl';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport {useHistory} from 'react-router-dom';\nimport {useSelector} from 'react-redux';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport SweetAlert from 'react-bootstrap-sweetalert'\nimport Resizer from 'react-image-file-resizer';\nimport Fab from '@material-ui/core/Fab';\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\n\nconst AddNew = (props) => {\n    //console.log(props.location.state)\n    const [task_id,setTaskId] = useState('');\n    const [loader, setLoader] = useState(false);\n    const [customer, setCustomer] = useState(props.location.state?props.location.state.customer_id:'');\n    //const [site_name, setSiteName] = useState(\"\");\n    const [project, setProject] = useState(props.location.state?props.location.state.project_id:'');\n    const [room, setRoom] = useState(props.location.state?props.location.state.room_id:'');\n    const [assign_to, setAssignTo] = useState([]);\n    const [due_by_date, handleDateChange] = useState(new Date());\n    const [task, setTask] = useState(\"\");\n    const [task_description, setTaskDes] = useState(\"\");\n    const [task_img, setTaskImg] = useState(null);\n    const [TaskImgUrl, setTaskImgUrl] = useState(\"\");\n    const [priority, setPriority] = useState(0);\n    const [customer_rows, setCustomerRows] = useState([]);\n    //const [sitename_rows, setSiteNameRows] = useState([]);\n    const [project_rows, setProjectRows] = useState([]);\n    const [assign_to_rows, setAssignToRows] = useState([]);\n    const [room_rows, setRoomRows] = useState([]);\n    const History = useHistory();\n    const priority_rows = ([\n        {id: 0, content: 'Low'},\n        {id: 1, content: 'High'}\n    ]);\n    const {width} = useSelector(({settings}) => settings);\n    const [goback, setGoback] = useState(false)\n\n    useEffect(() => {\n        $http.get(base_url + \"task/getTaskInfo\", {params : {id: task_id}})\n        .then((response) => {\n            //console.log(\"task\", response.data);\n            setCustomerRows(response.data.customer);\n            //setSiteNameRows(response.data.customer_site);\n            setProjectRows(response.data.project);\n            setRoomRows(response.data.room);\n            setAssignToRows(response.data.assign_to);\n            if (task_id) {\n                setCustomer(response.data.task.company_id);\n                //setSiteName(response.data.task.site_id);\n                setProject(response.data.task.project_id);\n                setRoom(response.data.task.room_id);\n                setAssignTo(response.data.task.assign_to);\n                setTask(response.data.task.task);\n                setTaskDes(response.data.task.description);\n                setPriority(response.data.task.priority);\n                handleDateChange(new Date(response.data.task.due_by_date));\n                //setTaskImgUrl(response.data.task.task_img );\n                if (localStorage.getItem('pixie_room_id')) {\n                    let pixie_room_id = localStorage.getItem('pixie_room_id')\n                    let pixie_data = localStorage.getItem('pixie_data')\n                    if (task_id === pixie_room_id) {\n                        let arr = pixie_data.split(','),\n                        mime = arr[0].match(/:(.*?);/)[1],\n                        bstr = atob(arr[1]), \n                        n = bstr.length, \n                        u8arr = new Uint8Array(n);\n\n                        while (n--) {\n                            u8arr[n] = bstr.charCodeAt(n)\n                        }\n                        let file_name = JSON.parse(localStorage.getItem('user')).id + '-' + new Date().getTime() + '-' + 'pixie.' + mime.split('/').pop()\n                        let pixie_obj = new File([u8arr], file_name, {type: mime})\n                        \n                        setTaskImg(pixie_obj)\n                        setTaskImgUrl(URL.createObjectURL(pixie_obj))\n                    }\n\n                    localStorage.removeItem('pixie_room_id')\n                    localStorage.removeItem('pixie_id')\n                    localStorage.removeItem('pixie_data')\n\n                } else {\n                    setTaskImgUrl(task_img?public_url + 'upload/img/' + task_img:'')\n                }\n            }\n            setLoader(true);\n        }).catch((error) => {\n            setGoback(true)\n          })\n    }, [task_id])    \n\n    const SaveTask = (save_type) => {\n        \n        let off_task_id =  task_id ? task_id : JSON.parse(localStorage.getItem('user')).id + '_' + new Date().getTime()\n        if (!navigator.onLine) {\n            caches.open('SirvezApp').then(function(cache) {\n                let fileName = null\n                if (task_img) {\n                    fileName = new Date().getTime() + '-' + TaskImgUrl\n                    cache.put('/upload/file/'+fileName, new Response(task_img));\n                }\n\n                // save into list\n\n                const requestUrl = '/api/task/taskList'\n                const requestUrl_customer = '/api/task/taskList?customer_id=' + customer\n                const requestUrl_project = '/api/task/taskList?project_id=' + project\n                const requestUrl_room = '/api/task/taskList?project_id=' + project + '&room_id=' + room\n\n                // console.log('request', requestUrl)\n                // console.log(requestUrl_customer)\n                // console.log(requestUrl_project)\n                // console.log(requestUrl_room)\n                let new_task = {\n                    id: off_task_id,\n                    account_manager: JSON.parse(localStorage.getItem('user')).first_name,\n                    archived: 0,\n                    archived_day: null,\n                    building_name: null,\n                    company_id: customer,\n                    company_name: customer_rows.filter((item) => {return (item.id == customer)})[0].name,\n                    created_at: '',\n                    created_by: JSON.parse(localStorage.getItem('user')).id,\n                    description: task_description,\n                    due_by_date: due_by_date.getFullYear() + \"-\" +\n                                (due_by_date.getMonth() + 1) + \"-\" +\n                                due_by_date.getDate(),\n                    favourite: null,\n                    floor_name: null,\n                    priority: priority,\n                    profile_pic: JSON.parse(localStorage.getItem('user')).profile_pic,\n                    project_id: project,\n                    project_name: project_rows.filter((item) => {return (item.id == project)})[0].project_name,\n                    room_id: room,\n                    room_number: room_rows.filter((item) => {return (item.id == room)})[0].room_number,\n                    site_id: null,\n                    site_name: null,\n                    task: task,\n                    task_img: fileName,\n                    updated_at: '',\n                    updated_by: null\n                }\n                \n                let default_data\n                cache.match(requestUrl)\n                .then(function(response) {return response ? response.json() : null})\n                .then(function(data) { \n                    if (data == null) return\n                    default_data = data\n                    data.tasks.unshift(new_task)\n                    const jsonResponse = new Response(JSON.stringify(data), {\n                        headers: {'content-type': 'application/json'}\n                    })\n                    cache.put(requestUrl, jsonResponse.clone())\n\n                    cache.match(requestUrl_customer)\n                    .then(function(response) {return response ? response.json() : null})\n                    .then(function(data) {\n                        if (data == null) {\n                            data = default_data\n                            data.tasks = []\n                        }\n                        data.tasks.unshift(new_task)\n                        const jsonResponse = new Response(JSON.stringify(data), {\n                            headers: {'content-type': 'application/json'}\n                        })\n                        cache.put(requestUrl_customer, jsonResponse.clone())\n                    })\n    \n                    cache.match(requestUrl_project)\n                    .then(function(response) {return response ? response.json() : null})\n                    .then(function(data) {\n                        if (data == null) {\n                            data = default_data\n                            data.tasks = []\n                        }\n                        data.tasks.unshift(new_task)\n                        const jsonResponse = new Response(JSON.stringify(data), {\n                            headers: {'content-type': 'application/json'}\n                        })\n                        cache.put(requestUrl_project, jsonResponse.clone())\n                    })\n    \n                    cache.match(requestUrl_room)\n                    .then(function(response) {return response ? response.json() : null})\n                    .then(function(data) {\n                        if (data == null) {\n                            data = default_data\n                            data.tasks = []\n                        }\n                        data.tasks.unshift(new_task)\n                        const jsonResponse = new Response(JSON.stringify(data), {\n                            headers: {'content-type': 'application/json'}\n                        })\n                        cache.put(requestUrl_room, jsonResponse.clone())\n                    })\n                })\n            })\n        }\n        const frmData = new FormData();\n        frmData.append('id', off_task_id);\n        frmData.append('company_id', customer);\n        //frmData.append('site_id', site_name);\n        frmData.append('project_id', project);\n        frmData.append('room_id', room);\n        frmData.append('assign_to', JSON.stringify(assign_to));\n        frmData.append('task', task);\n        frmData.append('description', task_description);\n        frmData.append('task_img', task_img);\n        frmData.append('priority', priority);\n        frmData.append('due_by_date', \n            due_by_date.getFullYear()+\"-\"+\n            (due_by_date.getMonth()+1)+\"-\"+\n            due_by_date.getDate());\n        $http.post(base_url + \"task/updateTask\", frmData)\n        .then((response) => {\n            //console.log(response.data)\n            if (response.data.status === \"success\") {\n                if (save_type!=1) {\n                    let sel_project = project_rows.find((item)=>{return item.id == project}).project_name\n                    let sel_room = room_rows.find((item)=>(item.id == room)).room_number\n                    History.push({\n                        pathname: `/app/project/live/${sel_project}/${sel_room}`\n                    })\n                } else {\n                    setTaskId(response.data.task.id)\n                    ModifyImg(response.data.task.id)\n                }\n                // History.push({\n                //     pathname: '/app/task-manager/my-tasks',\n                //     state: {id: response.data.id}\n                // })\n                // History.go(-1)\n            } else if (response.data.status === \"error\") {\n                if(save_type ==1 && !navigator.onLine)\n                    ModifyImg(off_task_id)\n                NotificationManager.error(response.data.msg, \"Error!\", 1000, () => {\n                });\n            }\n        }).catch((error)=>{\n            NotificationManager.error(error, \"Error!\", 1000, () => {\n            });\n        })\n    }\n\n    const resizeFile = (file) => new Promise(resolve => {\n        Resizer.imageFileResizer(file, 500, 500, 'JPEG', 100, 0,\n        uri => {\n          resolve(uri);\n        },\n        'blob'\n        );\n    });\n\n    const uploadImage = async(event)=>{\n        var file = event.target.files[0]\n        //setTaskImgUrl(event.target.files[0].name);\n        const image = await resizeFile(file);\n        let img_file_name = file.name\n        file = new File([image],img_file_name,image)\n        setTaskImgUrl(URL.createObjectURL(file))\n        setTaskImg(file);\n    }\n\n    const ModifyImg = (id)=>{\n        SaveTask(1)\n        localStorage.setItem('isFirst', 0);\n        History.push({\n            pathname: `/app/project/sticker`,\n            state: {\n                room_id: id,\n                img_id:id,\n                img_url: TaskImgUrl,\n                img_file: task_img                \n            },\n        })\n    }\n   \n    \n\n    return (\n        <div className=\"app-wrapper\">\n            <ContainerHeader match={props.match} title={<IntlMessages id=\"sidebar.taskmanager.addnew\"/>}/>\n           { loader ? (\n                <div className=\"row\">\n                    <CardBox styleName=\"col-12\">\n                        <form className=\"row\" autoComplete=\"off\">\n                            <div className=\"col-12\">\n                                <TextField \n                                    id=\"task\"\n                                    label=\"Task\"\n                                    value={task}\n                                    onChange={(event) => setTask(event.target.value)}\n                                    margin=\"normal\"\n                                    helperText=\"Please Enter Task\"\n                                    fullWidth\n                                    />\n                            </div>\n\n                            <div className=\"col-md-6 col-12\">\n                                <TextField\n                                    id=\"customer\"\n                                    select\n                                    label=\"Customer\"\n                                    value={customer}\n                                    onChange={(event)=>setCustomer(event.target.value)}\n                                    SelectProps={{}}\n                                    helperText=\"Please select Customer\"\n                                    margin=\"normal\"\n                                    fullWidth\n                                    \n                                >\n                                    {customer_rows.map(option => (\n                                        <MenuItem key={option.id} value={option.id}>\n                                            {option.name}\n                                        </MenuItem>\n                                    ))}\n                                </TextField>\n                            </div>\n                            <div className=\"col-md-6 col-12\">\n                                <TextField\n                                    id=\"project\"\n                                    select\n                                    label=\"Project\"\n                                    value={project}\n                                    onChange={(event)=>setProject(event.target.value)}\n                                    SelectProps={{}}\n                                    helperText=\"Please select Project\"\n                                    margin=\"normal\"\n                                    fullWidth\n                                >\n                                    {project_rows.filter(option => {\n                                        return option.company_id == customer\n                                    }).map(option => (\n                                        <MenuItem key={option.id} value={option.id}>\n                                            {option.project_name}\n                                        </MenuItem>\n                                    ))}\n                                </TextField>\n                            </div>\n                            <div className=\"col-md-6 col-12\">\n                                <TextField\n                                    id=\"room\"\n                                    select\n                                    label=\"Room\"\n                                    value={room}\n                                    onChange={(event)=>setRoom(event.target.value)}\n                                    SelectProps={{}}\n                                    helperText=\"Please select Room\"\n                                    margin=\"normal\"\n                                    fullWidth\n                                >\n                                    {room_rows.filter(option => {\n                                        return option.project_id == project\n                                    }).map(option => (\n                                        <MenuItem key={option.id} value={option.id}>\n                                            {option.room_number}\n                                        </MenuItem>\n                                    ))}\n                                </TextField>\n                            </div>\n                            <div className=\"col-md-6 col-12 d-flex align-items-center\">\n                            \n                                <FormControl className=\"w-100\">\n                                    <InputLabel htmlFor=\"name-multiple\">Assign To</InputLabel>\n                                    <Select\n                                    multiple\n                                    value={assign_to}\n                                    onChange={(event) => setAssignTo(event.target.value)}\n                                    input={<Input id=\"assign-to\"/>}\n                                    MenuProps={{\n                                        PaperProps: {\n                                        style: {\n                                            maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n                                            width: 200,\n                                        },\n                                        },\n                                    }}\n                                    >\n                                    {assign_to_rows.map(item => (\n                                        <MenuItem\n                                        key={item.id}\n                                        value={''+item.id}\n                                        style={{\n                                            fontWeight: assign_to.indexOf(assign_to_rows) !== -1 ? '500' : '400',\n                                        }}\n                                        >\n                                        {item.first_name}\n                                        </MenuItem>\n                                    ))}\n                                    </Select>\n                                </FormControl>\n\n                            </div>\n                            <div className=\"col-6 d-flex align-items-center\">\n                                <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                                    <KeyboardDatePicker\n                                        margin=\"normal\"\n                                        id=\"date-picker-dialog\"\n                                        label=\"Due by Date\"\n                                        format=\"MM/dd/yyyy\"\n                                        value={due_by_date}\n                                        onChange={handleDateChange}\n                                        KeyboardButtonProps={{\n                                            'aria-label': 'change date',\n                                        }}\n                                        helperText=\"Please Enter Due by Date\"\n                                        />\n                                </MuiPickersUtilsProvider>\n                            </div>\n                            <div className=\"col-md-6 col-12\">\n                                <TextField\n                                    id=\"priority\"\n                                    select\n                                    label=\"Snagging \"\n                                    value={priority}\n                                    onChange={(event)=>setPriority(event.target.value)}\n                                    SelectProps={{}}\n                                    helperText=\"Please select Snagging \"\n                                    margin=\"normal\"\n                                    fullWidth\n                                >\n                                    {priority_rows.map(option => (\n                                        <MenuItem key={option.id} value={option.id}>\n                                            {option.content}\n                                        </MenuItem>\n                                    ))}\n                                </TextField>\n                            </div>\n                            <div className=\"col-12\">\n                                <TextField\n                                    id=\"multiline-flexible\"\n                                    label=\"Task Description\"\n                                    multiline\n                                    rowsMax=\"4\"\n                                    value={task_description}\n                                    onChange={(event) => setTaskDes(event.target.value)}\n                                    margin=\"normal\"\n                                    fullWidth\n                                />\n                            </div>\n                            <div className=\"col-12 text-center mt-4 mb-4\">\n                                <input type=\"file\" id=\"upload_doc\" \n                                    accept=\"image/*\" \n                                    name=\"upload_doc\" style={{display: \"none\"}}\n                                    onChange={(event) => {\n                                        uploadImage(event)\n                                    }}/>\n\n                                <Button className=\"jr-btn w-100\" color=\"primary\"\n                                    variant=\"contained\" onClick={(e)=>{document.getElementById('upload_doc').click()}}>\n                                    <i className=\"zmdi zmdi-camera zmdi-hc-2x animated infinite pulse\"/>\n                                </Button>\n                                {/* <h2>{TaskImgUrl }</h2> */}\n                            </div>\n                            {TaskImgUrl?\n                            <div className=\"col-12\">\n                                <div className=\"jr-card pb-2\">\n                                    <div className=\"jr-card-thumb\">\n                                        <img className=\"card-img-top img-fluid\" alt=\"products\" src={TaskImgUrl}/>\n                                    </div>\n                                    \n                                    <div className=\"jr-card-social text-center\">\n                                        <div className = \"row\">\n                                            <div className=\"col-xl-6 col-lg-6 col-md-6 col-6\">\n                                                <Fab className=\"jr-fab-btn bg-light-blue accent-2 text-white\" \n                                                    onClick = {() => SaveTask(1)}\n                                                    >\n                                                    <i className=\"zmdi zmdi-puzzle-piece zmdi-hc-2x\"/>\n                                                </Fab>\n                                            </div>\n                                            <div className=\"col-xl-6 col-lg-6 col-md-6 col-6\">\n                                                <Fab className=\"jr-fab-btn bg-red accent-2 text-white\"  \n                                                    onClick = {()=>{setTaskImg(null)\n                                                        setTaskImgUrl('')}}\n                                                            >\n                                                    <i className=\"zmdi zmdi-delete zmdi-hc-2x\"/>\n                                                </Fab>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            :null}\n                            <div className=\"col-md-12 col-12 text-right\">\n                                <Button variant=\"contained\" color=\"primary\" className=\"jr-btn\" onClick={() => SaveTask()}>\n                                    Save\n                                </Button>\n                            </div>\n                        </form>\n                    </CardBox>\n                </div>\n            ) : (\n                <div className=\"loader-view\"\n                        style={{height: width >= 1200 ? 'calc(100vh - 259px)' : 'calc(100vh - 238px)'}}>\n                    <CircularProgress/>\n                </div>\n            )}\n            <SweetAlert show={goback}\n                warning\n                confirmBtnText=\"Go Back\"\n                confirmBtnBsStyle=\"danger\"\n                cancelBtnBsStyle=\"default\"\n                title=\"Warning!\"\n                onConfirm={() => History.go(-1)}\n            >                \n            Data not cached, so you can not view this page.\n            </SweetAlert>\n            <NotificationContainer/>\n        </div>\n    );\n}\n\nexport default AddNew;","import React from 'react';\nimport {Breadcrumb, BreadcrumbItem} from 'reactstrap';\n\nconst getDisplayString = (sub) => {\n    const arr = sub.split(\"-\");\n    if (arr.length > 1) {\n        return arr[0].charAt(0).toUpperCase() + arr[0].slice(1) + \" \" + arr[1].charAt(0).toUpperCase() + arr[1].slice(1)\n    } else {\n        return sub.charAt(0).toUpperCase() + sub.slice(1)\n    }\n\n};\nconst getUrlString = (path, sub, index) => {\n    if (index === 0) {\n        return '/';\n    } else {\n        return '/' + path.split(sub)[0] + sub;\n    }\n};\n\nconst ContainerHeader = ({title, match,project_name,room_number}) => {\n    let url_name = [];\n    const path = match.url.substr(1);\n    const subPath = path.split('/');\n    subPath.map((sub,index)=>{\n        if(sub===''){\n            subPath.splice(index,1)\n        }\n        if(subPath[index-1] ==='live')\n            url_name[index] = project_name?project_name:''\n        else if(subPath[index-2] ==='live')\n            url_name[index] = room_number?room_number:''\n        else\n            url_name[index] = sub\n    })\n    return (\n        <div className=\"page-heading d-sm-flex justify-content-sm-between align-items-sm-center\">\n            <h2 className=\"title mb-3 mb-sm-0\">{title}</h2>\n\n            <Breadcrumb className=\"mb-0\" tag=\"nav\">\n                {subPath.map((sub, index) => {\n                        if(index ==0) return;\n                        return <BreadcrumbItem active={subPath.length === index + 1}\n                                            tag={subPath.length === index + 1 ? \"span\" : \"a\"} key={index}\n                                            href={getUrlString(path, sub, index)}>{getDisplayString(url_name[index])}</BreadcrumbItem>\n                    }\n                )}\n            </Breadcrumb>\n        </div>\n    )\n};\n\nexport default ContainerHeader;\n\n","import React from 'react';\n\nconst CardBox = ({heading, children, styleName, cardStyle, childrenStyle, headerOutside, headingStyle}) => {\n\n    return (\n        <div className={`${styleName}`}>\n            {headerOutside &&\n            <div className=\"jr-entry-header\">\n                <h3 className=\"entry-heading\">{heading}</h3>\n                {children.length > 1 && <div className=\"entry-description\">{children[0]}</div>}\n            </div>\n            }\n\n            <div className={`jr-card ${cardStyle}`}>\n                {!headerOutside &&\n                (heading &&\n                    <div className={`jr-card-header ${headingStyle}`}>\n                        <h3 className=\"card-heading\">{heading}</h3>\n                        {children.length > 1 && <div className=\"sub-heading\">{children[0]}</div>}\n                    </div>\n                )}\n                <div className={`jr-card-body ${childrenStyle}`}>\n                    {children.length > 1 ? children[1] : children}\n                </div>\n            </div>\n        </div>\n    )\n};\n\nexport default CardBox;\n\nCardBox.defaultProps = {\n    cardStyle: '',\n    headingStyle: '',\n    childrenStyle: '',\n    styleName: 'col-lg-6 col-sm-12'\n};","module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t);var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}var t,n,a;return t=e,a=[{key:\"changeHeightWidth\",value:function(e,t,n,r,a,o){return n>r&&(e=Math.round(e*r/n),n=r),e>t&&(n=Math.round(n*t/e),e=t),a&&n<a&&(e=Math.round(e*a/n),n=a),o&&e<o&&(n=Math.round(n*o/e),e=o),{height:e,width:n}}},{key:\"resizeAndRotateImage\",value:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:\"jpeg\",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=i/100,c=document.createElement(\"canvas\"),d=e.width,h=e.height,g=this.changeHeightWidth(h,n,d,t,r,a);!u||90!==u&&270!==u?(c.width=g.width,c.height=g.height):(c.width=g.height,c.height=g.width),d=g.width,h=g.height;var f=c.getContext(\"2d\");return u&&(f.rotate(u*Math.PI/180),90===u?f.translate(0,-c.width):180===u?f.translate(-c.width,-c.height):270===u?f.translate(-c.height,0):0!==u&&360!==u||f.translate(0,0)),f.drawImage(e,0,0,d,h),c.toDataURL(\"image/\".concat(o),l)}},{key:\"b64toBlob\",value:function(e,t){t=t||\"image/jpeg\";for(var n=atob(e.toString().replace(/^data:image\\/(png|jpeg|jpg);base64,/,\"\")),r=[],a=0;a<n.length;a+=512){for(var o=n.slice(a,a+512),i=new Array(o.length),u=0;u<o.length;u++)i[u]=o.charCodeAt(u);var l=new Uint8Array(i);r.push(l)}return new Blob(r,{type:t})}},{key:\"createResizedImage\",value:function(t,n,r,a,o,i,u){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:\"base64\",c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,h=null,g=new FileReader;t?(g.readAsDataURL(t),g.onload=function(){var t=new Image;t.src=g.result,t.onload=function(){var g=e.resizeAndRotateImage(t,n,r,c,d,a,o,i);h=e.b64toBlob(g,\"image/\".concat(a)),u(\"blob\"===l?h:g)}},g.onerror=function(e){u(e)}):u(\"File Not Found\")}}],(n=null)&&r(t.prototype,n),a&&r(t,a),e}();t.default={imageFileResizer:function(e,t,n,r,o,i,u,l,c,d){return a.createResizedImage(e,t,n,r,o,i,u,l,c,d)}}}]);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  listTag: tagPropType,\n  className: PropTypes.string,\n  listClassName: PropTypes.string,\n  cssModule: PropTypes.object,\n  children: PropTypes.node,\n  'aria-label': PropTypes.string\n};\nvar defaultProps = {\n  tag: 'nav',\n  listTag: 'ol',\n  'aria-label': 'breadcrumb'\n};\n\nvar Breadcrumb = function Breadcrumb(props) {\n  var className = props.className,\n      listClassName = props.listClassName,\n      cssModule = props.cssModule,\n      children = props.children,\n      Tag = props.tag,\n      ListTag = props.listTag,\n      label = props['aria-label'],\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"listClassName\", \"cssModule\", \"children\", \"tag\", \"listTag\", \"aria-label\"]);\n\n  var classes = mapToCssModules(classNames(className), cssModule);\n  var listClasses = mapToCssModules(classNames('breadcrumb', listClassName), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    \"aria-label\": label\n  }), React.createElement(ListTag, {\n    className: listClasses\n  }, children));\n};\n\nBreadcrumb.propTypes = propTypes;\nBreadcrumb.defaultProps = defaultProps;\nexport default Breadcrumb;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  active: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'li'\n};\n\nvar BreadcrumbItem = function BreadcrumbItem(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      active = props.active,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"active\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, active ? 'active' : false, 'breadcrumb-item'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    \"aria-current\": active ? 'page' : undefined\n  }));\n};\n\nBreadcrumbItem.propTypes = propTypes;\nBreadcrumbItem.defaultProps = defaultProps;\nexport default BreadcrumbItem;"],"sourceRoot":""}