(this["webpackJsonpjumbo-hooks"]=this["webpackJsonpjumbo-hooks"]||[]).push([[30],{466:function(e,a,t){"use strict";var n=t(0),l=t.n(n),c=t(482),r=t(483),i=function(e,a,t){return 0===t?"#/":"#/"+e.split(a)[0]+a};a.a=function(e){var a=e.title,t=e.match.path.substr(1),n=t.split("/");return l.a.createElement("div",{className:"page-heading d-sm-flex justify-content-sm-between align-items-sm-center"},l.a.createElement("h2",{className:"title mb-3 mb-sm-0"},a),l.a.createElement(c.a,{className:"mb-0",tag:"nav"},n.map((function(e,a){return l.a.createElement(r.a,{active:n.length===a+1,tag:n.length===a+1?"span":"a",key:a,href:i(t,e,a)},function(e){var a=e.split("-");return a.length>1?a[0].charAt(0).toUpperCase()+a[0].slice(1)+" "+a[1].charAt(0).toUpperCase()+a[1].slice(1):e.charAt(0).toUpperCase()+e.slice(1)}(e))}))))}},467:function(e,a,t){"use strict";var n=t(0),l=t.n(n),c=function(e){var a=e.heading,t=e.children,n=e.styleName,c=e.cardStyle,r=e.childrenStyle,i=e.headerOutside,s=e.headingStyle;return l.a.createElement("div",{className:"".concat(n)},i&&l.a.createElement("div",{className:"jr-entry-header"},l.a.createElement("h3",{className:"entry-heading"},a),t.length>1&&l.a.createElement("div",{className:"entry-description"},t[0])),l.a.createElement("div",{className:"jr-card ".concat(c)},!i&&a&&l.a.createElement("div",{className:"jr-card-header ".concat(s)},l.a.createElement("h3",{className:"card-heading"},a),t.length>1&&l.a.createElement("div",{className:"sub-heading"},t[0])),l.a.createElement("div",{className:"jr-card-body ".concat(r)},t.length>1?t[1]:t)))};a.a=c,c.defaultProps={cardStyle:"",headingStyle:"",childrenStyle:"",styleName:"col-lg-6 col-sm-12"}},482:function(e,a,t){"use strict";var n=t(1),l=t(21),c=t(0),r=t.n(c),i=t(2),s=t.n(i),o=t(52),m=t.n(o),d=t(17),u={tag:d.m,listTag:d.m,className:s.a.string,listClassName:s.a.string,cssModule:s.a.object,children:s.a.node,"aria-label":s.a.string},p=function(e){var a=e.className,t=e.listClassName,c=e.cssModule,i=e.children,s=e.tag,o=e.listTag,u=e["aria-label"],p=Object(l.a)(e,["className","listClassName","cssModule","children","tag","listTag","aria-label"]),g=Object(d.i)(m()(a),c),b=Object(d.i)(m()("breadcrumb",t),c);return r.a.createElement(s,Object(n.a)({},p,{className:g,"aria-label":u}),r.a.createElement(o,{className:b},i))};p.propTypes=u,p.defaultProps={tag:"nav",listTag:"ol","aria-label":"breadcrumb"},a.a=p},483:function(e,a,t){"use strict";var n=t(1),l=t(21),c=t(0),r=t.n(c),i=t(2),s=t.n(i),o=t(52),m=t.n(o),d=t(17),u={tag:d.m,active:s.a.bool,className:s.a.string,cssModule:s.a.object},p=function(e){var a=e.className,t=e.cssModule,c=e.active,i=e.tag,s=Object(l.a)(e,["className","cssModule","active","tag"]),o=Object(d.i)(m()(a,!!c&&"active","breadcrumb-item"),t);return r.a.createElement(i,Object(n.a)({},s,{className:o,"aria-current":c?"page":void 0}))};p.propTypes=u,p.defaultProps={tag:"li"},a.a=p},561:function(e,a,t){"use strict";t.r(a);var n=t(10),l=t(0),c=t.n(l),r=t(466),i=t(74),s=t(3),o=t(467),m=t(458),d=t(439),u=t(491),p=t(490),g=t(572),b=t(148),h=t.n(b),f=t(441),v=t(99),E=t(434),j=t(431),y=t(435),N=t(456),O=t(26),k=t(15),S=t(440);a.default=function(e){var a=e.location.state?e.location.state.id:null,t=Object(l.useState)(!1),b=Object(n.a)(t,2),_=b[0],P=b[1],C=Object(l.useState)(""),x=Object(n.a)(C,2),T=x[0],w=x[1],M=Object(l.useState)(""),D=Object(n.a)(M,2),W=D[0],A=D[1],F=Object(l.useState)(""),U=Object(n.a)(F,2),J=U[0],B=U[1],H=Object(l.useState)(""),I=Object(n.a)(H,2),R=I[0],K=I[1],L=Object(l.useState)([]),Y=Object(n.a)(L,2),q=Y[0],z=Y[1],G=Object(l.useState)(new Date),Q=Object(n.a)(G,2),V=Q[0],X=Q[1],Z=Object(l.useState)(""),$=Object(n.a)(Z,2),ee=$[0],ae=$[1],te=Object(l.useState)(""),ne=Object(n.a)(te,2),le=ne[0],ce=ne[1],re=Object(l.useState)(null),ie=Object(n.a)(re,2),se=ie[0],oe=ie[1],me=Object(l.useState)(""),de=Object(n.a)(me,2),ue=de[0],pe=de[1],ge=Object(l.useState)(0),be=Object(n.a)(ge,2),he=be[0],fe=be[1],ve=Object(l.useState)([]),Ee=Object(n.a)(ve,2),je=Ee[0],ye=Ee[1],Ne=Object(l.useState)([]),Oe=Object(n.a)(Ne,2),ke=Oe[0],Se=Oe[1],_e=Object(l.useState)([]),Pe=Object(n.a)(_e,2),Ce=Pe[0],xe=Pe[1],Te=Object(l.useState)([]),we=Object(n.a)(Te,2),Me=we[0],De=we[1],We=Object(l.useState)([]),Ae=Object(n.a)(We,2),Fe=Ae[0],Ue=Ae[1],Je=Object(O.g)(),Be=Object(k.e)((function(e){return e.settings})).width;Object(l.useEffect)((function(){v.a.get(v.b+"task/getTaskInfo",{params:{id:a}}).then((function(e){ye(e.data.customer),Se(e.data.customer_site),xe(e.data.project),Ue(e.data.room),De(e.data.assign_to),a>0&&(w(e.data.task.company_id),A(e.data.task.site_id),B(e.data.task.project_id),K(e.data.task.room_id),z(e.data.task.assign_to),ae(e.data.task.task),ce(e.data.task.description),fe(e.data.task.priority),X(new Date(e.data.task.due_by_date)),pe(e.data.task.task_img)),P(!0)}))}),[a]);return c.a.createElement("div",{className:"app-wrapper"},c.a.createElement(r.a,{match:e.match,title:c.a.createElement(s.a,{id:"sidebar.taskmanager.addnew"})}),_?c.a.createElement("div",{className:"row"},c.a.createElement(o.a,{styleName:"col-xl-12 col-lg-12 col-md-12 col-12"},c.a.createElement("form",{className:"row",autoComplete:"off"},c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(m.a,{id:"customer",select:!0,label:"Customer",value:T,onChange:function(e){return w(e.target.value)},SelectProps:{},helperText:"Please select Customer",margin:"normal",fullWidth:!0},je.map((function(e){return c.a.createElement(f.a,{key:e.id,value:e.id},e.name)})))),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(m.a,{id:"site_name",select:!0,label:"Site Name",value:W,onChange:function(e){return A(e.target.value)},SelectProps:{},helperText:"Please select Site Name",margin:"normal",fullWidth:!0},ke.filter((function(e){return e.company_id==T})).map((function(e){return c.a.createElement(f.a,{key:e.id,value:e.id},e.site_name)})))),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(m.a,{id:"project",select:!0,label:"Project",value:J,onChange:function(e){return B(e.target.value)},SelectProps:{},helperText:"Please select Project",margin:"normal",fullWidth:!0},Ce.filter((function(e){return e.company_id==T})).map((function(e){return c.a.createElement(f.a,{key:e.id,value:e.id},e.project_name)})))),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(m.a,{id:"room",select:!0,label:"Room",value:R,onChange:function(e){return K(e.target.value)},SelectProps:{},helperText:"Please select Room",margin:"normal",fullWidth:!0},Fe.filter((function(e){return e.project_id==J})).map((function(e){return c.a.createElement(f.a,{key:e.id,value:e.id},e.room_number)})))),c.a.createElement("div",{className:"col-md-6 col-12 d-flex align-items-center"},c.a.createElement(E.a,{className:"w-100"},c.a.createElement(y.a,{htmlFor:"name-multiple"},"Assign To"),c.a.createElement(N.a,{multiple:!0,value:q,onChange:function(e){return z(e.target.value)},input:c.a.createElement(j.a,{id:"assign-to"}),MenuProps:{PaperProps:{style:{maxHeight:224,width:200}}}},Me.map((function(e){return c.a.createElement(f.a,{key:e.id,value:""+e.id,style:{fontWeight:-1!==q.indexOf(Me)?"500":"400"}},e.first_name)}))))),c.a.createElement("div",{className:"col-md-3 col-6 d-flex align-items-center"},c.a.createElement(p.a,{utils:u.a},c.a.createElement(g.a,{margin:"normal",id:"date-picker-dialog",label:"Due by Date",format:"MM/dd/yyyy",value:V,onChange:X,KeyboardButtonProps:{"aria-label":"change date"},helperText:"Please Enter Due by Date"}))),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(m.a,{id:"task",label:"Task",value:ee,onChange:function(e){return ae(e.target.value)},margin:"normal",helperText:"Please Enter Task",fullWidth:!0})),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(m.a,{id:"multiline-flexible",label:"Task Description",multiline:!0,rowsMax:"4",value:le,onChange:function(e){return ce(e.target.value)},margin:"normal",fullWidth:!0})),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(m.a,{id:"priority",select:!0,label:"Priority",value:he,onChange:function(e){return fe(e.target.value)},SelectProps:{},helperText:"Please select Priority",margin:"normal",fullWidth:!0},[{id:0,content:"Low"},{id:1,content:"High"}].map((function(e){return c.a.createElement(f.a,{key:e.id,value:e.id},e.content)})))),c.a.createElement("div",{className:"col-md-6 col-12 d-flex align-items-center"},c.a.createElement("input",{type:"file",id:"upload_doc",accept:"application/msword, application/vnd.ms-excel, \r application/vnd.ms-powerpoint,text/plain, application/pdf",name:"upload_doc",style:{display:"none"},onChange:function(e){oe(e.target.files[0]),pe(e.target.files[0].name)}}),c.a.createElement(d.a,{className:"attach-file jr-btn ",color:"primary",variant:"contained",onClick:function(e){document.getElementById("upload_doc").click()}},c.a.createElement(h.a,null)," Upload File"),c.a.createElement("h2",null,ue)),c.a.createElement("div",{className:"col-md-12 col-12 text-right"},c.a.createElement(d.a,{variant:"contained",color:"primary",className:"jr-btn",onClick:function(){return function(){var e=new FormData;e.append("id",a),e.append("company_id",T),e.append("site_id",W),e.append("project_id",J),e.append("room_id",R),e.append("assign_to",JSON.stringify(q)),e.append("task",ee),e.append("description",le),e.append("task_img",se),e.append("priority",he),e.append("due_by_date",V.getFullYear()+"-"+(V.getMonth()+1)+"-"+V.getDate()),v.a.post(v.b+"task/updateTask",e).then((function(e){"success"===e.data.status?Je.push({pathname:"/app/task-manager/my-tasks",state:{id:e.data.id}}):"error"===e.data.status&&i.NotificationManager.error(e.data.msg,"Error!",5e3,(function(){}))})).catch((function(e){console.log("error:",e)}))}()}},"Save"))))):c.a.createElement("div",{className:"loader-view",style:{height:Be>=1200?"calc(100vh - 259px)":"calc(100vh - 238px)"}},c.a.createElement(S.a,null)),c.a.createElement(i.NotificationContainer,null))}}}]);
//# sourceMappingURL=30.1ba81f46.chunk.js.map