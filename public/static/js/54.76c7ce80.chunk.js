/*! For license information please see 54.76c7ce80.chunk.js.LICENSE.txt */
(this["webpackJsonpjumbo-hooks"]=this["webpackJsonpjumbo-hooks"]||[]).push([[54],{1359:function(e,t,a){"use strict";a.r(t);var n=a(63),c=a(64),r=a(66),i=a(65),o=a(0),l=a.n(o),s=a(480),m=a(3),u=a(9),d=(a(552),a(1370)),g=a(1374),p=a(1373),f=a(1375),h=a(1371),y=a(1393),v=a(1372),b=a(1392),E=a(450),j=a(255),N=a(404),O=a(1391),k=a(964),C=a(67),S=a(29),w=a(27),x=a(448),_=a(50),P=a(14),D=a(446),L=a(467),R=a(445),A=a(1390),z=a(1376),I=a(572),T=a.n(I),J=a(447),B=a(469),M=a(490),F=a.n(M),U=[{id:"category_name",align:!1,disablePadding:!0,label:"Category Name"},{id:"images",align:!0,disablePadding:!1,label:"Images"},{id:"status",align:!0,disablePadding:!1,label:"Description"},{id:"Actions",align:!0,disablePadding:!1,numeric:"right",label:"Actions"}],W=function(e){var t=e.order,a=e.orderBy;return l.a.createElement(h.a,null,l.a.createElement(v.a,null,U.map((function(n){return l.a.createElement(p.a,{key:n.id,align:n.numeric},l.a.createElement(O.a,{title:"Sort",placement:n.numeric?"bottom-end":"bottom-start",enterDelay:300},l.a.createElement(b.a,{active:a===n.id,direction:t,onClick:function(){return t=n.id,function(a){e.onRequestSort(a,t)};var t}},n.label)))}))))},q=function(e){var t=e.handleOpenClick,a=e.handleCatOpenClick;return l.a.createElement(E.a,{className:"table-header"},l.a.createElement("div",{className:"title"},l.a.createElement(j.a,{variant:"h6"},"Categories")),l.a.createElement("div",{className:"col-md-3 col-lg-3 col-sx-6 col-6 ml-auto"},l.a.createElement(C.a,{placeholder:"Search ..."})),l.a.createElement("div",{className:"actions"},l.a.createElement(O.a,{title:"Add Sticker",onClick:t},l.a.createElement(N.a,{className:"icon-btn"},l.a.createElement("i",{className:"zmdi zmdi-collection-image"}))),l.a.createElement(O.a,{title:"Add Category",onClick:a},l.a.createElement(N.a,{className:"icon-btn"},l.a.createElement("i",{className:"zmdi zmdi-collection-plus"})))))},G=function(){var e=Object(w.g)(),t=Object(o.useState)(!1),a=Object(u.a)(t,2),n=a[0],c=a[1],r=Object(o.useState)("asc"),i=Object(u.a)(r,2),s=i[0],m=i[1],h=Object(o.useState)("id"),b=Object(u.a)(h,2),E=b[0],j=b[1],O=Object(o.useState)([]),C=Object(u.a)(O,2),I=(C[0],C[1],Object(o.useState)([])),M=Object(u.a)(I,2),U=M[0],G=M[1],K=Object(o.useState)(!1),V=Object(u.a)(K,2),H=V[0],Q=V[1],X=Object(o.useState)(!1),Y=Object(u.a)(X,2),Z=Y[0],$=Y[1],ee=Object(o.useState)(null),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ce=Object(o.useState)("https://via.placeholder.com/300x300"),re=Object(u.a)(ce,2),ie=re[0],oe=re[1],le=Object(o.useState)("https://via.placeholder.com/300x300"),se=Object(u.a)(le,2),me=se[0],ue=se[1],de=Object(o.useState)(null),ge=Object(u.a)(de,2),pe=ge[0],fe=ge[1],he=Object(o.useState)(""),ye=Object(u.a)(he,2),ve=ye[0],be=ye[1],Ee=Object(o.useState)(""),je=Object(u.a)(Ee,2),Ne=je[0],Oe=je[1],ke=Object(o.useState)([]),Ce=Object(u.a)(ke,2),Se=Ce[0],we=Ce[1],xe=Object(o.useState)(""),_e=Object(u.a)(xe,2),Pe=_e[0],De=_e[1],Le=Object(o.useState)(0),Re=Object(u.a)(Le,2),Ae=Re[0],ze=Re[1],Ie=Object(o.useState)(10),Te=Object(u.a)(Ie,2),Je=Te[0],Be=Te[1],Me=Object(P.e)((function(e){return e.settings})).width,Fe=Object(o.useState)(0),Ue=Object(u.a)(Fe,2),We=Ue[0],qe=Ue[1],Ge=Object(o.useState)(!1),Ke=Object(u.a)(Ge,2),Ve=Ke[0],He=Ke[1];Object(o.useEffect)((function(){Qe()}),[]);var Qe=function(){S.a.get(S.b+"category/categoryList").then((function(e){G(e.data.category),c(!0)})).catch((function(e){He(!0)}))},Xe=function(t){e.push({pathname:"/app/stickers/categories/info",state:{id:t}})},Ye=function(t,a){if(0===a)e.push({pathname:"/app/stickers/categories/info",state:{id:t}});else if(1===a)ot(t);else if(2===a){var n=new FormData;n.append("id",t),S.a.post(S.b+"category/deleteCategory",n).then((function(e){"success"===e.data.status?navigator.onLine&&Qe():"error"===e.data.status&&_.NotificationManager.error(e.data.msg,"Error!",1e3,(function(){}))})).catch((function(e){_.NotificationManager.error(e,"Error!",1e3,(function(){}))})),navigator.onLine||caches.open("SirvezApp").then((function(e){e.match("/api/room/editPhoto").then((function(e){return e?e.json():null})).then((function(a){if(null!=a)for(var n=0;n<a.categories.length;n++)if(a.category[n].id==t){a.category.splice(n,1);var c=new Response(JSON.stringify(a),{headers:{"content-type":"application/json"}});e.put("/api/room/editPhoto",c.clone()).then((function(e){Qe()}));break}})),e.match("/api/category/categoryList").then((function(e){return e?e.json():null})).then((function(a){if(null!=a)for(var n=0;n<a.category.length;n++)if(a.category[n].id==t){a.category.splice(n,1);var c=new Response(JSON.stringify(a),{headers:{"content-type":"application/json"}});e.put("/api/category/categoryList",c.clone()).then((function(e){Qe()}));break}}))}))}},Ze=Object(o.useState)(""),$e=Object(u.a)(Ze,2),et=$e[0],tt=$e[1],at=Object(o.useState)(""),nt=Object(u.a)(at,2),ct=nt[0],rt=nt[1],it=function(){Q(!1)},ot=function(e){$(!0),e&&(qe(e),S.a.get(S.b+"category/getCategoryInfo",{params:{id:e}}).then((function(e){"success"===e.data.status&&(tt(e.data.category.name),rt(e.data.category.description),ue(e.data.category.category_img?S.c+"pixie/assets/images/ui/"+e.data.category.category_img:"https://via.placeholder.com/300x300"))})).catch((function(e){He(!0)})))},lt=function(){$(!1)};return n?l.a.createElement("div",null,l.a.createElement(q,{handleOpenClick:function(){S.a.get(S.b+"category/categoryList").then((function(e){we(e.data.category),Q(!0)})).catch((function(e){He(!0)}))},handleCatOpenClick:ot}),l.a.createElement("div",{className:"flex-auto"},l.a.createElement("div",{className:"table-responsive-material"},l.a.createElement(d.a,{className:""},l.a.createElement(W,{order:s,orderBy:E,onRequestSort:function(e,t){var a;"desc"===(a=E===t&&"asc"===s?"desc":"asc")?U.sort((function(e,a){return a[t]<e[t]?-1:1})):U.sort((function(e,a){return e[t]<a[t]?-1:1})),m(a),j(t)}}),l.a.createElement(g.a,null,U.slice(Ae*Je,Ae*Je+Je).map((function(e){return l.a.createElement(v.a,{hover:!0,tabIndex:-1,key:e.id},l.a.createElement(p.a,{onClick:function(){return Xe(e.id)}},l.a.createElement("div",{className:"user-profile d-flex flex-row align-items-center"},l.a.createElement(B.a,{alt:e.name,src:S.c+"pixie/assets/images/ui/"+e.category_img,className:"user-avatar"}),l.a.createElement("div",{className:"user-detail"},l.a.createElement("h5",{className:"user-name"},e.name)))),l.a.createElement(p.a,{onClick:function(){return Xe(e.id)}},e.stickers_count),l.a.createElement(p.a,{onClick:function(){return Xe(e.id)}},e.description),l.a.createElement(p.a,{className:"text-right"},l.a.createElement(k.a,{key:e.id,selectedData:e.id,onSelectRow:Ye})))}))),l.a.createElement(f.a,null,l.a.createElement(v.a,null,l.a.createElement(y.a,{count:U.length,rowsPerPage:Je,page:Ae,onChangePage:function(e,t){ze(t)},onChangeRowsPerPage:function(e){Be(e.target.value)}})))),l.a.createElement(_.NotificationContainer,null))),l.a.createElement(A.a,{key:"add-img",className:"modal-box",toggle:it,isOpen:H},l.a.createElement(z.a,null,"Add Image",l.a.createElement(N.a,{className:"text-grey",onClick:it},l.a.createElement(T.a,null))),l.a.createElement("div",{className:"modal-box-content"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-12"},l.a.createElement("div",{className:"jr-card pb-2"},l.a.createElement("div",{className:"jr-card-thumb"},l.a.createElement("img",{className:"card-img-top img-fluid",alt:"products",src:ie})),l.a.createElement("input",{type:"file",id:"add_img",accept:".png",name:"add_img",style:{display:"none"},onChange:function(e){return function(e){e.preventDefault();var t=new FileReader,a=e.target.files[0];t.onloadend=function(){ne(a),oe(t.result)},t.readAsDataURL(a)}(e)}}),l.a.createElement("div",{className:"jr-card-social text-right"},l.a.createElement(J.a,{className:"jr-fab-btn bg-secondary text-white jr-btn-fab-xs mb-3",onClick:function(e){document.getElementById("add_img").click()}},l.a.createElement("i",{className:"zmdi zmdi-cloud-upload zmdi-hc-1x"}))))),l.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-12"},l.a.createElement(L.a,{autoFocus:!0,margin:"dense",id:"name",value:Ne,onChange:function(e){return Oe(e.target.value)},label:"Name",helperText:"Please Enter Name",fullWidth:!0}),l.a.createElement(L.a,{id:"category",select:!0,label:"Category",value:ve,onChange:function(e){return be(e.target.value)},SelectProps:{},helperText:"Please select Category",margin:"normal",fullWidth:!0},Se.map((function(e){return l.a.createElement(x.a,{key:e.id,value:e.id},e.name)}))),l.a.createElement(L.a,{id:"status",select:!0,label:"Status",value:Pe,onChange:function(e){return De(e.target.value)},SelectProps:{},helperText:"Please select Status"},[{id:0,content:"Deactive"},{id:1,content:"Active"}].map((function(e){return l.a.createElement(x.a,{key:e.id,value:e.id},e.content)})))))),l.a.createElement("div",{className:"modal-box-footer d-flex flex-row"},l.a.createElement(R.a,{onClick:function(){return it()},color:"secondary"},"Cancel"),l.a.createElement(R.a,{onClick:function(){return function(){it();var e=JSON.parse(localStorage.getItem("user")).first_name+"_"+(new Date).getTime(),t=new FormData;t.append("id",e),t.append("stiker_img",ae),t.append("name",Ne),t.append("category_id",ve),t.append("status",Pe),S.a.post(S.b+"sticker/updateSticker",t).then((function(e){"success"===e.data.status?(_.NotificationManager.success("Update Sticker","Success!",1e3,(function(){})),navigator.onLine&&Qe()):"error"===e.data.status&&_.NotificationManager.error(e.data.msg,"Error!",1e3,(function(){}))})).catch((function(e){_.NotificationManager.error(e,"Error!",1e3,(function(){}))})),navigator.onLine||caches.open("SirvezApp").then((function(t){var a="";ae&&(a=(new Date).getTime()+"_new.jpeg",t.put("/pixie/assets/images/stickers/"+ve+"/"+a,new Response(ae)));var n={id:e,name:Ne,category_id:ve,stiker_img:a},c={stiker:n},r=new Response(JSON.stringify(c),{headers:{"content-type":"application/json"}});t.put("/api/category/sticker/getStickerInfo?id="+e,r.clone());var i="/api/category/getCategoryInfo?id="+We;t.match(i).then((function(e){return e?e.json():null})).then((function(c){if(null!=c){var r=c.stickers.find((function(t){return t.id===e}));r?(r.name=Ne,r.category=ve,""!=a&&(r.stiker_img=a)):c.stickers.unshift(n);var o=new Response(JSON.stringify(c),{headers:{"content-type":"application/json"}});t.put(i,o.clone()).then((function(e){Qe()}))}}))})).catch((function(e){console.log("cashe_error",e)}))}()},color:"primary"},"Save"))),l.a.createElement(A.a,{key:"add-category",className:"modal-box",toggle:lt,isOpen:Z},l.a.createElement(z.a,null,"Add Category",l.a.createElement(N.a,{className:"text-grey",onClick:lt},l.a.createElement(T.a,null))),l.a.createElement("div",{className:"modal-box-content"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-12"},l.a.createElement("div",{className:"jr-card pb-2"},l.a.createElement("div",{className:"jr-card-thumb"},l.a.createElement("img",{className:"card-img-top img-fluid",alt:"products",src:me})),l.a.createElement("input",{type:"file",id:"category_img",accept:"image/*",name:"category_img",style:{display:"none"},onChange:function(e){return function(e){e.preventDefault();var t=new FileReader,a=e.target.files[0];t.onloadend=function(){fe(a),ue(t.result)},t.readAsDataURL(a)}(e)}}),l.a.createElement("div",{className:"jr-card-social text-right"},l.a.createElement(J.a,{className:"jr-fab-btn bg-secondary text-white jr-btn-fab-xs mb-3",onClick:function(e){document.getElementById("category_img").click()}},l.a.createElement("i",{className:"zmdi zmdi-cloud-upload zmdi-hc-1x"}))))),l.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-12"},l.a.createElement(L.a,{autoFocus:!0,margin:"dense",id:"add_category",value:et,onChange:function(e){return tt(e.target.value)},label:"Name",helperText:"Please Enter Category Name",fullWidth:!0}),l.a.createElement(L.a,{autoFocus:!0,margin:"dense",id:"add_category_des",value:ct,onChange:function(e){return rt(e.target.value)},label:"Description",helperText:"Please Enter Category Description",fullWidth:!0})))),l.a.createElement("div",{className:"modal-box-footer d-flex flex-row"},l.a.createElement(R.a,{onClick:function(){return lt()},color:"secondary"},"Cancel"),l.a.createElement(R.a,{onClick:function(){return function(){lt();var e=We>0?We:JSON.parse(localStorage.getItem("user")).first_name+"_"+(new Date).getTime(),t=new FormData;t.append("id",e),t.append("name",et),t.append("description",ct),t.append("category_img",pe),We>0&&qe(0),S.a.post(S.b+"category/updateCategory",t).then((function(e){"success"===e.data.status?(_.NotificationManager.success("Update Category","Success!",1e3,(function(){})),navigator.onLine&&Qe()):"error"===e.data.status&&_.NotificationManager.error(e.data.msg,"Error!",1e3,(function(){}))})).catch((function(e){_.NotificationManager.error(e,"Error!",1e3,(function(){}))})),navigator.onLine||caches.open("SirvezApp").then((function(t){var a="";pe&&(a=(new Date).getTime()+"_new.jpeg",t.put("/pixie/assets/images/ui/"+a,new Response(pe)));var n={id:e,name:et,description:ct,stickers_count:0};""!=a&&(n.category_img=a),t.match("/api/category/getCategoryInfo?id="+e).then((function(e){return e.json()})).then((function(n){n.catogory.name=et,n.description=ct,""!=a&&(n.catetory_img=a);var c=new Response(JSON.stringify(n),{headers:{"content-type":"application/json"}});t.put("/api/category/getCategoryInfo?id="+e,c.clone())})).catch((function(a){var c={category:n,stickers:[]},r=new Response(JSON.stringify(c),{headers:{"content-type":"application/json"},method:"POST"});t.put("/api/category/getCategoryInfo?id="+e,r.clone())}));t.match("/api/category/categoryList").then((function(e){return e.json()})).then((function(c){var r=c.category.find((function(t){return t.id===e}));r?(r.name=et,r.description=ct,""!=a&&(r.category_img=a)):c.category.unshift(n);var i=new Response(JSON.stringify(c),{headers:{"content-type":"application/json"}});t.put("/api/category/categoryList",i.clone()).then((function(e){Qe()}))})),t.match("/api/room/editPhoto").then((function(e){return e?e.json():null})).then((function(c){if(null!=c){var r=c.categories.find((function(t){return t.id===e}));r?(r.name=et,r.description=ct,""!=a&&(r.category_img=a)):(n.stickers=[],c.categories.unshift(n));var i=new Response(JSON.stringify(c),{headers:{"content-type":"application/json"}});t.put("/api/room/editPhoto",i.clone())}}))})).catch((function(e){console.log("cashe_error",e)}))}()},color:"primary"},"Save")))):l.a.createElement("div",{className:"loader-view",style:{height:Me>=1200?"calc(100vh - 259px)":"calc(100vh - 238px)"}},l.a.createElement(D.a,null),l.a.createElement(F.a,{show:Ve,warning:!0,confirmBtnText:"Go Back",confirmBtnBsStyle:"danger",cancelBtnBsStyle:"default",title:"Warning!",onConfirm:function(){return e.go(-1)}},"Data not cached, so you can not view this page."))},K=a(487),V=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"app-wrapper"},l.a.createElement(s.a,{match:this.props.match,title:l.a.createElement(m.a,{id:"sidebar.stickers"})}),l.a.createElement("div",{className:"row animated slideInUpTiny animation-duration-3"},l.a.createElement(K.a,{styleName:"col-12"},l.a.createElement(G,null))))}}]),a}(l.a.Component);t.default=V},480:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(529),i=a(530),o=function(e,t,a){return 0===a?"/":"/"+e.split(t)[0]+t};t.a=function(e){var t=e.title,a=e.match,n=e.project_name,l=e.room_number,s=[],m=a.url.substr(1),u=m.split("/");return u.map((function(e,t){""===e&&u.splice(t,1),"live"===u[t-1]?s[t]=n||"":"live"===u[t-2]?s[t]=l||"":s[t]=e})),c.a.createElement("div",{className:"page-heading d-sm-flex justify-content-sm-between align-items-sm-center"},c.a.createElement("h2",{className:"title mb-3 mb-sm-0"},t),c.a.createElement(r.a,{className:"mb-0",tag:"nav"},u.map((function(e,t){if(0!=t)return c.a.createElement(i.a,{active:u.length===t+1,tag:u.length===t+1?"span":"a",key:t,href:o(m,e,t)},function(e){var t=e.split("-");return t.length>1?t[0].charAt(0).toUpperCase()+t[0].slice(1)+" "+t[1].charAt(0).toUpperCase()+t[1].slice(1):e.charAt(0).toUpperCase()+e.slice(1)}(s[t]))}))))}},487:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=function(e){var t=e.heading,a=e.children,n=e.styleName,r=e.cardStyle,i=e.childrenStyle,o=e.headerOutside,l=e.headingStyle;return c.a.createElement("div",{className:"".concat(n)},o&&c.a.createElement("div",{className:"jr-entry-header"},c.a.createElement("h3",{className:"entry-heading"},t),a.length>1&&c.a.createElement("div",{className:"entry-description"},a[0])),c.a.createElement("div",{className:"jr-card ".concat(r)},!o&&t&&c.a.createElement("div",{className:"jr-card-header ".concat(l)},c.a.createElement("h3",{className:"card-heading"},t),a.length>1&&c.a.createElement("div",{className:"sub-heading"},a[0])),c.a.createElement("div",{className:"jr-card-body ".concat(i)},a.length>1?a[1]:a)))};t.a=r,r.defaultProps={cardStyle:"",headingStyle:"",childrenStyle:"",styleName:"col-lg-6 col-sm-12"}},552:function(e,t){function a(e){if(e&&"object"===typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"===typeof e)return i[e];var a,r=String(e);return(a=n[r.toLowerCase()])?a:(a=c[r.toLowerCase()])||(1===r.length?r.charCodeAt(0):void 0)}a.isEventKey=function(e,t){if(e&&"object"===typeof e){var a=e.which||e.keyCode||e.charCode;if(null===a||void 0===a)return!1;if("string"===typeof t){var r;if(r=n[t.toLowerCase()])return r===a;if(r=c[t.toLowerCase()])return r===a}else if("number"===typeof t)return t===a;return!1}};var n=(t=e.exports=a).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},c=t.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(r=97;r<123;r++)n[String.fromCharCode(r)]=r-32;for(var r=48;r<58;r++)n[r-48]=r;for(r=1;r<13;r++)n["f"+r]=r+111;for(r=0;r<10;r++)n["numpad "+r]=r+96;var i=t.names=t.title={};for(r in n)i[n[r]]=r;for(var o in c)n[o]=c[o]},964:function(e,t,a){"use strict";var n=a(9),c=a(0),r=a.n(c),i=a(252),o=a(448),l=a(404);t.a=function(e){var t=Object(c.useState)(!1),a=Object(n.a)(t,2),s=a[0],m=a[1],u=Object(c.useState)(void 0),d=Object(n.a)(u,2),g=d[0],p=d[1],f=e.selectedData,h=e.onSelectRow,y=e.menu_rows,v=y||[{content:"View",id:0},{content:"Modify",id:1},{content:"Delete",id:2}],b=function(){m(!1)};return r.a.createElement("div",null,r.a.createElement(l.a,{onClick:function(e){m(!0),p(e.currentTarget)}},r.a.createElement("i",{className:"zmdi zmdi-more-vert"})),r.a.createElement(i.a,{anchorEl:g,open:s,onClose:b,key:f.id,MenuListProps:{style:{width:150,paddingTop:0,paddingBottom:0}}},v.map((function(e){return r.a.createElement(o.a,{key:f+"-"+e.content,onClick:function(){b(),h(f,e.id)}},e.content)}))))}}}]);
//# sourceMappingURL=54.76c7ce80.chunk.js.map