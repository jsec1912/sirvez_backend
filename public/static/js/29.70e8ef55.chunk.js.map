{"version":3,"sources":["components/ContainerHeader/index.js","components/CardBox/index.js","../node_modules/@material-ui/icons/PlaylistAdd.js","app/routes/Sites/routes/site/CardEditMenu.js","app/routes/Sites/routes/site/SiteTable.js","app/routes/Sites/routes/site/main.js"],"names":["getUrlString","path","sub","index","split","ContainerHeader","title","match","substr","subPath","className","tag","map","active","length","key","href","arr","charAt","toUpperCase","slice","getDisplayString","CardBox","heading","children","styleName","cardStyle","childrenStyle","headerOutside","headingStyle","defaultProps","_interopRequireDefault","require","Object","defineProperty","exports","value","default","_react","_default","createElement","d","CardEditMenu","props","useState","menuState","setMenuState","undefined","anchorEl","setAnchorEl","selectedData","onSelectRow","menu_rows","options","content","id","handleRequestClose","onClick","event","currentTarget","open","onClose","MenuListProps","style","width","paddingTop","paddingBottom","option","columnData","align","disablePadding","label","numeric","SiteTable","site_open","setSiteOpen","order","setOrder","orderBy","setOrderBy","loader","setLoader","useSelector","settings","History","useHistory","page","setPage","rowsPerPage","setRowsPerPage","tabledata","setTabledata","sites","setSites","site_id","setSiteId","customername_rows","setCustomerNames","customer_id","setCustomerName","site_name","setSiteName","address","setAddress","site_city","setSiteCity","site_postcode","setSitePostcode","site_contact_name","setSiteContactName","out_contact","setOutContacct","any_site","setAnySite","hours_access","setHoursAccess","site_comment","setSiteComment","useEffect","init_Data","$http","get","base_url","then","response","data","handleRequestSort","property","sort_order","sort","a","b","onSelectSite","push","pathname","state","SiteModalOpen","post","NotificationManager","info","params","customers","site","company_id","city","postcode","contact_name","contact_number","site_instructions","access_hour","comment","SiteModalClose","Toolbar","Typography","variant","SearchBox","placeholder","onChange","target","filter","item","toLowerCase","includes","Tooltip","IconButton","aria-label","Table","TableHead","TableRow","column","TableCell","placement","enterDelay","TableSortLabel","direction","TableBody","n","hover","tabIndex","buildings_count","floors_count","rooms_count","TableFooter","TablePagination","count","onChangePage","onChangeRowsPerPage","height","CircularProgress","Modal","toggle","isOpen","ModalHeader","TextField","select","SelectProps","helperText","margin","fullWidth","MenuItem","name","multiline","rowsMax","Button","color","frmData","FormData","append","status","success","msg","error","catch","console","log","live","this","IntlMessages","React","Component"],"mappings":"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","file":"static/js/29.70e8ef55.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Breadcrumb, BreadcrumbItem} from 'reactstrap';\r\n\r\nconst getDisplayString = (sub) => {\r\n    const arr = sub.split(\"-\");\r\n    if (arr.length > 1) {\r\n        return arr[0].charAt(0).toUpperCase() + arr[0].slice(1) + \" \" + arr[1].charAt(0).toUpperCase() + arr[1].slice(1)\r\n    } else {\r\n        return sub.charAt(0).toUpperCase() + sub.slice(1)\r\n    }\r\n\r\n};\r\nconst getUrlString = (path, sub, index) => {\r\n    if (index === 0) {\r\n        return '#/';\r\n    } else {\r\n        return '#/' + path.split(sub)[0] + sub;\r\n    }\r\n};\r\n\r\nconst ContainerHeader = ({title, match}) => {\r\n    const path = match.path.substr(1);\r\n    const subPath = path.split('/');\r\n    return (\r\n        <div className=\"page-heading d-sm-flex justify-content-sm-between align-items-sm-center\">\r\n            <h2 className=\"title mb-3 mb-sm-0\">{title}</h2>\r\n\r\n            <Breadcrumb className=\"mb-0\" tag=\"nav\">\r\n                {subPath.map((sub, index) => {\r\n                        return <BreadcrumbItem active={subPath.length === index + 1}\r\n                                               tag={subPath.length === index + 1 ? \"span\" : \"a\"} key={index}\r\n                                               href={getUrlString(path, sub, index)}>{getDisplayString(sub)}</BreadcrumbItem>\r\n                    }\r\n                )}\r\n            </Breadcrumb>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ContainerHeader;\r\n\r\n","import React from 'react';\r\n\r\nconst CardBox = ({heading, children, styleName, cardStyle, childrenStyle, headerOutside, headingStyle}) => {\r\n\r\n    return (\r\n        <div className={`${styleName}`}>\r\n            {headerOutside &&\r\n            <div className=\"jr-entry-header\">\r\n                <h3 className=\"entry-heading\">{heading}</h3>\r\n                {children.length > 1 && <div className=\"entry-description\">{children[0]}</div>}\r\n            </div>\r\n            }\r\n\r\n            <div className={`jr-card ${cardStyle}`}>\r\n                {!headerOutside &&\r\n                (heading &&\r\n                    <div className={`jr-card-header ${headingStyle}`}>\r\n                        <h3 className=\"card-heading\">{heading}</h3>\r\n                        {children.length > 1 && <div className=\"sub-heading\">{children[0]}</div>}\r\n                    </div>\r\n                )}\r\n                <div className={`jr-card-body ${childrenStyle}`}>\r\n                    {children.length > 1 ? children[1] : children}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default CardBox;\r\n\r\nCardBox.defaultProps = {\r\n    cardStyle: '',\r\n    headingStyle: '',\r\n    childrenStyle: '',\r\n    styleName: 'col-lg-6 col-sm-12'\r\n};","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M14 10H2v2h12v-2zm0-4H2v2h12V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM2 16h8v-2H2v2z\"\n}), 'PlaylistAdd');\n\nexports.default = _default;","import React, {useState} from 'react';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\n\r\n\r\nconst CardEditMenu = (props) => {\r\n    \r\n    const [menuState, setMenuState] = useState(false);\r\n    const [anchorEl, setAnchorEl] = useState(undefined);\r\n    const {selectedData, onSelectRow, menu_rows} = props;\r\n    const options = menu_rows ? menu_rows : ([\r\n        {content: 'View', id: 0},\r\n        {content: 'Modify', id: 1},\r\n        {content: 'Delete', id: 2}\r\n    ]);\r\n\r\n    const onOptionMenuSelect = event => {\r\n      setMenuState(true);\r\n      setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleRequestClose = () => {\r\n      setMenuState(false);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <IconButton onClick={onOptionMenuSelect}>\r\n            <i className=\"zmdi zmdi-more-vert\"/></IconButton>\r\n\r\n            <Menu \r\n                anchorEl={anchorEl}\r\n                open={menuState}\r\n                onClose={handleRequestClose}\r\n                key={selectedData.id}\r\n                MenuListProps={{\r\n                    style: {\r\n                        width: 150,\r\n                        paddingTop: 0,\r\n                        paddingBottom: 0\r\n                    },\r\n                }}>\r\n\r\n                {options.map(option =>\r\n                    <MenuItem key={selectedData + \"-\" + option.content} \r\n                        onClick={() => {\r\n                            handleRequestClose();\r\n                            onSelectRow(selectedData, option.id);\r\n                        } }>\r\n                        {option.content}\r\n                    </MenuItem>\r\n                )}\r\n            </Menu>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CardEditMenu;\r\n","import React, {useState, useEffect} from \"react\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableFooter from \"@material-ui/core/TableFooter\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TablePagination from \"@material-ui/core/TablePagination\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport PlaylistPlayIcon from \"@material-ui/icons/PlaylistAdd\";\r\nimport CardEditMenu from './CardEditMenu.js'\r\nimport SearchBox from '../../../../../components/SearchBox/index';\r\nimport {useSelector} from 'react-redux';\r\nimport {useHistory} from 'react-router-dom';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport {base_url, $http} from \"config\";\r\nimport {Modal, ModalHeader} from 'reactstrap';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Button from '@material-ui/core/Button';\r\nimport {NotificationContainer, NotificationManager} from 'react-notifications';\r\n\r\nconst columnData = [\r\n  {id: \"id\", align: false, disablePadding: true, label: \"ID\"},\r\n  {id: \"site_name\", align: true, disablePadding: false, label: \"Site Name\"},\r\n  {id: \"city\", align: true, disablePadding: false, label: \"City\"},\r\n  {id: \"postcode\", align: true, disablePadding: false, label: \"Postcode\"},\r\n  {id: \"buildings_count\", align: true, disablePadding: false, label: \"Buildings\"},\r\n  {id: \"floors_count\", align: true, disablePadding: false, label: \"Floors\"},\r\n  {id: \"rooms_count\", align: true, disablePadding: false, label: \"Rooms\"},\r\n  {id: \"actions\", align: true, disablePadding: false, numeric: 'right', label: \"Actions\"}\r\n];\r\nconst SiteTable = () => {\r\n\r\n  const [site_open, setSiteOpen] = useState(false);\r\n  const [order, setOrder] = useState(\"asc\");\r\n  const [orderBy, setOrderBy] = useState(\"id\");\r\n  const [loader, setLoader] = useState(false);\r\n  const {width} = useSelector(({settings}) => settings);\r\n  const History = useHistory();\r\n\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n  const [tabledata, setTabledata] = useState([]);\r\n  const [sites, setSites] = useState([]);\r\n  const [site_id, setSiteId] = useState(null);\r\n  const [customername_rows, setCustomerNames] = useState([]);\r\n  const [customer_id, setCustomerName] = useState(null);\r\n  const [site_name, setSiteName] = useState(\"\");\r\n  const [address, setAddress] = useState(\"\");\r\n  const [site_city, setSiteCity] = useState(\"\");\r\n  const [site_postcode, setSitePostcode] = useState(\"\");\r\n  const [site_contact_name, setSiteContactName] = useState(\"\");\r\n  const [out_contact, setOutContacct] = useState(\"\");\r\n  const [any_site, setAnySite] = useState(\"\");\r\n  const [hours_access, setHoursAccess] = useState(\"\");\r\n  const [site_comment, setSiteComment] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    init_Data();\r\n  }, []);\r\n\r\n  const init_Data = () => {\r\n    $http.get(base_url + \"site/siteList\")\r\n    .then((response) => {\r\n      setTabledata(response.data.sites);\r\n      setSites(response.data.sites);\r\n      setLoader(true);\r\n    });\r\n  }\r\n\r\n  const createSortHandler = property => event => {\r\n    handleRequestSort(event, property);\r\n  };\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    let sort_order;\r\n    if (orderBy === property && order === \"asc\") {\r\n      sort_order = \"desc\";\r\n    } else {\r\n      sort_order = \"asc\";\r\n    }\r\n\r\n    \r\n    sort_order === \"desc\"\r\n      ? sites.sort((a, b) => (b[property] < a[property] ? -1 : 1))\r\n      : sites.sort((a, b) => (a[property] < b[property] ? -1 : 1));\r\n\r\n    \r\n    setOrder(sort_order);\r\n    setOrderBy(property);\r\n  };\r\n\r\n  const handleClick = (event, id) => {\r\n    // History.push({\r\n    //   pathname: \"/app/sites/site/Info\",\r\n    //   state: {id: id}\r\n    // })\r\n  };\r\n\r\n  const handleChangePage = (event, page) => {\r\n    setPage(page);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = event => {\r\n    setRowsPerPage(event.target.value);\r\n  };\r\n  const onSelectSite = (data, index) => {\r\n    if (index === 0) {\r\n      History.push({\r\n        pathname: \"/app/sites/site/Info\",\r\n        state: {id: data}\r\n      })\r\n    } else if (index === 1) {\r\n      SiteModalOpen(data);\r\n    } else if (index === 2) {\r\n      $http.post(base_url + \"site/deleteSite\", {id: data})\r\n      .then((response) => {\r\n        init_Data();\r\n        NotificationManager.info(\"You removed selected site\");\r\n      })\r\n    }\r\n  }\r\n\r\n  const SearchSite = (data) => {\r\n    setSites(\r\n      tabledata.filter(function (item) {\r\n        return (item.site_name.toLowerCase().includes(data.toLowerCase()));\r\n      })\r\n    );\r\n  }\r\n  const SiteModalOpen = (data) => {\r\n    setSiteId(data);\r\n    $http.get(base_url + \"site/getSiteInfo\", {params : {id: data}})\r\n    .then((response) => {\r\n        setCustomerNames(response.data.customers);\r\n        if (data > 0) {\r\n          setCustomerName(response.data.site.company_id);\r\n          setSiteName(response.data.site.site_name);\r\n          setAddress(response.data.site.address);\r\n          setSiteCity(response.data.site.city);\r\n          setSitePostcode(response.data.site.postcode);\r\n          setSiteContactName(response.data.site.contact_name);\r\n          setOutContacct(response.data.site.contact_number);\r\n          setAnySite(response.data.site.site_instructions);\r\n          setHoursAccess(response.data.site.access_hour);\r\n          setSiteComment(response.data.site.comment);\r\n        }\r\n        setSiteOpen(true);\r\n    })\r\n  }\r\n  const SiteModalClose = () => {\r\n    setSiteOpen(false);\r\n  }\r\n  const SiteModalSave = () => {\r\n    SiteModalClose();\r\n      const frmData = new FormData();\r\n      frmData.append('id', site_id);\r\n      frmData.append('customer_id', customer_id);\r\n      frmData.append('site_name', site_name);\r\n      frmData.append('address', address);\r\n      frmData.append('city', site_city);\r\n      frmData.append('postcode', site_postcode);\r\n      frmData.append('contact_name', site_contact_name);\r\n      frmData.append('contact_number', out_contact);\r\n      frmData.append('site_instructions', any_site);\r\n      frmData.append('access_hour', hours_access);\r\n      frmData.append('comment', site_comment);\r\n\r\n      $http.post(base_url + \"site/updateSite\", frmData)\r\n      .then((response) => {\r\n          if (response.data.status === \"success\") {\r\n              NotificationManager.success(response.data.msg, \"Success!\", 5000, () => {\r\n              });\r\n              init_Data();\r\n          } else if (response.data.status === \"error\") {\r\n              NotificationManager.error(response.data.msg, \"Error!\", 5000, () => {\r\n              });\r\n          }\r\n      }).catch((error)=>{\r\n          console.log(\"error:\", error);\r\n      })\r\n  }\r\n\r\n  return (\r\n    \r\n        <div>\r\n          <Toolbar className=\"table-header\">\r\n            <div className=\"title\">\r\n              <Typography variant=\"h6\">Sites</Typography>\r\n            </div>\r\n            <div className=\"spacer\">\r\n                <div className=\"col-md-3 col-lg-3 col-sx-6 col-6 ml-auto\">\r\n                    <SearchBox placeholder=\"Search ...\"\r\n                      onChange={(event) => SearchSite(event.target.value)}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className=\"actions\">\r\n              <Tooltip title=\"New Site\">\r\n                <IconButton aria-label=\"New Site\" onClick={() => SiteModalOpen(null)}>\r\n                    <PlaylistPlayIcon/>\r\n                </IconButton>\r\n              </Tooltip>\r\n            </div>\r\n          </Toolbar>\r\n          {\r\n            loader ? (\r\n              <div className=\"flex-auto\">\r\n                <div className=\"table-responsive-material\">\r\n                  <Table className=\"\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        {columnData.map(column => {\r\n                          return (\r\n                            <TableCell\r\n                              key={column.id}\r\n                              align={column.numeric}\r\n                            >\r\n                              <Tooltip\r\n                                title=\"Sort\"\r\n                                placement={column.numeric ? \"bottom-end\" : \"bottom-start\"}\r\n                                enterDelay={300}\r\n                              >\r\n                                  <TableSortLabel\r\n                                  active={orderBy === column.id}\r\n                                  direction={order}\r\n                                  onClick={createSortHandler(column.id)}\r\n                                >\r\n                                  {column.label}\r\n                                </TableSortLabel>\r\n                              </Tooltip>\r\n                            </TableCell>\r\n                          );\r\n                        })}\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      {sites.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((n) => \r\n                          <TableRow\r\n                            hover\r\n                            key={n.id}\r\n                            onClick={event => handleClick(event, n.id)}\r\n                            //onKeyDown={event => handleKeyDown(event, n.id)}\r\n                            tabIndex={-1}\r\n                          >\r\n                            <TableCell>{n.id}</TableCell>\r\n                            <TableCell>{n.site_name}</TableCell>\r\n                            <TableCell>{n.city}</TableCell>\r\n                            <TableCell>{n.postcode}</TableCell>\r\n                            <TableCell>{n.buildings_count}</TableCell>\r\n                            <TableCell>{n.floors_count}</TableCell>\r\n                            <TableCell>{n.rooms_count}</TableCell>\r\n                            <TableCell className=\"text-right\">\r\n                              <CardEditMenu key={n.id} selectedData={n.id} \r\n                                onSelectRow={onSelectSite}/>\r\n                            </TableCell>\r\n                          </TableRow>\r\n                        )}\r\n                    </TableBody>\r\n                    <TableFooter>\r\n                      <TableRow>\r\n                        <TablePagination\r\n                          count={sites.length}\r\n                          rowsPerPage={rowsPerPage}\r\n                          page={page}\r\n                          onChangePage={handleChangePage}\r\n                          onChangeRowsPerPage={handleChangeRowsPerPage}\r\n                        />\r\n                      </TableRow>\r\n                    </TableFooter>\r\n                  </Table>\r\n                </div>\r\n                <NotificationContainer/>\r\n              </div>\r\n            ):(\r\n              <div className=\"loader-view\"\r\n                      style={{height: width >= 1200 ? 'calc(100vh - 259px)' : 'calc(100vh - 238px)'}}>\r\n                  <CircularProgress/>\r\n              </div>        \r\n            )\r\n          }\r\n          <Modal key=\"site-save\" className=\"modal-box\" toggle={SiteModalClose} isOpen={site_open}>\r\n            <ModalHeader>{site_id ? 'Modify Site':'Add Site'}\r\n                <IconButton className=\"text-grey\"\r\n                            onClick={SiteModalClose}>\r\n                    <CloseIcon/>\r\n                </IconButton>\r\n            </ModalHeader>\r\n            <div className=\"modal-box-content\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-6 col-12\">\r\n                        <TextField\r\n                            id=\"custemername\"\r\n                            select\r\n                            label=\"Customer Name\"\r\n                            value={customer_id}\r\n                            onChange={(event)=>setCustomerName(event.target.value)}\r\n                            SelectProps={{}}\r\n                            helperText=\"Please select Customer Name\"\r\n                            margin=\"normal\"\r\n                            fullWidth\r\n                        >\r\n                            {customername_rows.map(option => (\r\n                                <MenuItem key={option.id} value={option.id}>\r\n                                    {option.name}\r\n                                </MenuItem>\r\n                            ))}\r\n                        </TextField>\r\n                    </div>\r\n                    \r\n                    <div className=\"col-md-6 col-12\">\r\n                        <TextField \r\n                            id=\"site_name\"\r\n                            label=\"Site\"\r\n                            value={site_name}\r\n                            onChange={(event) => setSiteName(event.target.value)}\r\n                            margin=\"normal\"\r\n                            helperText=\"Please Enter Site\"\r\n                            fullWidth\r\n                            />\r\n                    </div>\r\n                   \r\n                    <div className=\"col-md-6 col-12\">\r\n                            <TextField \r\n                                id=\"address\"\r\n                                label=\"Address\"\r\n                                value={address}\r\n                                onChange={(event)=>setAddress(event.target.value)}\r\n                                margin=\"normal\"\r\n                                helperText=\"Please Enter Address\"\r\n                                fullWidth\r\n                                />\r\n                        </div>\r\n                        <div className=\"col-md-6 col-12\">\r\n                            <TextField \r\n                                id=\"site_city\"\r\n                                label=\"City\"\r\n                                value={site_city}\r\n                                onChange={(event)=>setSiteCity(event.target.value)}\r\n                                margin=\"normal\"\r\n                                helperText=\"Please Enter City\"\r\n                                fullWidth\r\n                                />\r\n                        </div>\r\n                        <div className=\"col-md-6 col-12\">\r\n                            <TextField \r\n                                id=\"site_postcode\"\r\n                                label=\"Postcode\"\r\n                                value={site_postcode}\r\n                                onChange={(event)=>setSitePostcode(event.target.value)}\r\n                                margin=\"normal\"\r\n                                helperText=\"Please Enter Postcode\"\r\n                                fullWidth\r\n                            />\r\n                        </div>\r\n                        <div className=\"col-md-6 col-12\">\r\n                            <TextField \r\n                                id=\"site_contact_name\"\r\n                                label=\"Site Contact Name\"\r\n                                value={site_contact_name}\r\n                                onChange={(event)=>setSiteContactName(event.target.value)}\r\n                                margin=\"normal\"\r\n                                helperText=\"Please Enter Site Contact Name\"\r\n                                fullWidth\r\n                                />\r\n                        </div>\r\n                        <div className=\"col-md-6 col-12\">\r\n                            <TextField \r\n                                id=\"out_contact\"\r\n                                label=\"Out of ours contact number\"\r\n                                value={out_contact}\r\n                                onChange={(event)=>setOutContacct(event.target.value)}\r\n                                margin=\"normal\"\r\n                                helperText=\"Please Enter Out of ours contact number\"\r\n                                fullWidth\r\n                                />\r\n                        </div>\r\n                        <div className=\"col-md-6 col-12\">\r\n                            <TextField \r\n                                id=\"any_site\"\r\n                                label=\"Any site instructions\"\r\n                                value={any_site}\r\n                                onChange={(event)=>setAnySite(event.target.value)}\r\n                                margin=\"normal\"\r\n                                helperText=\"Please Enter Any site instructions\"\r\n                                fullWidth\r\n                                />\r\n                        </div>\r\n                        <div className=\"col-md-6 col-12\">\r\n                            <TextField \r\n                                id=\"hours_access\"\r\n                                label=\"Hours of access\"\r\n                                value={hours_access}\r\n                                onChange={(event)=>setHoursAccess(event.target.value)}\r\n                                margin=\"normal\"\r\n                                helperText=\"Please Enter Hours of access\"\r\n                                fullWidth\r\n                                />\r\n                        </div>\r\n                        <div className=\"col-md-12 col-12\">\r\n                            <TextField\r\n                                id=\"site_comment\"\r\n                                label=\"Comments\"\r\n                                multiline\r\n                                rowsMax=\"4\"\r\n                                value={site_comment}\r\n                                onChange={(event) => setSiteComment(event.target.value)}\r\n                                margin=\"normal\"\r\n                                fullWidth\r\n                            />\r\n                        </div>\r\n                  \r\n                </div>\r\n            </div>\r\n            <div className=\"modal-box-footer d-flex flex-row\">\r\n                <Button onClick={SiteModalClose} color=\"secondary\">\r\n                Cancel\r\n                </Button>\r\n                <Button onClick={SiteModalSave} color=\"primary\">\r\n                Save\r\n                </Button>\r\n            </div>\r\n          </Modal>\r\n        </div>\r\n        \r\n  );\r\n};\r\n\r\nexport default SiteTable;\r\n","import React from 'react';\r\nimport ContainerHeader from 'components/ContainerHeader/index';\r\nimport IntlMessages from 'util/IntlMessages';\r\nimport SiteTable from \"./SiteTable\";\r\nimport CardBox from \"components/CardBox/index\";\r\n\r\nclass live extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"app-wrapper\">\r\n                <ContainerHeader match={this.props.match} title={<IntlMessages id=\"sidebar.sites\"/>}/>\r\n                <div className=\"row animated slideInUpTiny animation-duration-3\">\r\n                    <CardBox styleName=\"col-12\">\r\n                        <SiteTable/>\r\n                    </CardBox>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default live;"],"sourceRoot":""}