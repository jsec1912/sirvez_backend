(this["webpackJsonpjumbo-hooks"]=this["webpackJsonpjumbo-hooks"]||[]).push([[40],{1062:function(e,t,a){"use strict";var n=a(1),r=a(6),c=a(0),o=(a(2),a(5)),l=a(55),i=Object(l.a)(c.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel"),s=a(8),u=a(31),d=a(23),m=a(12),p=a(151);function f(e){return"Backspace"===e.key||"Delete"===e.key}var g=c.forwardRef((function(e,t){var a=e.avatar,l=e.classes,s=e.className,u=e.clickable,g=e.color,b=void 0===g?"default":g,h=e.component,j=e.deleteIcon,v=e.disabled,y=void 0!==v&&v,_=e.icon,O=e.label,E=e.onClick,S=e.onDelete,N=e.onKeyDown,C=e.onKeyUp,k=e.size,x=void 0===k?"medium":k,w=e.variant,P=void 0===w?"default":w,T=Object(r.a)(e,["avatar","classes","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"]),I=c.useRef(null),R=Object(d.a)(I,t),M=function(e){e.stopPropagation(),S&&S(e)},L=!(!1===u||!E)||u,$="small"===x,D=h||(L?p.a:"div"),z=D===p.a?{component:"div"}:{},F=null;if(S){var J=Object(o.a)("default"!==b&&("default"===P?l["deleteIconColor".concat(Object(m.a)(b))]:l["deleteIconOutlinedColor".concat(Object(m.a)(b))]),$&&l.deleteIconSmall);F=j&&c.isValidElement(j)?c.cloneElement(j,{className:Object(o.a)(j.props.className,l.deleteIcon,J),onClick:M}):c.createElement(i,{className:Object(o.a)(l.deleteIcon,J),onClick:M})}var W=null;a&&c.isValidElement(a)&&(W=c.cloneElement(a,{className:Object(o.a)(l.avatar,a.props.className,$&&l.avatarSmall,"default"!==b&&l["avatarColor".concat(Object(m.a)(b))])}));var B=null;return _&&c.isValidElement(_)&&(B=c.cloneElement(_,{className:Object(o.a)(l.icon,_.props.className,$&&l.iconSmall,"default"!==b&&l["iconColor".concat(Object(m.a)(b))])})),c.createElement(D,Object(n.a)({role:L||S?"button":void 0,className:Object(o.a)(l.root,s,"default"!==b&&[l["color".concat(Object(m.a)(b))],L&&l["clickableColor".concat(Object(m.a)(b))],S&&l["deletableColor".concat(Object(m.a)(b))]],"default"!==P&&[l.outlined,{primary:l.outlinedPrimary,secondary:l.outlinedSecondary}[b]],y&&l.disabled,$&&l.sizeSmall,L&&l.clickable,S&&l.deletable),"aria-disabled":!!y||void 0,tabIndex:L||S?0:void 0,onClick:E,onKeyDown:function(e){e.currentTarget===e.target&&f(e)&&e.preventDefault(),N&&N(e)},onKeyUp:function(e){e.currentTarget===e.target&&(S&&f(e)?S(e):"Escape"===e.key&&I.current&&I.current.blur()),C&&C(e)},ref:R},z,T),W||B,c.createElement("span",{className:Object(o.a)(l.label,$&&l.labelSmall)},O),F)}));t.a=Object(s.a)((function(e){var t="light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],a=Object(u.c)(e.palette.text.primary,.26);return{root:{fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:e.palette.getContrastText(t),backgroundColor:t,borderRadius:16,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:"none",padding:0,verticalAlign:"middle",boxSizing:"border-box","&$disabled":{opacity:.5,pointerEvents:"none"},"& $avatar":{marginLeft:5,marginRight:-6,width:24,height:24,color:"light"===e.palette.type?e.palette.grey[700]:e.palette.grey[300],fontSize:e.typography.pxToRem(12)},"& $avatarColorPrimary":{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark},"& $avatarColorSecondary":{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.dark},"& $avatarSmall":{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)}},sizeSmall:{height:24},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},disabled:{},clickable:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover, &:focus":{backgroundColor:Object(u.b)(t,.08)},"&:active":{boxShadow:e.shadows[1]}},clickableColorPrimary:{"&:hover, &:focus":{backgroundColor:Object(u.b)(e.palette.primary.main,.08)}},clickableColorSecondary:{"&:hover, &:focus":{backgroundColor:Object(u.b)(e.palette.secondary.main,.08)}},deletable:{"&:focus":{backgroundColor:Object(u.b)(t,.08)}},deletableColorPrimary:{"&:focus":{backgroundColor:Object(u.b)(e.palette.primary.main,.2)}},deletableColorSecondary:{"&:focus":{backgroundColor:Object(u.b)(e.palette.secondary.main,.2)}},outlined:{backgroundColor:"transparent",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(u.c)(e.palette.text.primary,e.palette.action.hoverOpacity)},"& $avatar":{marginLeft:4},"& $avatarSmall":{marginLeft:2},"& $icon":{marginLeft:4},"& $iconSmall":{marginLeft:2},"& $deleteIcon":{marginRight:5},"& $deleteIconSmall":{marginRight:3}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(e.palette.primary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(u.c)(e.palette.primary.main,e.palette.action.hoverOpacity)}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(e.palette.secondary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(u.c)(e.palette.secondary.main,e.palette.action.hoverOpacity)}},avatar:{},avatarSmall:{},avatarColorPrimary:{},avatarColorSecondary:{},icon:{color:"light"===e.palette.type?e.palette.grey[700]:e.palette.grey[300],marginLeft:5,marginRight:-6},iconSmall:{width:18,height:18,marginLeft:4,marginRight:-4},iconColorPrimary:{color:"inherit"},iconColorSecondary:{color:"inherit"},label:{overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},labelSmall:{paddingLeft:8,paddingRight:8},deleteIcon:{WebkitTapHighlightColor:"transparent",color:a,height:22,width:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:Object(u.c)(a,.4)}},deleteIconSmall:{height:16,width:16,marginRight:4,marginLeft:-4},deleteIconColorPrimary:{color:Object(u.c)(e.palette.primary.contrastText,.7),"&:hover, &:active":{color:e.palette.primary.contrastText}},deleteIconColorSecondary:{color:Object(u.c)(e.palette.secondary.contrastText,.7),"&:hover, &:active":{color:e.palette.secondary.contrastText}},deleteIconOutlinedColorPrimary:{color:Object(u.c)(e.palette.primary.main,.7),"&:hover, &:active":{color:e.palette.primary.main}},deleteIconOutlinedColorSecondary:{color:Object(u.c)(e.palette.secondary.main,.7),"&:hover, &:active":{color:e.palette.secondary.main}}}}),{name:"MuiChip"})(g)},1255:function(e,t,a){"use strict";var n=a(41);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(173)).default)(r.default.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");t.default=c},1388:function(e,t,a){"use strict";a.r(t);var n=a(9),r=a(0),c=a.n(r),o=a(480),l=a(50),i=a(3),s=a(487),u=a(467),d=a(445),m=a(448),p=a(440),f=a(465),g=a(441),b=a(437),h=a(29),j=a(502),v=a(965),y=a(656),_=a(27),O=a(14),E=a(446),S=a(490),N=a.n(S),C=a(466),k=a(455),x=a(471),w=a(401),P=a(123),T=a(11),I=a(230),R=a(5),M=a(854),L=a(916),$=a(36),D=a(255),z=(a(2),"undefined"!==typeof window?r.useLayoutEffect:r.useEffect);var F=function(e){var t=e.children,a=e.defer,n=void 0!==a&&a,c=e.fallback,o=void 0===c?null:c,l=r.useState(!1),i=l[0],s=l[1];return z((function(){n||s(!0)}),[n]),r.useEffect((function(){n&&s(!0)}),[n]),r.createElement(r.Fragment,null,i?t:o)},J=a(171),W=a(1062),B=a(1255),V=a.n(B),A=a(275),K=Object(L.a)((function(e){return{root:{flexGrow:1},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(A.emphasize)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1),left:0,right:0},divider:{height:e.spacing(2)}}}));function U(e){var t=e.inputRef,a=Object(I.a)(e,["inputRef"]);return c.a.createElement("div",Object.assign({ref:t},a))}var H={Control:function(e){var t=e.children,a=e.innerProps,n=e.innerRef,r=e.selectProps,o=r.classes,l=r.TextFieldProps;return c.a.createElement(u.a,Object.assign({fullWidth:!0,InputProps:{inputComponent:U,inputProps:Object(T.a)({className:o.input,ref:n,children:t},a)}},l))},Menu:function(e){return c.a.createElement(J.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},MultiValue:function(e){return c.a.createElement(W.a,{tabIndex:-1,label:e.children,className:Object(R.a)(e.selectProps.classes.chip,Object(P.a)({},e.selectProps.classes.chipFocused,e.isFocused)),onDelete:e.removeProps.onClick,deleteIcon:c.a.createElement(V.a,e.removeProps)})},NoOptionsMessage:function(e){return c.a.createElement(D.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return c.a.createElement(m.a,Object.assign({ref:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},Placeholder:function(e){return c.a.createElement(D.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.placeholder},e.innerProps),e.children)},SingleValue:function(e){return c.a.createElement(D.a,Object.assign({className:e.selectProps.classes.singleValue},e.innerProps),e.children)},ValueContainer:function(e){return c.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}},Y=function(e){var t=K(),a=Object($.a)(),r=c.a.useState(null),o=Object(n.a)(r,2),l=o[0],i=o[1],s=e.label,u=e.suggestions,d=e.onSelect;var m={input:function(e){return Object(T.a)(Object(T.a)({},e),{},{color:a.palette.text.primary,"& input":{font:"inherit"}})}};return c.a.createElement("div",{className:t.root},c.a.createElement(F,null,c.a.createElement(M.default,{classes:t,styles:m,inputId:"react-select-single",TextFieldProps:{label:s,InputLabelProps:{htmlFor:"react-select-single",shrink:!0},placeholder:"Search a country (start with a)"},options:u,components:H,value:l,onChange:function(e){i(e),d(e.value)}})))};t.default=function(e){var t=e.location.state?e.location.state.id:null,a=Object(r.useState)(!1),S=Object(n.a)(a,2),P=S[0],T=S[1],I=Object(r.useState)(""),R=Object(n.a)(I,2),M=R[0],L=R[1],$=Object(r.useState)(""),D=Object(n.a)($,2),z=D[0],F=D[1],J=Object(r.useState)([]),W=Object(n.a)(J,2),B=W[0],V=W[1],A=Object(r.useState)(""),K=Object(n.a)(A,2),U=K[0],H=K[1],q=Object(r.useState)(""),G=Object(n.a)(q,2),Q=G[0],X=G[1],Z=Object(r.useState)([]),ee=Object(n.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(r.useState)(""),re=Object(n.a)(ne,2),ce=re[0],oe=re[1],le=Object(r.useState)(""),ie=Object(n.a)(le,2),se=ie[0],ue=ie[1],de=Object(r.useState)(null),me=Object(n.a)(de,2),pe=me[0],fe=(me[1],Object(r.useState)("")),ge=Object(n.a)(fe,2),be=(ge[0],ge[1]),he=Object(r.useState)(new Date),je=Object(n.a)(he,2),ve=je[0],ye=je[1],_e=Object(r.useState)([]),Oe=Object(n.a)(_e,2),Ee=Oe[0],Se=Oe[1],Ne=Object(r.useState)([]),Ce=Object(n.a)(Ne,2),ke=Ce[0],xe=Ce[1],we=Object(r.useState)([]),Pe=Object(n.a)(we,2),Te=Pe[0],Ie=Pe[1],Re=Object(r.useState)([]),Me=Object(n.a)(Re,2),Le=Me[0],$e=Me[1],De=Object(r.useState)({}),ze=Object(n.a)(De,2),Fe=ze[0],Je=ze[1],We=Object(r.useState)("1"),Be=Object(n.a)(We,2),Ve=Be[0],Ae=Be[1],Ke=Object(r.useState)([]),Ue=Object(n.a)(Ke,2),He=Ue[0],Ye=Ue[1],qe=Object(r.useState)([]),Ge=Object(n.a)(qe,2),Qe=Ge[0],Xe=Ge[1],Ze=Object(_.g)(),et=Object(O.e)((function(e){return e.settings})).width,tt=Object(r.useState)(!1),at=Object(n.a)(tt,2),nt=at[0],rt=at[1],ct=Object(r.useState)(0),ot=Object(n.a)(ct,2),lt=ot[0],it=ot[1],st=Object(r.useState)([]),ut=Object(n.a)(st,2),dt=ut[0],mt=ut[1],pt=Object(r.useState)(0),ft=Object(n.a)(pt,2),gt=ft[0],bt=ft[1],ht=Object(r.useState)([]),jt=Object(n.a)(ht,2),vt=jt[0],yt=jt[1];Object(r.useEffect)((function(){h.a.get(h.b+"project/getprojectInfo",{params:{id:t}}).then((function(e){Ie(e.data.account_manager),Se(e.data.customer),xe(e.data.customer_user),$e(e.data.assign_to),mt(e.data.location_form_rows),yt(e.data.signoff_form_rows),t&&(L(e.data.project.project_name),H(e.data.project.manager_id),ye(new Date(e.data.project.survey_start_date)),X(e.data.project.contact_number),ae(e.data.project.assign_to),oe(e.data.project.project_summary),ue(e.data.project.project_ref),F(e.data.project.company_id),V(e.data.project.customer_users),Ae(e.data.project.end_enable),be(e.data.project.upload_doc),Je(e.data.project),it(e.data.project.location_form_id?e.data.project.location_form_id:0),bt(e.data.project.signoff_form_id?e.data.project.signoff_form_id:0)),Ye(e.data.sites),Xe(e.data.rooms),T(!0)})).catch((function(e){rt(!0)}))}),[t]);return c.a.createElement("div",{className:"app-wrapper"},c.a.createElement(o.a,{match:e.match,title:c.a.createElement(i.a,{id:"sidebar.project.addnew"})}),P?c.a.createElement("div",{className:"row"},c.a.createElement(s.a,{styleName:"col-lg-12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(u.a,{id:"project_title",label:"Project Title *",value:M,onChange:function(e){return L(e.target.value)},margin:"normal",helperText:"Please Enter Project Title",fullWidth:!0})),c.a.createElement("div",{className:"col-md-6 col-12 d-flex align-items-center"},c.a.createElement(Y,{label:"Customer *",suggestions:Ee.map((function(e){return{value:e.id,label:e.name}})),onSelect:function(e){F(e),H(Ee.find((function(t){return t.id==e})).manager)}})),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(u.a,{id:"account_manager",select:!0,label:"Account Manager *",value:U,onChange:function(e){H(e.target.value)},SelectProps:{},helperText:"Please select Account Manager",margin:"normal",fullWidth:!0},Te.map((function(e){return c.a.createElement(m.a,{key:e.id,value:e.id},e.first_name," ",e.last_name)})))),c.a.createElement("div",{className:"col-md-6 col-12 d-flex align-items-center"},c.a.createElement(p.a,{className:"w-100"},c.a.createElement(g.a,{htmlFor:"name-multiple"},"Customer User"),c.a.createElement(f.a,{multiple:!0,value:B,onChange:function(e){return V(e.target.value)},input:c.a.createElement(b.a,{id:"customer-user"}),MenuProps:{PaperProps:{style:{maxHeight:224,width:200}}}},ke.filter((function(e){return e.company_id==z})).map((function(e){return c.a.createElement(m.a,{key:e.id,value:""+e.id,style:{fontWeight:-1!==B.indexOf(ke)?"500":"400"}},e.first_name)}))))),c.a.createElement("div",{className:"col-md-6 col-12 d-flex align-items-center"},c.a.createElement(p.a,{className:"w-100"},c.a.createElement(g.a,{htmlFor:"name-multiple"},"Team"),c.a.createElement(f.a,{multiple:!0,value:te,onChange:function(e){return ae(e.target.value)},input:c.a.createElement(b.a,{id:"assign-to"}),MenuProps:{PaperProps:{style:{maxHeight:224,width:200}}}},Le.map((function(e){return c.a.createElement(m.a,{key:e.id,value:""+e.id,style:{fontWeight:-1!==te.indexOf(Le)?"500":"400"}},e.first_name)}))))),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(u.a,{id:"project_summary",label:"Project Summary",value:ce,onChange:function(e){return oe(e.target.value)},margin:"normal",helperText:"Please Enter Project Summary",fullWidth:!0})),c.a.createElement("div",{className:"col-md-6 col-12 d-flex align-items-center"},c.a.createElement(j.a,{utils:y.a},c.a.createElement(v.a,{margin:"normal",id:"survey_start_date",label:"Survey Date *",format:"dd/MM/yyyy",value:ve,onChange:ye,KeyboardButtonProps:{"aria-label":"change date"},helperText:"Enter date you carry out initial site survey"}))),c.a.createElement("div",{className:"col-md-6 col-12 d-flex align-items-center mt-2"},c.a.createElement(p.a,{component:"fieldset",required:!0},c.a.createElement(w.a,{component:"legend"},"Enable end user to complete survey"),c.a.createElement(x.a,{className:"d-flex flex-row","aria-label":"gender",name:"gender",value:Ve,onChange:function(e,t){return Ae(t)}},c.a.createElement(k.a,{value:"1",control:c.a.createElement(C.a,{color:"primary"}),label:"Yes"}),c.a.createElement(k.a,{value:"0",control:c.a.createElement(C.a,{color:"primary"}),label:"No"})))),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(u.a,{id:"location_form",select:!0,label:"Location Form",value:lt,onChange:function(e){it(e.target.value)},SelectProps:{},helperText:"Please select location form",margin:"normal",fullWidth:!0},c.a.createElement(m.a,{key:0,value:0},"Standard"),dt.map((function(e){return c.a.createElement(m.a,{key:e.id,value:e.id},e.form_name)})))),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(u.a,{id:"location_form",select:!0,label:"Location Form",value:gt,onChange:function(e){bt(e.target.value)},SelectProps:{},helperText:"Please select location form",margin:"normal",fullWidth:!0},c.a.createElement(m.a,{key:0,value:0},"Standard"),vt.map((function(e){return c.a.createElement(m.a,{key:e.id,value:e.id},e.form_name)})))),c.a.createElement("div",{className:"col-md-6 col-12 text-right mt-2"},c.a.createElement(d.a,{variant:"contained",color:"primary",className:"jr-btn",onClick:function(){return function(){var e=t||JSON.parse(localStorage.getItem("user")).id+"_"+(new Date).getTime();navigator.onLine||caches.open("SirvezApp").then((function(a){var n=null;pe?(n=(new Date).getTime()+"-"+pe.name,a.put("/upload/img/"+n,new Response(pe))):n=Fe.upload_doc;var r={account_manager:Te.filter((function(e){return e.id==U}))[0].first_name,archived:t?Fe.archived:0,archived_day:t?Fe.archived_day:null,assign_to:te,building_id:t?Fe.building_id:null,company_id:z,contact_number:Q,created_at:t?Fe.created_at:null,created_by:JSON.parse(localStorage.getItem("user")).id,customer:Ee.filter((function(e){return e.id==z}))[0].name,favourite:t?Fe.favourite:null,floor_id:t?Fe.floor_id:null,id:e,logo_img:Ee.filter((function(e){return e.id==z}))[0].logo_img,manager_id:U,messages:t?Fe.messages:1,off_id:null,profile_pic:t?Fe.profile_pic:null,project_name:M,project_summary:ce,project_ref:se,room_count:t?Fe.room_count:0,signed_off:t?Fe.signed_off:null,site_count:t?Fe.site_count:0,status:t?Fe.status:null,survey_start_date:ve.getFullYear()+"-"+(ve.getMonth()+1)+"-"+ve.getDate(),updated_at:null,schedules:[],upload_doc:n,customer_users:B,end_enable:Ve,location_form_id:lt,signoff_form_id:gt},c="/api/project/projectList?archived=";c+=t>0&&"1"==r.archived?"1":"0",a.match(c).then((function(e){return e?e.json():null})).then((function(t){if(null!=t){var n=t.projects.find((function(t){return t.id===e}));n?(n.project_name=r.project_name,n.company_id=r.company_id,n.contact_number=r.contact_number,n.customer=r.customer,n.manager_id=r.manager_id,n.account_manager=r.account_manager,n.project_summary=r.project_summary,n.project_ref=r.project_ref,n.survey_start_date=r.survey_start_date,n.upload_doc=r.upload_doc,n.customer_user=r.customer_user,n.end_enable=r.end_enable,n.new_form_id=r.new_form_id):t.projects.unshift(r);var o=new Response(JSON.stringify(t),{headers:{"content-type":"application/json"}});a.put(c,o.clone())}}));var o="/api/project/getprojectInfo?id="+e;t?a.match(o).then((function(e){return e?e.json():null})).then((function(e){if(null!=e){e.project=r;var t=new Response(JSON.stringify(e),{headers:{"content-type":"application/json"}});a.put(o,t.clone())}})):a.match("/api/project/getprojectInfo").then((function(e){return e?e.json():null})).then((function(e){if(null!=e){e.project=r;var t=new Response(JSON.stringify(e),{headers:{"content-type":"application/json"}});a.put(o,t.clone())}}));var l="/api/task/taskList?project_id="+e;t||a.match("/api/task/taskList").then((function(e){return e?e.json():null})).then((function(t){if(null!=t){t.project_id=e,t.customerId=z,t.tasks=[],t.schedules=[];var n=new Response(JSON.stringify(t),{headers:{"content-type":"application/json"}});a.put(l,n.clone())}}));var i="/api/product/getProductInfo?project_id="+e,s={status:"success",rooms:[],scheduls:[]};s.sites=He.filter((function(e){return e.company_id==z}));var u=new Response(JSON.stringify(s),{headers:{"content-type":"application/json"}});a.put(i,u.clone());var d="/api/project/projectInfo?project_id="+e;if(t)a.match(d).then((function(e){return e?e.json():null})).then((function(t){if(null!=t){t.project=r,t.project_id=e;var n=new Response(JSON.stringify(t),{headers:{"content-type":"application/json"}});a.put(d,n.clone())}}));else{var m={};m.assign_to=Le.filter((function(e){return te.includes(e.id.toString())})),m.customer_users=ke.filter((function(e){return B.includes(e.id.toString())})),m.customer_sites=[],m.notification=[],m.products=[],m.project=r,m.rooms=[],m.schedules=[],m.rooms=[],m.signed_cnt=null,m.sites=He.filter((function(e){return e.company_id==z})),m.status="success",m.tasks=[],m.project_id=e,m.team=Le.filter((function(e){return!te.includes(e.id.toString())})),m.left_customer_users=ke.filter((function(e){return!B.includes(e.id.toString())}));var p=new Response(JSON.stringify(m),{headers:{"content-type":"application/json"}});a.put(d,p.clone())}var f="/api/room/roomInfo?project_id="+e,g={buildings:[],departments:[],floors:[],projects:[],schedules:[]};g.rooms=Qe.filter((function(e){return e.company_id==z})),g.sites=He.filter((function(e){return e.company_id==z})),g.status="success",g.room_id=null,g.project_id=e;var b=new Response(JSON.stringify(g),{headers:{"content-type":"application/json"}});a.put(f,b.clone())}));var a=new FormData;a.append("id",e),a.append("project_name",M),a.append("customer_id",z),a.append("manager_id",U),a.append("contact_number",Q),a.append("project_ref",se),a.append("assign_to",JSON.stringify(te)),a.append("customer_user",JSON.stringify(B)),a.append("project_summary",ce),a.append("upload_doc",pe),a.append("end_enable",Ve),a.append("location_form_id",lt),a.append("signoff_form_id",gt),a.append("survey_start_date",ve.getFullYear()+"-"+(ve.getMonth()+1)+"-"+ve.getDate()),h.a.post(h.b+"project/updateProject",a).then((function(a){"success"===a.data.status?t?Ze.push({pathname:"/app/project/live/".concat(e)}):Ze.push({pathname:"/app/project/live"}):"error"===a.data.status&&l.NotificationManager.error(a.data.msg,"Error!",1e3,(function(){}))})).catch((function(e){l.NotificationManager.error(e,"Error!",1e3,(function(){}))}))}()}},"Save"),c.a.createElement(d.a,{variant:"contained",color:"secondary",className:"jr-btn",onClick:function(){t?Ze.push({pathname:"/app/project/live/".concat(t)}):Ze.push({pathname:"/app/project/live"})}},"Cancel"))))):c.a.createElement("div",{className:"loader-view",style:{height:et>=1200?"calc(100vh - 259px)":"calc(100vh - 238px)"}},c.a.createElement(E.a,null)),c.a.createElement(N.a,{show:nt,warning:!0,confirmBtnText:"Go Back",confirmBtnBsStyle:"danger",cancelBtnBsStyle:"default",title:"Warning!",onConfirm:function(){return Ze.go(-1)}},"Data not cached, so you can not view this page."),c.a.createElement(l.NotificationContainer,null))}},480:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(529),o=a(530),l=function(e,t,a){return 0===a?"/":"/"+e.split(t)[0]+t};t.a=function(e){var t=e.title,a=e.match,n=e.project_name,i=e.room_number,s=[],u=a.url.substr(1),d=u.split("/");return d.map((function(e,t){""===e&&d.splice(t,1),"live"===d[t-1]?s[t]=n||"":"live"===d[t-2]?s[t]=i||"":s[t]=e})),r.a.createElement("div",{className:"page-heading d-sm-flex justify-content-sm-between align-items-sm-center"},r.a.createElement("h2",{className:"title mb-3 mb-sm-0"},t),r.a.createElement(c.a,{className:"mb-0",tag:"nav"},d.map((function(e,t){if(0!=t)return r.a.createElement(o.a,{active:d.length===t+1,tag:d.length===t+1?"span":"a",key:t,href:l(u,e,t)},function(e){var t=e.split("-");return t.length>1?t[0].charAt(0).toUpperCase()+t[0].slice(1)+" "+t[1].charAt(0).toUpperCase()+t[1].slice(1):e.charAt(0).toUpperCase()+e.slice(1)}(s[t]))}))))}},487:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=function(e){var t=e.heading,a=e.children,n=e.styleName,c=e.cardStyle,o=e.childrenStyle,l=e.headerOutside,i=e.headingStyle;return r.a.createElement("div",{className:"".concat(n)},l&&r.a.createElement("div",{className:"jr-entry-header"},r.a.createElement("h3",{className:"entry-heading"},t),a.length>1&&r.a.createElement("div",{className:"entry-description"},a[0])),r.a.createElement("div",{className:"jr-card ".concat(c)},!l&&t&&r.a.createElement("div",{className:"jr-card-header ".concat(i)},r.a.createElement("h3",{className:"card-heading"},t),a.length>1&&r.a.createElement("div",{className:"sub-heading"},a[0])),r.a.createElement("div",{className:"jr-card-body ".concat(o)},a.length>1?a[1]:a)))};t.a=c,c.defaultProps={cardStyle:"",headingStyle:"",childrenStyle:"",styleName:"col-lg-6 col-sm-12"}},529:function(e,t,a){"use strict";var n=a(1),r=a(22),c=a(0),o=a.n(c),l=a(2),i=a.n(l),s=a(54),u=a.n(s),d=a(18),m={tag:d.m,listTag:d.m,className:i.a.string,listClassName:i.a.string,cssModule:i.a.object,children:i.a.node,"aria-label":i.a.string},p=function(e){var t=e.className,a=e.listClassName,c=e.cssModule,l=e.children,i=e.tag,s=e.listTag,m=e["aria-label"],p=Object(r.a)(e,["className","listClassName","cssModule","children","tag","listTag","aria-label"]),f=Object(d.i)(u()(t),c),g=Object(d.i)(u()("breadcrumb",a),c);return o.a.createElement(i,Object(n.a)({},p,{className:f,"aria-label":m}),o.a.createElement(s,{className:g},l))};p.propTypes=m,p.defaultProps={tag:"nav",listTag:"ol","aria-label":"breadcrumb"},t.a=p},530:function(e,t,a){"use strict";var n=a(1),r=a(22),c=a(0),o=a.n(c),l=a(2),i=a.n(l),s=a(54),u=a.n(s),d=a(18),m={tag:d.m,active:i.a.bool,className:i.a.string,cssModule:i.a.object},p=function(e){var t=e.className,a=e.cssModule,c=e.active,l=e.tag,i=Object(r.a)(e,["className","cssModule","active","tag"]),s=Object(d.i)(u()(t,!!c&&"active","breadcrumb-item"),a);return o.a.createElement(l,Object(n.a)({},i,{className:s,"aria-current":c?"page":void 0}))};p.propTypes=m,p.defaultProps={tag:"li"},t.a=p}}]);
//# sourceMappingURL=40.5818a1f2.chunk.js.map