(this["webpackJsonpjumbo-hooks"]=this["webpackJsonpjumbo-hooks"]||[]).push([[43],{533:function(e,t,a){"use strict";a.r(t);var i=a(10),o=a(0),n=a.n(o),c=a(99),s=a(534),r=a(15),l=a(440),u=a(26);t.default=function(e){var t=Object(u.g)(),a=Object(o.useState)(!1),m=Object(i.a)(a,2),p=m[0],d=m[1],g=Object(o.useState)(e.location.state?c.c+"upload/img/"+e.location.state.img_url:""),b=Object(i.a)(g,2),f=b[0],h=(b[1],Object(r.e)((function(e){return e.settings})).width),j=Object(o.useState)([]),O=Object(i.a)(j,2),v=(O[0],O[1]),w=Object(o.useState)(""),E=Object(i.a)(w,2),_=E[0],k=E[1];return Object(o.useEffect)((function(){p||c.a.get(c.b+"room/editPhoto",{params:{room_id:e.location.state.room_id}}).then((function(e){"success"===e.data.status&&(0==e.data.edit_flag?t.go(0):(v(e.data.categories),d(!0),k(e.data.categories.map((function(e){return"{ name: '"+e.name+"', list: ["+e.stickers.map((function(e){return"'"+e.name+"'"}))+"], type: 'png', thumbnailUrl: 'images/ui/"+e.category_img+"'}"})))))})).catch((function(e){console.log("error:",e)}))}),[f]),n.a.createElement("div",{className:"app-wrapper"},p?n.a.createElement("div",null,n.a.createElement("pixie-editor",null),n.a.createElement(s.a,null,n.a.createElement("script",null,"var pixie = new Pixie({                                crossOrigin: true,                                image: '"+(e.location.state?c.c+"upload/img/"+e.location.state.img_url:"")+"',                                onLoad: function() {},                                onSave: function(data, name) {                                    pixie.http().post('"+c.b+"room/saveimage', {id: "+(e.location.state?e.location.state.img_id:"")+", image: data}).subscribe(function(response) {                                        window.history.go(-1);                                    });                                },                                tools: {                                     stickers: {                                         replaceDefault: false,                                         items: [ "+_+"]                                     }                                 }                             });                            "))):n.a.createElement("div",{className:"loader-view",style:{height:h>=1200?"calc(100vh - 259px)":"calc(100vh - 238px)"}},n.a.createElement(l.a,null)))}}}]);
//# sourceMappingURL=43.3d819571.chunk.js.map