(this["webpackJsonpjumbo-hooks"]=this["webpackJsonpjumbo-hooks"]||[]).push([[17],{466:function(e,a,t){"use strict";var l=t(0),r=t.n(l),n=t(482),c=t(483),o=function(e,a,t){return 0===t?"#/":"#/"+e.split(a)[0]+a};a.a=function(e){var a=e.title,t=e.match.path.substr(1),l=t.split("/");return r.a.createElement("div",{className:"page-heading d-sm-flex justify-content-sm-between align-items-sm-center"},r.a.createElement("h2",{className:"title mb-3 mb-sm-0"},a),r.a.createElement(n.a,{className:"mb-0",tag:"nav"},l.map((function(e,a){return r.a.createElement(c.a,{active:l.length===a+1,tag:l.length===a+1?"span":"a",key:a,href:o(t,e,a)},function(e){var a=e.split("-");return a.length>1?a[0].charAt(0).toUpperCase()+a[0].slice(1)+" "+a[1].charAt(0).toUpperCase()+a[1].slice(1):e.charAt(0).toUpperCase()+e.slice(1)}(e))}))))}},467:function(e,a,t){"use strict";var l=t(0),r=t.n(l),n=function(e){var a=e.heading,t=e.children,l=e.styleName,n=e.cardStyle,c=e.childrenStyle,o=e.headerOutside,i=e.headingStyle;return r.a.createElement("div",{className:"".concat(l)},o&&r.a.createElement("div",{className:"jr-entry-header"},r.a.createElement("h3",{className:"entry-heading"},a),t.length>1&&r.a.createElement("div",{className:"entry-description"},t[0])),r.a.createElement("div",{className:"jr-card ".concat(n)},!o&&a&&r.a.createElement("div",{className:"jr-card-header ".concat(i)},r.a.createElement("h3",{className:"card-heading"},a),t.length>1&&r.a.createElement("div",{className:"sub-heading"},t[0])),r.a.createElement("div",{className:"jr-card-body ".concat(c)},t.length>1?t[1]:t)))};a.a=n,n.defaultProps={cardStyle:"",headingStyle:"",childrenStyle:"",styleName:"col-lg-6 col-sm-12"}},481:function(e,a,t){"use strict";var l=t(6),r=t(1),n=t(0),c=(t(2),t(5)),o=t(8),i=t(169),s=t(13),m=n.forwardRef((function(e,a){var t=e.children,o=e.classes,m=e.className,d=e.color,u=void 0===d?"default":d,b=e.component,p=void 0===b?"button":b,g=e.disabled,h=void 0!==g&&g,f=e.disableFocusRipple,v=void 0!==f&&f,j=e.focusVisibleClassName,E=e.size,N=void 0===E?"large":E,O=e.variant,y=void 0===O?"round":O,_=Object(l.a)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return n.createElement(i.a,Object(r.a)({className:Object(c.a)(o.root,m,"round"!==y&&o.extended,"large"!==N&&o["size".concat(Object(s.a)(N))],h&&o.disabled,{primary:o.primary,secondary:o.secondary,inherit:o.colorInherit}[u]),component:p,disabled:h,focusRipple:!v,focusVisibleClassName:Object(c.a)(o.focusVisible,j),ref:a},_),n.createElement("span",{className:o.label},t))}));a.a=Object(o.a)((function(e){return{root:Object(r.a)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})(m)},482:function(e,a,t){"use strict";var l=t(1),r=t(21),n=t(0),c=t.n(n),o=t(2),i=t.n(o),s=t(52),m=t.n(s),d=t(17),u={tag:d.m,listTag:d.m,className:i.a.string,listClassName:i.a.string,cssModule:i.a.object,children:i.a.node,"aria-label":i.a.string},b=function(e){var a=e.className,t=e.listClassName,n=e.cssModule,o=e.children,i=e.tag,s=e.listTag,u=e["aria-label"],b=Object(r.a)(e,["className","listClassName","cssModule","children","tag","listTag","aria-label"]),p=Object(d.i)(m()(a),n),g=Object(d.i)(m()("breadcrumb",t),n);return c.a.createElement(i,Object(l.a)({},b,{className:p,"aria-label":u}),c.a.createElement(s,{className:g},o))};b.propTypes=u,b.defaultProps={tag:"nav",listTag:"ol","aria-label":"breadcrumb"},a.a=b},483:function(e,a,t){"use strict";var l=t(1),r=t(21),n=t(0),c=t.n(n),o=t(2),i=t.n(o),s=t(52),m=t.n(s),d=t(17),u={tag:d.m,active:i.a.bool,className:i.a.string,cssModule:i.a.object},b=function(e){var a=e.className,t=e.cssModule,n=e.active,o=e.tag,i=Object(r.a)(e,["className","cssModule","active","tag"]),s=Object(d.i)(m()(a,!!n&&"active","breadcrumb-item"),t);return c.a.createElement(o,Object(l.a)({},i,{className:s,"aria-current":n?"page":void 0}))};b.propTypes=u,b.defaultProps={tag:"li"},a.a=b},531:function(e,a,t){"use strict";t.r(a);var l=t(81),r=t(10),n=t(0),c=t.n(n),o=t(466),i=t(74),s=(t(3),t(467)),m=t(458),d=t(439),u=t(441),b=t(434),p=t(99),g=t(148),h=t.n(g),f=t(26),v=t(15),j=t(440),E=t(481),N=t(457),O=t(446),y=t(465),_=t(396);a.default=function(e){var a=e.location.state?e.location.state.project_id:null,t=e.location.state?e.location.state.id:null,g=Object(n.useState)(!1),C=Object(r.a)(g,2),S=C[0],x=C[1],k=Object(n.useState)(""),w=Object(r.a)(k,2),P=w[0],T=w[1],W=Object(n.useState)(0),z=Object(r.a)(W,2),R=z[0],M=z[1],A=Object(n.useState)(0),I=Object(r.a)(A,2),D=(I[0],I[1]),V=Object(n.useState)(""),F=Object(r.a)(V,2),H=F[0],U=F[1],$=Object(n.useState)(""),B=Object(r.a)($,2),J=B[0],L=B[1],q=Object(n.useState)(""),Y=Object(r.a)(q,2),G=Y[0],K=Y[1],Q=Object(n.useState)(""),X=Object(r.a)(Q,2),Z=X[0],ee=X[1],ae=Object(n.useState)(0),te=Object(r.a)(ae,2),le=te[0],re=te[1],ne=Object(n.useState)(0),ce=Object(r.a)(ne,2),oe=ce[0],ie=ce[1],se=Object(n.useState)([]),me=Object(r.a)(se,2),de=me[0],ue=me[1],be=Object(n.useState)(0),pe=Object(r.a)(be,2),ge=pe[0],he=pe[1],fe=Object(n.useState)([]),ve=Object(r.a)(fe,2),je=ve[0],Ee=ve[1],Ne=Object(n.useState)("1"),Oe=Object(r.a)(Ne,2),ye=Oe[0],_e=Oe[1],Ce=Object(n.useState)(""),Se=Object(r.a)(Ce,2),xe=Se[0],ke=Se[1],we=Object(n.useState)([]),Pe=Object(r.a)(we,2),Te=Pe[0],We=Pe[1],ze=Object(n.useState)([]),Re=Object(r.a)(ze,2),Me=Re[0],Ae=Re[1],Ie=Object(n.useState)([]),De=Object(r.a)(Ie,2),Ve=De[0],Fe=De[1],He=Object(n.useState)([]),Ue=Object(r.a)(He,2),$e=Ue[0],Be=Ue[1],Je=Object(n.useState)(""),Le=Object(r.a)(Je,2),qe=Le[0],Ye=Le[1],Ge=Object(n.useState)(""),Ke=Object(r.a)(Ge,2),Qe=Ke[0],Xe=Ke[1],Ze=Object(n.useState)(""),ea=Object(r.a)(Ze,2),aa=ea[0],ta=ea[1],la=Object(f.g)(),ra=Object(v.e)((function(e){return e.settings})).width;Object(n.useEffect)((function(){p.a.get(p.b+"room/roomInfo",{params:{id:t,project_id:a}}).then((function(e){if(e.data){We(e.data.sites),Ae(e.data.departments),Fe(e.data.buildings),Be(e.data.floors);var a=[];t>0&&(ue([]),M(e.data.room.site_id),D(e.data.room.project_id),Ye(e.data.room.department_id),Xe(e.data.room.building_id),ta(e.data.room.floor_id),U(e.data.room.room_number),re(e.data.room.estimate_day),ie(e.data.room.estimate_time),L(e.data.room.ceiling_height),K(e.data.room.ceiling),ee(e.data.room.wall),_e(e.data.room.asbestos),ke(e.data.room.notes),T(e.data.room.project_name),e.data.room.img_files.length>0&&(he(e.data.room.img_files.length),e.data.room.img_files.map((function(e){a.push(p.c+"upload/img/"+e.img_name)}))),Ee(a))}x(!0)}))}),[]);var na=function(e){var l=new FormData;l.append("id",t),l.append("site_id",R),l.append("department_id",qe),l.append("building_id",Qe),l.append("floor_id",aa),l.append("room_number",H),l.append("estimate_day",le),l.append("estimate_time",oe),l.append("ceiling_height",J),l.append("ceiling",G),l.append("wall",Z);for(var r=0;r<de.length;r++)l.append("room_img["+r+"]",de[r]);l.append("img_array",je),l.append("asbestos",ye),l.append("notes",xe),l.append("img_index",e),a&&l.append("project_id",a),p.a.post(p.b+"room/updateRoom",l).then((function(a){"success"===a.data.status?(i.NotificationManager.success(a.data.msg,"Success!",5e3,(function(){})),e>=0&&ca(a.data.rooms,e)):"error"===a.data.status&&i.NotificationManager.error(a.data.msg,"Error!",5e3,(function(){}))})).catch((function(e){console.log("error:",e)}))},ca=function(e,a){la.push({pathname:"/app/sitesurvey/live/sticker",state:{room_id:t,img_id:e[a].id,img_url:e[a].img_name}})};return c.a.createElement("div",{className:"app-wrapper"},c.a.createElement(o.a,{match:e.match,title:"Room"}),S?c.a.createElement("div",{className:"row"},c.a.createElement(s.a,{styleName:"col-lg-12"},c.a.createElement("form",{className:"row",autoComplete:"off"},c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(m.a,{id:"room_project",label:"Project",value:P,margin:"normal",helperText:"Please Enter Project",fullWidth:!0,disabled:!0})),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(m.a,{id:"room_site",select:!0,label:"Site",value:R,onChange:function(e){return M(e.target.value)},SelectProps:{},helperText:"Please select Site",margin:"normal",fullWidth:!0},Te.map((function(e){return c.a.createElement(u.a,{key:e.id,value:e.id},e.site_name)})))),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(m.a,{id:"room_department",select:!0,label:"department",value:qe,onChange:function(e){return Ye(e.target.value)},SelectProps:{},helperText:"Please select Department",margin:"normal",fullWidth:!0},Me.filter((function(e){return e.site_id==R})).map((function(e){return c.a.createElement(u.a,{key:e.id,value:e.id},e.department_name)})))),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(m.a,{id:"room_building",select:!0,label:"building",value:Qe,onChange:function(e){return Xe(e.target.value)},SelectProps:{},helperText:"Please select Building",margin:"normal",fullWidth:!0},Ve.filter((function(e){return e.department_id==qe})).map((function(e){return c.a.createElement(u.a,{key:e.id,value:e.id},e.building_name)})))),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(m.a,{id:"room_floor",select:!0,label:"floor",value:aa,onChange:function(e){return ta(e.target.value)},SelectProps:{},helperText:"Please select Floor",margin:"normal",fullWidth:!0},$e.filter((function(e){return e.building_id==Qe})).map((function(e){return c.a.createElement(u.a,{key:e.id,value:e.id},e.floor_name)})))),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(m.a,{id:"room_number",label:"Room Number",value:H,onChange:function(e){return U(e.target.value)},margin:"normal",helperText:"Please Enter Room Number",fullWidth:!0})),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(m.a,{id:"room_height",label:"Ceiling Heights",value:J,onChange:function(e){return L(e.target.value)},margin:"normal",helperText:"Please Enter Ceiling Heights",fullWidth:!0})),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(m.a,{id:"room_ceiling",label:"Ceiling",value:G,onChange:function(e){return K(e.target.value)},margin:"normal",helperText:"Please Enter Ceiling",fullWidth:!0})),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(m.a,{id:"room_wall",label:"Wall",value:Z,onChange:function(e){return ee(e.target.value)},margin:"normal",helperText:"Please Enter Wall",fullWidth:!0})),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(m.a,{id:"room_day",select:!0,label:"Installation Estimate Days",value:le,onChange:function(e){return re(e.target.value)},SelectProps:{},helperText:"Please select Days",margin:"normal",fullWidth:!0},Object(l.a)(Array(24)).map((function(e,a){return c.a.createElement(u.a,{key:a,value:a},a)})))),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(m.a,{id:"room_hour",select:!0,label:"Installation Estimate Hours",value:oe,onChange:function(e){return ie(e.target.value)},SelectProps:{},helperText:"Please select Days",margin:"normal",fullWidth:!0},Object(l.a)(Array(10)).map((function(e,a){return c.a.createElement(u.a,{key:a,value:a},a)})))),c.a.createElement("div",{className:"col-md-6 col-12 d-flex align-items-center"},c.a.createElement(b.a,{component:"fieldset",required:!0},c.a.createElement(_.a,{component:"legend"},"Asbestos"),c.a.createElement(y.a,{className:"d-flex flex-row","aria-label":"gender",name:"gender",value:ye,onChange:function(e,a){return _e(a)}},c.a.createElement(O.a,{value:"1",control:c.a.createElement(N.a,{color:"primary"}),label:"Yes"}),c.a.createElement(O.a,{value:"0",control:c.a.createElement(N.a,{color:"primary"}),label:"No"})))),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(m.a,{id:"room_notes",label:"Notes",multiline:!0,rowsMax:"4",value:xe,onChange:function(e){return ke(e.target.value)},margin:"normal",fullWidth:!0})),c.a.createElement("div",{className:"col-md-12 col-12 my-4 text-center"},c.a.createElement("input",{type:"file",id:"room_img",accept:"image/*",multiple:!0,name:"room_img[]",style:{display:"none"},onChange:function(e){!function(e){var a=[],t=Object(l.a)(je);a.push(e.target.files);for(var r=0;r<a[0].length;r++)t.push(URL.createObjectURL(a[0][r]));Ee(t),a=Object(l.a)(de);for(var n=0;n<e.target.files.length;n++)a.push(e.target.files[n]);ue(a)}(e)}}),c.a.createElement(d.a,{className:"jr-btn",color:"primary",variant:"contained",onClick:function(e){document.getElementById("room_img").click()}},c.a.createElement(h.a,null)," Add Image")),je.map((function(e,a){return c.a.createElement("div",{className:"col-xl-3 col-lg-4 col-md-4 col-6",key:a},c.a.createElement("div",{className:"jr-card pb-2"},c.a.createElement("div",{className:"jr-card-thumb"},c.a.createElement("img",{className:"card-img-top img-fluid",alt:"products",src:e})),c.a.createElement("div",{className:"jr-card-social text-center"},c.a.createElement(E.a,{className:"jr-fab-btn bg-light-blue accent-2 text-white",onClick:function(){return na(a)}},c.a.createElement("i",{className:"zmdi zmdi-puzzle-piece zmdi-hc-2x"})),c.a.createElement(E.a,{className:"jr-fab-btn bg-light-blue accent-2 text-white",onClick:function(){return function(e){var a=Object(l.a)(je);a.splice(e,1),Ee(a),e<ge?he(ge-1):((a=Object(l.a)(de)).splice(e-ge,1),ue(a))}(a)}},c.a.createElement("i",{className:"zmdi zmdi-delete zmdi-hc-2x"})))))})),c.a.createElement("div",{className:"col-md-12 col-12 text-right"},c.a.createElement(d.a,{variant:"contained",color:"primary",className:"jr-btn",onClick:function(){return na()}},"Save"))))):c.a.createElement("div",{className:"loader-view",style:{height:ra>=1200?"calc(100vh - 259px)":"calc(100vh - 238px)"}},c.a.createElement(j.a,null)),c.a.createElement(i.NotificationContainer,null))}}}]);
//# sourceMappingURL=17.1284cb1f.chunk.js.map