(this["webpackJsonpjumbo-hooks"]=this["webpackJsonpjumbo-hooks"]||[]).push([[26],{466:function(e,a,t){"use strict";var l=t(0),n=t.n(l),c=t(482),o=t(483),r=function(e,a,t){return 0===t?"#/":"#/"+e.split(a)[0]+a};a.a=function(e){var a=e.title,t=e.match.path.substr(1),l=t.split("/");return n.a.createElement("div",{className:"page-heading d-sm-flex justify-content-sm-between align-items-sm-center"},n.a.createElement("h2",{className:"title mb-3 mb-sm-0"},a),n.a.createElement(c.a,{className:"mb-0",tag:"nav"},l.map((function(e,a){return n.a.createElement(o.a,{active:l.length===a+1,tag:l.length===a+1?"span":"a",key:a,href:r(t,e,a)},function(e){var a=e.split("-");return a.length>1?a[0].charAt(0).toUpperCase()+a[0].slice(1)+" "+a[1].charAt(0).toUpperCase()+a[1].slice(1):e.charAt(0).toUpperCase()+e.slice(1)}(e))}))))}},468:function(e,a,t){"use strict";var l=t(35);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=l(t(0)),c=(0,l(t(149)).default)(n.default.createElement("path",{d:"M14 10H2v2h12v-2zm0-4H2v2h12V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM2 16h8v-2H2v2z"}),"PlaylistAdd");a.default=c},481:function(e,a,t){"use strict";var l=t(6),n=t(1),c=t(0),o=(t(2),t(5)),r=t(8),i=t(169),s=t(13),d=c.forwardRef((function(e,a){var t=e.children,r=e.classes,d=e.className,m=e.color,u=void 0===m?"default":m,p=e.component,g=void 0===p?"button":p,b=e.disabled,f=void 0!==b&&b,h=e.disableFocusRipple,v=void 0!==h&&h,E=e.focusVisibleClassName,N=e.size,j=void 0===N?"large":N,x=e.variant,y=void 0===x?"round":x,O=Object(l.a)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return c.createElement(i.a,Object(n.a)({className:Object(o.a)(r.root,d,"round"!==y&&r.extended,"large"!==j&&r["size".concat(Object(s.a)(j))],f&&r.disabled,{primary:r.primary,secondary:r.secondary,inherit:r.colorInherit}[u]),component:g,disabled:f,focusRipple:!v,focusVisibleClassName:Object(o.a)(r.focusVisible,E),ref:a},O),c.createElement("span",{className:r.label},t))}));a.a=Object(r.a)((function(e){return{root:Object(n.a)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})(d)},488:function(e,a,t){"use strict";var l=t(10),n=t(0),c=t.n(n),o=t(249),r=t(441),i=t(399);a.a=function(e){var a=Object(n.useState)(!1),t=Object(l.a)(a,2),s=t[0],d=t[1],m=Object(n.useState)(void 0),u=Object(l.a)(m,2),p=u[0],g=u[1],b=e.selectedData,f=e.onSelectRow,h=e.menu_rows,v=h||[{content:"View",id:0},{content:"Modify",id:1},{content:"Delete",id:2}],E=function(){d(!1)};return c.a.createElement("div",null,c.a.createElement(i.a,{onClick:function(e){d(!0),g(e.currentTarget)}},c.a.createElement("i",{className:"zmdi zmdi-more-vert"})),c.a.createElement(o.a,{anchorEl:p,open:s,onClose:E,key:b.id,MenuListProps:{style:{width:150,paddingTop:0,paddingBottom:0}}},v.map((function(e){return c.a.createElement(r.a,{key:b+"-"+e.content,onClick:function(){E(),f(b,e.id)}},e.content)}))))}},529:function(e,a,t){"use strict";t.r(a);var l=t(10),n=t(0),c=t.n(n),o=t(460),r=t(466),i=t(3),s=t(558),d=t(559),m=t(557),u=t(560),p=t(555),g=t(580),b=t(556),f=t(579),h=t(443),v=t(252),E=t(399),N=t(578),j=t(468),x=t.n(j),y=t(488),O=t(53),w=t(15),C=t(26),S=t(440),k=t(99),_=t(577),P=t(563),z=t(484),F=t.n(z),R=t(458),D=t(441),M=t(439),B=t(481),T=t(74),A=[{id:"id",align:!1,disablePadding:!0,label:"ID"},{id:"floor_name",align:!0,disablePadding:!1,label:"Floor"},{id:"rooms_count",align:!0,disablePadding:!1,label:"Rooms"},{id:"status",align:!0,disablePadding:!1,label:"Status"},{id:"actions",align:!0,disablePadding:!1,numeric:"right",label:"Actions"}];a.default=function(e){var a=e.location.state?e.location.state.id:null,t=e.location.state?e.location.state.site_id:null,j=Object(n.useState)(!1),z=Object(l.a)(j,2),W=z[0],I=z[1],V=Object(n.useState)(!1),H=Object(l.a)(V,2),L=H[0],U=H[1],$=Object(n.useState)("asc"),Y=Object(l.a)($,2),J=Y[0],q=Y[1],G=Object(n.useState)("id"),K=Object(l.a)(G,2),Q=K[0],X=K[1],Z=Object(n.useState)(!1),ee=Object(l.a)(Z,2),ae=ee[0],te=ee[1],le=Object(w.e)((function(e){return e.settings})).width,ne=Object(C.g)(),ce=Object(n.useState)(0),oe=Object(l.a)(ce,2),re=oe[0],ie=oe[1],se=Object(n.useState)(10),de=Object(l.a)(se,2),me=de[0],ue=de[1],pe=Object(n.useState)([]),ge=Object(l.a)(pe,2),be=ge[0],fe=ge[1],he=Object(n.useState)([]),ve=Object(l.a)(he,2),Ee=ve[0],Ne=ve[1],je=Object(n.useState)([]),xe=Object(l.a)(je,2),ye=xe[0],Oe=xe[1],we=Object(n.useState)([]),Ce=Object(l.a)(we,2),Se=Ce[0],ke=Ce[1],_e=Object(n.useState)(null),Pe=Object(l.a)(_e,2),ze=Pe[0],Fe=Pe[1],Re=Object(n.useState)(""),De=Object(l.a)(Re,2),Me=De[0],Be=De[1],Te=Object(n.useState)(""),Ae=Object(l.a)(Te,2),We=Ae[0],Ie=Ae[1],Ve=Object(n.useState)(""),He=Object(l.a)(Ve,2),Le=He[0],Ue=He[1],$e=Object(n.useState)([]),Ye=Object(l.a)($e,2),Je=Ye[0],qe=Ye[1],Ge=Object(n.useState)(null),Ke=Object(l.a)(Ge,2),Qe=Ke[0],Xe=Ke[1],Ze=Object(n.useState)("https://via.placeholder.com/300x300"),ea=Object(l.a)(Ze,2),aa=ea[0],ta=ea[1],la=Object(n.useState)([]),na=Object(l.a)(la,2),ca=na[0],oa=na[1],ra=Object(n.useState)(""),ia=Object(l.a)(ra,2),sa=ia[0],da=ia[1],ma=Object(n.useState)(""),ua=Object(l.a)(ma,2),pa=ua[0],ga=ua[1],ba=Object(n.useState)(""),fa=Object(l.a)(ba,2),ha=fa[0],va=fa[1],Ea=Object(n.useState)(null),Na=Object(l.a)(Ea,2),ja=Na[0],xa=Na[1],ya=Object(n.useState)("https://via.placeholder.com/300x300"),Oa=Object(l.a)(ya,2),wa=Oa[0],Ca=Oa[1];Object(n.useEffect)((function(){Sa()}),[]);var Sa=function(){k.a.get(k.b+"building/buildingInfo",{params:{id:a}}).then((function(e){console.log(e.data),fe(e.data.floors),qe(e.data.floors),oa(e.data.building),te(!0)}))},ka=function(e,a){var t;"desc"===(t=Q===a&&"asc"===J?"desc":"asc")?Je.sort((function(e,t){return t[a]<e[a]?-1:1})):Je.sort((function(e,t){return e[a]<t[a]?-1:1})),q(t),X(a)},_a=function(e,l){0===l?ne.push({pathname:"/app/sites/site/floor",state:{id:e,site_id:t,building_id:a}}):1===l?Pa(e):2===l&&k.a.post(k.b+"floor/deleteFloor",{id:e}).then((function(e){Sa(),T.NotificationManager.info("You removed selected Floor")}))},Pa=function(e){Be(e),k.a.get(k.b+"floor/getFloorInfo",{params:{id:e,site_id:t,building_id:a}}).then((function(a){console.log(a.data),Oe(a.data.sites),Ne(a.data.departments),ke(a.data.buildings),Fe(a.data.department_id),e>0&&(Ie(a.data.floor.floor_name),Ue(a.data.floor.status),ta(a.data.floor.upload_img?k.c+"upload/img/"+a.data.floor.upload_img:"https://via.placeholder.com/300x300")),I(!0)}))},za=function(){I(!1)},Fa=function(){U(!1)};return c.a.createElement("div",{className:"app-wrapper"},c.a.createElement(r.a,{match:e.match,title:c.a.createElement(i.a,{id:"sidebar.sites.buildingInfo"})}),ae?c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"jr-card"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-6 col-sm-6 col-12"},c.a.createElement(o.a,{className:"size-120",alt:"Remy Sharp",src:k.c+"upload/img/"+ca.upload_img})),c.a.createElement("div",{className:"col-xl-9 col-lg-9 col-md-6 col-sm-6 col-12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12 text-right"},c.a.createElement("h2",null,c.a.createElement("strong",null,"building Name"))),c.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-6 col-sm-6 col-12 text-left"},c.a.createElement("h2",null,ca.building_name)),c.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12 text-right"},c.a.createElement("h2",null,c.a.createElement("strong",null,"Address"))),c.a.createElement("div",{className:"col-xl-8 col-lg-8 col-md-6 col-sm-6 col-12 text-left"},c.a.createElement("h2",null,ca.address)))),c.a.createElement("ul",{className:"list-inline d-sm-flex flex-sm-row jr-mbtn-list mb-0 jr-featured-content-right"},c.a.createElement("li",null,c.a.createElement(M.a,{color:"primary",onClick:function(){return e=a,void k.a.get(k.b+"building/getBuildingInfo",{params:{id:e,site_id:t}}).then((function(a){console.log(a.data),Ne(a.data.departments),e>0&&(Fe(a.data.building.department_id),da(a.data.building.building_name),ga(a.data.building.address),va(a.data.building.postcode),Ca(a.data.building.upload_img?k.c+"upload/img/"+a.data.building.upload_img:"https://via.placeholder.com/300x300")),U(!0)}));var e}},c.a.createElement(i.a,{id:"button.modify"}))),c.a.createElement("li",null,c.a.createElement(M.a,{color:"secondary",onClick:function(){var e;k.a.post(k.b+"building/deleteBuilding",{params:{id:e}}).then((function(e){ne.push({pathname:"/app/sites/site/info",state:{}})}))}},c.a.createElement(i.a,{id:"button.delete"}))))))),c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"jr-card"},c.a.createElement("div",null,c.a.createElement(h.a,{className:"table-header"},c.a.createElement("div",{className:"title"},c.a.createElement(v.a,{variant:"h6"},"Floors")),c.a.createElement("div",{className:"spacer"},c.a.createElement("div",{className:"col-md-3 col-lg-3 col-sx-6 col-6 ml-auto"},c.a.createElement(O.a,{placeholder:"Search ...",onChange:function(e){return a=e.target.value,void qe(be.filter((function(e){return e.floor_name.toLowerCase().includes(a.toLowerCase())})));var a}}))),c.a.createElement("div",{className:"actions"},c.a.createElement(N.a,{title:"New Floor"},c.a.createElement(E.a,{"aria-label":"New Floor",onClick:function(){return Pa(null)}},c.a.createElement(x.a,null))))),ae?c.a.createElement("div",{className:"flex-auto"},c.a.createElement("div",{className:"table-responsive-material"},c.a.createElement(s.a,{className:""},c.a.createElement(p.a,null,c.a.createElement(b.a,null,A.map((function(e){return c.a.createElement(m.a,{key:e.id,align:e.numeric},c.a.createElement(N.a,{title:"Sort",placement:e.numeric?"bottom-end":"bottom-start",enterDelay:300},c.a.createElement(f.a,{active:Q===e.id,direction:J,onClick:(a=e.id,function(e){ka(e,a)})},e.label)));var a})))),c.a.createElement(d.a,null,Je.slice(re*me,re*me+me).map((function(e){return c.a.createElement(b.a,{hover:!0,key:e.id,onClick:function(a){e.id},tabIndex:-1},c.a.createElement(m.a,null,e.id),c.a.createElement(m.a,null,c.a.createElement("div",{className:"user-profile d-flex flex-row align-items-center"},c.a.createElement(o.a,{alt:e.floor_name,src:k.c+"upload/img/"+e.upload_img,className:"user-avatar"}),c.a.createElement("div",{className:"user-detail"},c.a.createElement("h5",{className:"user-name"},e.floor_name)))),c.a.createElement(m.a,null,e.rooms_count),c.a.createElement(m.a,null,e.status?"Yes":"No"),c.a.createElement(m.a,{className:"text-right"},c.a.createElement(y.a,{key:e.id,selectedData:e.id,onSelectRow:_a})))}))),c.a.createElement(u.a,null,c.a.createElement(b.a,null,c.a.createElement(g.a,{count:Je.length,rowsPerPage:me,page:re,onChangePage:function(e,a){ie(a)},onChangeRowsPerPage:function(e){ue(e.target.value)}}))))),c.a.createElement(T.NotificationContainer,null)):c.a.createElement("div",{className:"loader-view",style:{height:le>=1200?"calc(100vh - 259px)":"calc(100vh - 238px)"}},c.a.createElement(S.a,null)),c.a.createElement(_.a,{key:"building-save",className:"modal-box",toggle:Fa,isOpen:L,fullwidth:"true"},c.a.createElement(P.a,null,a?"Modify Building":"Add Building",c.a.createElement(E.a,{className:"text-grey",onClick:Fa},c.a.createElement(F.a,null))),c.a.createElement("div",{className:"modal-box-content"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-xl-3 col-lg-4 col-md-5 col-12"},c.a.createElement("div",{className:"jr-card pb-2"},c.a.createElement("div",{className:"jr-card-thumb"},c.a.createElement("img",{className:"card-img-top img-fluid",alt:"products",src:wa})),c.a.createElement("input",{type:"file",id:"upload_img",accept:"image/*",name:"upload_img",style:{display:"none"},onChange:function(e){return function(e){e.preventDefault();var a=new FileReader,t=e.target.files[0];a.onloadend=function(){xa(t),Ca(a.result)},a.readAsDataURL(t)}(e)}}),c.a.createElement("div",{className:"jr-card-social text-right"},c.a.createElement(B.a,{className:"jr-fab-btn bg-secondary text-white jr-btn-fab-xs mb-3",onClick:function(e){document.getElementById("upload_img").click()}},c.a.createElement("i",{className:"zmdi zmdi-cloud-upload zmdi-hc-1x"}))))),c.a.createElement("div",{className:"col-xl-9 col-lg-8 col-md-7 col-12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(R.a,{id:"departments",select:!0,label:"departments",value:ze,onChange:function(e){return Fe(e.target.value)},SelectProps:{},helperText:"Please select Department",margin:"normal",fullWidth:!0},Ee.map((function(e){return c.a.createElement(D.a,{key:e.id,value:e.id},e.department_name)})))),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(R.a,{id:"building_name",label:"Building Name",value:sa,onChange:function(e){return da(e.target.value)},margin:"normal",helperText:"Please Enter Building Name",fullWidth:!0})),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(R.a,{id:"address",label:"Address",value:pa,onChange:function(e){return ga(e.target.value)},margin:"normal",helperText:"Please Enter Address",fullWidth:!0})),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(R.a,{id:"postcode",label:"Postcode",value:ha,onChange:function(e){return va(e.target.value)},margin:"normal",helperText:"Please Enter Postcode",fullWidth:!0})))))),c.a.createElement("div",{className:"modal-box-footer d-flex flex-row"},c.a.createElement(M.a,{onClick:Fa,color:"secondary"},"Cancel"),c.a.createElement(M.a,{onClick:function(){Fa();var e=new FormData;e.append("id",a),e.append("site_id",t),e.append("department_id",ze),e.append("building_name",sa),e.append("address",pa),e.append("postcode",ha),e.append("upload_img",ja),k.a.post(k.b+"building/updateBuilding",e).then((function(e){console.log(e.data),"success"===e.data.status?(T.NotificationManager.success(e.data.msg,"Success!",5e3,(function(){})),Sa()):"error"===e.data.status&&T.NotificationManager.error(e.data.msg,"Error!",5e3,(function(){}))})).catch((function(e){console.log("error:",e)}))},color:"primary"},"Save"))),c.a.createElement(_.a,{key:"floor-save",className:"modal-box",toggle:za,isOpen:W},c.a.createElement(P.a,null,Me?"Modify floor":"Add Floor",c.a.createElement(E.a,{className:"text-grey",onClick:za},c.a.createElement(F.a,null))),c.a.createElement("div",{className:"modal-box-content"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-xl-3 col-lg-4 col-md-5 col-12"},c.a.createElement("div",{className:"jr-card pb-2"},c.a.createElement("div",{className:"jr-card-thumb"},c.a.createElement("img",{className:"card-img-top img-fluid",alt:"products",src:aa})),c.a.createElement("input",{type:"file",id:"upload_img",accept:"image/*",name:"upload_img",style:{display:"none"},onChange:function(e){return function(e){e.preventDefault();var a=new FileReader,t=e.target.files[0];a.onloadend=function(){Xe(t),ta(a.result)},a.readAsDataURL(t)}(e)}}),c.a.createElement("div",{className:"jr-card-social text-right"},c.a.createElement(B.a,{className:"jr-fab-btn bg-secondary text-white jr-btn-fab-xs mb-3",onClick:function(e){document.getElementById("upload_img").click()}},c.a.createElement("i",{className:"zmdi zmdi-cloud-upload zmdi-hc-1x"}))))),c.a.createElement("div",{className:"col-xl-9 col-lg-8 col-md-7 col-12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(R.a,{id:"sitename",select:!0,label:"Site Name",value:t,SelectProps:{},helperText:"Please select Site Name",margin:"normal",fullWidth:!0,disabled:!0},ye.map((function(e){return c.a.createElement(D.a,{key:e.id,value:e.id},e.site_name)})))),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(R.a,{id:"departmentname",select:!0,label:"Department Name",value:ze,onChange:function(e){return Fe(e.target.value)},SelectProps:{},helperText:"Please select Department Name",margin:"normal",fullWidth:!0,disabled:!0},Ee.map((function(e){return c.a.createElement(D.a,{key:e.id,value:e.id},e.department_name)})))),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(R.a,{id:"buildingname",select:!0,label:"Building Name",value:a,onChange:function(e){return da(e.target.value)},SelectProps:{},helperText:"Please select Building Name",margin:"normal",fullWidth:!0,disabled:!0},Se.map((function(e){return c.a.createElement(D.a,{key:e.id,value:e.id},e.building_name)})))),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(R.a,{id:"floor_name",label:"Floor",value:We,onChange:function(e){return Ie(e.target.value)},margin:"normal",helperText:"Please Enter Floor",fullWidth:!0})),c.a.createElement("div",{className:"col-md-6 col-12"},c.a.createElement(R.a,{id:"floorstatus",select:!0,label:"Status",value:Le,onChange:function(e){return Ue(e.target.value)},SelectProps:{},helperText:"Please select Status",margin:"normal",fullWidth:!0},[{id:1,content:"Yes"},{id:0,content:"No"}].map((function(e){return c.a.createElement(D.a,{key:e.id,value:e.id},e.content)})))))))),c.a.createElement("div",{className:"modal-box-footer d-flex flex-row"},c.a.createElement(M.a,{onClick:za,color:"secondary"},"Cancel"),c.a.createElement(M.a,{onClick:function(){za();var e=new FormData;e.append("id",Me),e.append("site_id",t),e.append("department_id",ze),e.append("building_id",a),e.append("floor_name",We),e.append("status",Le),e.append("upload_img",Qe),k.a.post(k.b+"floor/updateFloor",e).then((function(e){console.log(e.data),"success"===e.data.status?(T.NotificationManager.success(e.data.msg,"Success!",5e3,(function(){})),Sa()):"error"===e.data.status&&T.NotificationManager.error(e.data.msg,"Error!",5e3,(function(){}))})).catch((function(e){console.log("error:",e)}))},color:"primary"},"Save"))))))):c.a.createElement("div",{className:"loader-view",style:{height:le>=1200?"calc(100vh - 259px)":"calc(100vh - 238px)"}},c.a.createElement(S.a,null)))}}}]);
//# sourceMappingURL=26.9d9effa1.chunk.js.map